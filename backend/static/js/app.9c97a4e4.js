(function(e){function t(t){for(var i,s,r=t[0],l=t[1],c=t[2],u=0,h=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&h.push(o[s][0]),o[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);d&&d(t);while(h.length)h.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,r=1;r<n.length;r++){var l=n[r];0!==o[l]&&(i=!1)}i&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},o={app:0},a=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/static/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0832":function(e,t,n){},"165b":function(e,t,n){},"19ad":function(e,t,n){"use strict";n("dce0")},"1b6b":function(e,t,n){"use strict";n("a7e4")},"1e0a":function(e,t,n){},"23fd":function(e,t,n){"use strict";n("9612")},3150:function(e,t,n){"use strict";n("6044")},"336f":function(e,t,n){},"430c":function(e,t,n){"use strict";n("336f")},"54c5":function(e,t,n){},5870:function(e,t,n){"use strict";n("bf3f")},5886:function(e,t,n){"use strict";n("db79")},"5cdb":function(e,t,n){},6044:function(e,t,n){},"6a85":function(e,t,n){"use strict";n("54c5")},7262:function(e,t,n){},7402:function(e,t,n){"use strict";n("7262")},"7d4a":function(e,t,n){},"818f":function(e,t,n){"use strict";n("1e0a")},"86f5":function(e,t,n){},9612:function(e,t,n){},"9e53":function(e,t,n){"use strict";n("7d4a")},"9efe":function(e,t,n){"use strict";n("da3f")},a1f4:function(e,t,n){},a7e4:function(e,t,n){},a983:function(e,t,n){"use strict";n("ff60")},ad9f:function(e,t,n){"use strict";n("0832")},b2e1:function(e,t,n){},bf3f:function(e,t,n){},c3cb:function(e,t,n){"use strict";n("165b")},c3d1:function(e,t,n){"use strict";n("b2e1")},cd49:function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"number",(function(){return z})),n.d(i,"selectboxes",(function(){return M})),n.d(i,"multiplechoice",(function(){return Q})),n.d(i,"longtext",(function(){return ne})),n.d(i,"shorttext",(function(){return ae})),n.d(i,"date",(function(){return le})),n.d(i,"datetime",(function(){return ue})),n.d(i,"text_exposition",(function(){return be})),n.d(i,"youtube_exposition",(function(){return je})),n.d(i,"image_exposition",(function(){return ge}));var o={};n.r(o),n.d(o,"number",(function(){return Oi})),n.d(o,"selectboxes",(function(){return Bi})),n.d(o,"multiplechoice",(function(){return io})),n.d(o,"longtext",(function(){return bo})),n.d(o,"shorttext",(function(){return yo})),n.d(o,"date",(function(){return Uo})),n.d(o,"datetime",(function(){return Ao})),n.d(o,"text_exposition",(function(){return Ho})),n.d(o,"youtube_exposition",(function(){return Po})),n.d(o,"image_exposition",(function(){return Xo}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),s=Object(a["L"])("data-v-68b3d014");Object(a["u"])("data-v-68b3d014");var r={id:"page"};Object(a["r"])();var l=s((function(e,t,n,i,o,s){var l=Object(a["y"])("router-view");return Object(a["q"])(),Object(a["d"])("div",r,[Object(a["h"])(l)])})),c=n("d4ec"),d=n("bee2"),u=n("262e"),h=n("2caf"),p=n("9ab4"),b=n("ce1f"),f=function(e){Object(u["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(d["a"])(n,[{key:"created",value:function(){console.log(this.$router.currentRoute)}}]),n}(b["b"]);f=Object(p["a"])([Object(b["a"])({components:{}})],f);var m=f;n("a983");m.render=l,m.__scopeId="data-v-68b3d014";var O=m,j=n("9483");Object(j["a"])("".concat("/static/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var v=n("6c02"),_=(n("b0c0"),{key:0}),g={class:"flex row ca"},q=Object(a["h"])("hr",null,null,-1),y={key:0},w={key:0},x={key:1,class:"requiredticker"},k={key:0,class:"flex row ca",style:{height:"70px"}},C=Object(a["h"])("button",{type:"submit",class:"add_field add_section hoverable submit"}," Submeter ",-1),S={key:0,class:"flex row ca",style:{height:"70px"}},J={key:1},V=Object(a["g"])(" Houve um erro interno na edição do formulário."),U=Object(a["h"])("br",null,null,-1),I={key:1};function T(e,t,n,i,o,s){return o.api_data&&o.event?(Object(a["q"])(),Object(a["d"])("div",_,[Object(a["h"])("h1",null,[Object(a["g"])(Object(a["B"])(o.api_data.title),1),o.event?(Object(a["q"])(),Object(a["d"])(a["a"],{key:0},[Object(a["g"])(" ("+Object(a["B"])(o.event.name)+") ",1)],64)):Object(a["e"])("",!0)]),Object(a["h"])("div",g,[Object(a["h"])("form",{id:"form-area",class:"flex column",onSubmit:t[3]||(t[3]=Object(a["K"])((function(){return s.submit&&s.submit.apply(s,arguments)}),["prevent"]))},[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(o.api_data.form.sections,(function(t,n){return Object(a["q"])(),Object(a["d"])("div",{key:n},[q,Object(a["h"])("h2",null,[o.api_data.form.hide_section_numbers?Object(a["e"])("",!0):(Object(a["q"])(),Object(a["d"])("span",y,Object(a["B"])(n+1)+". ",1)),Object(a["g"])(Object(a["B"])(t.section_name),1)]),(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(t.questions,(function(i,r){return Object(a["q"])(),Object(a["d"])("div",{key:r,set:e.qid="s"+n+"_q"+r,class:"flex column ca vla no-bottom question"},[Object(a["h"])("label",{class:"question-field",for:e.qid},[Object(a["h"])("h3",null,[o.api_data.form.hide_question_numbers||t.hide_question_numbers?Object(a["e"])("",!0):(Object(a["q"])(),Object(a["d"])("span",w,Object(a["B"])(r+1)+". ",1)),Object(a["g"])(Object(a["B"])(i.question),1),i.required?(Object(a["q"])(),Object(a["d"])("span",x,"*")):Object(a["e"])("",!0)])],8,["for"]),(Object(a["q"])(),Object(a["d"])(Object(a["z"])(i.properties.field_type),{class:"flex column ca vla",question:i,"question-index":r,"section-index":n,qid:e.qid,onUpdate:s.updateAnswer},null,8,["question","question-index","section-index","qid","onUpdate"]))],8,["set"])})),128))])})),128)),void 0===o.response?(Object(a["q"])(),Object(a["d"])("div",k,[Object(a["h"])("a",{class:"add_field add_section hoverable cancel",href:"#leave",onClick:t[1]||(t[1]=function(e){return s.leave()})}," Cancelar "),C])):(Object(a["q"])(),Object(a["d"])(a["a"],{key:1},[void 0!==o.response.id?(Object(a["q"])(),Object(a["d"])("h3",S," Formulário enviado com sucesso. Será redirecionado em "+Object(a["B"])(o.api_data.redirect_delay)+" segundos. ",1)):(Object(a["q"])(),Object(a["d"])("div",J,[V,U,Object(a["J"])(Object(a["h"])("textarea",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.response=e})},null,512),[[a["G"],o.response]])]))],64))],32)])])):(Object(a["q"])(),Object(a["d"])("div",I," Loading "))}var F=n("1da1"),D=(n("96cf"),n("d3b7"),n("ac1f"),n("1276"),n("498a"),Object(a["L"])("data-v-38937386"));Object(a["u"])("data-v-38937386");var B={key:0,class:"flex row",style:{"margin-right":"20px"}},G={class:"flex row"};Object(a["r"])();var R=D((function(e,t,n,i,o,s){return Object(a["q"])(),Object(a["d"])("div",{class:["flex row",o.invalid&&(void 0===o.answer||""==o.answer||o.answer<n.question.properties.min||o.answer>n.question.properties.max)?o.invalid:""]},["slider"==n.question.properties.style?(Object(a["q"])(),Object(a["d"])("span",B,[Object(a["g"])(Object(a["B"])(n.question.properties.prefix)+" ",1),Object(a["J"])(Object(a["h"])("input",{id:n.qid,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.answer=e}),type:"range",class:"spaced",name:n.qid,min:n.question.properties.min,max:n.question.properties.max,step:Math.pow(10,-n.question.properties.decimal_places),required:n.question.required,onChange:t[2]||(t[2]=function(){return s.update&&s.update.apply(s,arguments)}),onInvalid:t[3]||(t[3]=function(e){return o.invalid="invalid"})},null,40,["id","name","min","max","step","required"]),[[a["G"],o.answer]]),Object(a["g"])(" "+Object(a["B"])(n.question.properties.suffix),1)])):Object(a["e"])("",!0),Object(a["h"])("span",G,[Object(a["J"])(Object(a["h"])("input",{id:"slider"==n.question.properties.style?n.qid+"_alt":n.qid,"onUpdate:modelValue":t[4]||(t[4]=function(e){return o.answer=e}),type:"number",name:n.qid,min:n.question.properties.min,max:n.question.properties.max,step:Math.pow(10,-n.question.properties.decimal_places),required:n.question.required,onChange:t[5]||(t[5]=function(){return s.update&&s.update.apply(s,arguments)}),onInvalid:t[6]||(t[6]=function(e){return o.invalid="invalid"})},null,40,["id","name","min","max","step","required"]),[[a["G"],o.answer]])])],2)})),A=(n("a9e3"),{name:"NumberField",props:["question","questionIndex","sectionIndex","qid","value"],emits:["update"],data:function(){return{answer:void 0!==this.value?this.value:this.question.properties.default,invalid:!1}},mounted:function(){this.update()},methods:{update:function(){this.$emit("update",{sectionIndex:this.sectionIndex,questionIndex:this.questionIndex,answer:void 0!==this.answer?Number(this.answer):this.answer})}}});n("f4be");A.render=R,A.__scopeId="data-v-38937386";var z=A,$={key:1};function H(e,t,n,i,o,s){return Object(a["q"])(),Object(a["d"])("div",{class:o.invalid&&" "!=o.valid?o.invalid:""},[n.question.required||n.question.properties.min_selected||n.question.properties.max_selected?Object(a["J"])((Object(a["q"])(),Object(a["d"])("input",{key:o.valid,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.valid=e}),type:"text",oninvalid:"setCustomValidity('Por favor confirme a informação introduzida')",pattern:" "==o.valid?void 0:".a",class:"warning-field removable",size:o.valid.length,onkeydown:"return false;",name:n.qid+"_validator",onInvalid:t[2]||(t[2]=function(e){return o.invalid="invalid"})},null,40,["pattern","size","name"])),[[a["G"],o.valid]]):Object(a["e"])("",!0),(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(n.question.properties.options,(function(e,i){return Object(a["q"])(),Object(a["d"])("div",{key:i,class:"flex row vca"},[Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_o"+i,"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.answer=e}),type:"checkbox",name:n.qid+"_o"+i,value:i,onChange:t[4]||(t[4]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id","name","value"]),[[a["D"],o.answer]]),Object(a["h"])("label",{class:"spaced",for:n.qid+"_o"+i},Object(a["B"])(e),9,["for"])])})),128)),n.question.properties.allowed_other?(Object(a["q"])(),Object(a["d"])("div",$,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(o.others_selected,(function(e,i){return Object(a["q"])(),Object(a["d"])("div",{id:n.qid+"_other"+i+"_parent",key:i,class:"removable"},[Object(a["h"])("div",{class:o.invalid&&o.others_selected[i]&&(o.others[i].length<n.question.properties.min_length||o.others[i].length>n.question.properties.max_length)?o.invalid:""},[Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_other"+i,"onUpdate:modelValue":function(e){return o.others_selected[i]=e},type:"checkbox",name:n.qid+"_other"+i,value:o.others[i],onChange:function(e){return s.add_new(i)}},null,40,["id","onUpdate:modelValue","name","value","onChange"]),[[a["D"],o.others_selected[i]]]),Object(a["h"])("label",{class:"spaced",for:n.qid+"_other"+i},Object(a["B"])(n.question.properties.other_string),9,["for"]),0!=n.question.properties.max_length&&o.others_selected[i]?Object(a["J"])((Object(a["q"])(),Object(a["d"])("input",{key:0,"onUpdate:modelValue":function(e){return o.others[i]=e},type:"text",placeholder:n.question.properties.placeholder,minlength:n.question.properties.min_length,maxlength:n.question.properties.max_length,required:n.question.properties.min_length,onChange:t[5]||(t[5]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["onUpdate:modelValue","placeholder","minlength","maxlength","required"])),[[a["G"],o.others[i]]]):Object(a["e"])("",!0)],2)],8,["id"])})),128))])):Object(a["e"])("",!0)],2)}n("99af"),n("a434");var N={name:"ShortTextField",props:["question","questionIndex","sectionIndex","qid","value"],emits:["update"],data:function(){return{others:[],others_selected:[!1],full:!1,mounted:!1,valid:" ",invalid:"",answer:"undefined"!==typeof this.value?this.value:"undefined"!==typeof this.question.properties.default?this.question.properties.default:[],translation:{at_least:"Deve selecionar pelo menos ",at_most:"Deve selecionar no máximo ",options:" opções.",mandatoryField:"Este é um campo obrigatório."}}},mounted:function(){this.update();var e=0;this.answer.reverse();for(var t=this.answer.length-1;t>=0;t--)"number"!=typeof this.answer[t]&&(this.others_selected[e]=!0,this.add_new(e),this.others[e++]=this.answer[t],this.answer.pop())},methods:{validate:function(e){for(var t=0,n=0,i=0;i<e.length;i++)e[i]===parseInt(e[i],10)?t++:n++;var o=t+n;if(0==e.length){if(this.question.required)return this.translation.mandatoryField}else{if("undefined"!==typeof this.question.properties.min_selected&&o<this.question.properties.min_selected)return this.translation.at_least+this.question.properties.min_selected+this.translation.options;if("undefined"!==typeof this.question.properties.max_selected&&o>this.question.properties.max_selected)return this.translation.at_most+this.question.properties.max_selected+this.translation.options}return" "},update:function(){this.$nextTick((function(){var e=this.answer.concat(this.others);this.valid=this.validate(e),this.$emit("update",{sectionIndex:this.sectionIndex,questionIndex:this.questionIndex,answer:0==e.length?void 0:e,valid:this.valid})}))},add_new:function(e){var t=this;return Object(F["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(1!=t.others_selected[e]){n.next=5;break}t.others[e]="","undefined"===typeof t.question.properties.max_other||e+1<t.question.properties.max_other?(t.others_selected.push(!1),i=e+1,t.$nextTick(Object(F["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return document.getElementById(this.qid+"_other"+i+"_parent").style.opacity=0,e.next=3,new Promise((function(e){return setTimeout(e,1)}));case 3:document.getElementById(this.qid+"_other"+i+"_parent").style.opacity=1;case 4:case"end":return e.stop()}}),e,this)}))))):t.full=!0,n.next=13;break;case 5:if(!(t.others_selected.length>1)){n.next=13;break}return document.getElementById(t.qid+"_other"+e+"_parent").style.opacity=0,n.next=9,new Promise((function(e){return setTimeout(e,100)}));case 9:t.others.splice(e,1),t.others_selected.splice(e,1),t.full&&(t.others_selected.push(!1),t.full=!1),document.getElementById(t.qid+"_other"+e+"_parent").style.opacity=1;case 13:t.update();case 14:case"end":return n.stop()}}),n)})))()}}};n("23fd");N.render=H;var M=N,P={key:0},L=Object(a["h"])("br",null,null,-1),E={key:1},X=Object(a["h"])("option",{value:""},null,-1);function Y(e,t,n,i,o,s){return Object(a["q"])(),Object(a["d"])("div",{class:!o.invalid||void 0!==o.valid&&""!=o.valid?"":o.invalid},["radio"==n.question.properties.style?(Object(a["q"])(),Object(a["d"])("div",P,[Object(a["J"])((Object(a["q"])(),Object(a["d"])("input",{key:o.valid,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.valid=e}),type:"text",oninvalid:"setCustomValidity('Isto é um campo obrigatório')",required:"",onkeydown:"return false;",style:{"caret-color":"transparent !important",cursor:"default",opacity:"0",width:"0px",height:"0px"},name:n.qid+"_validator",onInvalid:t[2]||(t[2]=function(e){return o.invalid="invalid"})},null,40,["name"])),[[a["G"],o.valid]]),(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(n.question.properties.options,(function(e,i){return Object(a["q"])(),Object(a["d"])("div",{key:i,class:"flex row vca"},[Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_o"+i,"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.answer=e}),type:"radio",name:n.qid,value:i,onChange:t[4]||(t[4]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id","name","value"]),[[a["E"],o.answer]]),Object(a["h"])("label",{class:"spaced",for:n.qid+"_o"+i},Object(a["B"])(e),9,["for"]),L])})),128)),n.question.properties.allowed_other?(Object(a["q"])(),Object(a["d"])("div",{key:0,class:["flex row vca",o.invalid&&o.answer&&o.answer!=parseInt(o.answer)&&(o.other_value.length<n.question.properties.min_length||o.other_value.length>n.question.properties.max_length)?o.invalid:""]},[Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_other","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.answer=e}),type:"radio",name:n.qid,value:"other",onChange:t[6]||(t[6]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id","name"]),[[a["E"],o.answer]]),Object(a["h"])("label",{class:"spaced",for:n.qid+"_other"},Object(a["B"])(n.question.properties.other_string),9,["for"]),0!=n.question.properties.max_length&&o.answer&&o.answer!=parseInt(o.answer)?Object(a["J"])((Object(a["q"])(),Object(a["d"])("input",{key:0,"onUpdate:modelValue":t[7]||(t[7]=function(e){return o.other_value=e}),type:"text",placeholder:n.question.properties.placeholder,minlength:n.question.properties.min_length,maxlength:n.question.properties.max_length,required:n.question.properties.min_length,onChange:t[8]||(t[8]=function(){return s.update&&s.update.apply(s,arguments)}),onInvalid:t[9]||(t[9]=function(e){return o.invalid="invalid"})},null,40,["placeholder","minlength","maxlength","required"])),[[a["G"],o.other_value]]):Object(a["e"])("",!0)],2)):Object(a["e"])("",!0),n.question.required?Object(a["e"])("",!0):(Object(a["q"])(),Object(a["d"])("button",{key:1,type:"button",onClick:t[10]||(t[10]=function(){return s.clearSelection&&s.clearSelection.apply(s,arguments)})}," Limpar Seleção "))])):(Object(a["q"])(),Object(a["d"])("div",E,[Object(a["J"])(Object(a["h"])("select",{id:n.qid,"onUpdate:modelValue":t[11]||(t[11]=function(e){return o.answer=e}),name:n.qid,required:n.question.required,onInvalid:t[12]||(t[12]=function(e){return o.invalid="invalid"}),onChange:t[13]||(t[13]=function(){return s.update&&s.update.apply(s,arguments)})},[X,(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(n.question.properties.options,(function(e,t){return Object(a["q"])(),Object(a["d"])("option",{id:n.qid+"_o"+t,key:t,value:t,selected:n.question.properties.default==t},Object(a["B"])(e),9,["id","value","selected"])})),128))],40,["id","name","required"]),[[a["F"],o.answer]])]))],2)}var K={name:"MultipleChoiceField",props:["question","questionIndex","sectionIndex","qid","value"],emits:["update"],data:function(){return{answer:void 0!==this.value?this.value!=parseInt(this.value,10)?"other":this.value:this.question.properties.default,other_value:this.value,valid:"",translation:{required:"Isto é um campo obrigatório"},invalid:""}},mounted:function(){this.update()},methods:{clearSelection:function(){this.answer=void 0,this.update()},update:function(){"undefined"===typeof this.answer&&this.question.required?this.valid="":this.valid="VALID",this.$emit("update",{sectionIndex:this.sectionIndex,questionIndex:this.questionIndex,answer:"other"==this.answer?this.other_value:this.answer})}}};K.render=Y;var Q=K,W=Object(a["L"])("data-v-38c35be2");Object(a["u"])("data-v-38c35be2");var Z={key:0,class:"flex row width-100 max-char"};Object(a["r"])();var ee=W((function(e,t,n,i,o,s){return Object(a["q"])(),Object(a["d"])("div",{class:["flex row width-100",o.invalid&&((void 0===o.answer||""==o.answer)&&n.question.required||o.answer.length>0&&(o.answer.length<n.question.properties.min_length||o.answer.length>n.question.properties.maxlength))?o.invalid:""]},[n.question.properties.max_length?(Object(a["q"])(),Object(a["d"])("span",Z,"Caracteres: "+Object(a["B"])(o.answer.length)+"/"+Object(a["B"])(n.question.properties.max_length),1)):Object(a["e"])("",!0),Object(a["J"])(Object(a["h"])("textarea",{id:n.qid,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.answer=e}),class:"flex row width-100",name:n.qid,rows:n.question.properties.default_lines,minlength:n.question.properties.min_length,maxlength:n.question.properties.max_length,placeholder:n.question.properties.placeholder,onChange:t[2]||(t[2]=function(){return s.update&&s.update.apply(s,arguments)}),onInvalid:t[3]||(t[3]=function(e){return o.invalid="invalid"})},null,40,["id","name","rows","minlength","maxlength","placeholder"]),[[a["G"],o.answer]])],2)})),te={name:"LongTextField",props:["question","questionIndex","sectionIndex","qid","value"],emits:["update"],data:function(){return{answer:void 0!==this.value?this.value:this.question.properties.default,invalid:!1}},mounted:function(){this.update()},methods:{update:function(){this.$emit("update",{sectionIndex:this.sectionIndex,questionIndex:this.questionIndex,answer:this.answer})}}};n("3150");te.render=ee,te.__scopeId="data-v-38c35be2";var ne=te;function ie(e,t,n,i,o,s){return Object(a["q"])(),Object(a["d"])("div",{class:["flex row",o.invalid&&(void 0===o.answer||""==o.answer||o.answer.length<n.question.properties.min_length||o.answer.length>n.question.properties.maxlength)?o.invalid:""]},[Object(a["J"])(Object(a["h"])("input",{id:n.qid,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.answer=e}),type:"text",name:n.qid,placeholder:n.question.properties.placeholder,minlength:n.question.properties.min_length,maxlength:n.question.properties.max_length,required:n.question.required,onChange:t[2]||(t[2]=function(){return s.update&&s.update.apply(s,arguments)}),onInvalid:t[3]||(t[3]=function(e){return o.invalid="invalid"})},null,40,["id","name","placeholder","minlength","maxlength","required"]),[[a["G"],o.answer]])],2)}var oe={name:"ShortTextField",props:["question","questionIndex","sectionIndex","qid","value"],emits:["update"],data:function(){return{answer:void 0!==this.value?this.value:this.question.properties.default,invalid:""}},mounted:function(){this.update()},methods:{update:function(){this.$emit("update",{sectionIndex:this.sectionIndex,questionIndex:this.questionIndex,answer:this.answer})}}};oe.render=ie;var ae=oe;function se(e,t,n,i,o,s){return Object(a["q"])(),Object(a["d"])("div",{class:["flex row",!o.invalid||void 0!==o.answer&&""!=o.answer?"":o.invalid]},[Object(a["J"])(Object(a["h"])("input",{id:n.qid,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.answer=e}),type:"date",name:n.qid,min:n.question.properties.begin,max:n.question.properties.end,required:this.question.required,onChange:t[2]||(t[2]=function(){return s.update&&s.update.apply(s,arguments)}),onInvalid:t[3]||(t[3]=function(e){return o.invalid="invalid"})},null,40,["id","name","min","max","required"]),[[a["G"],o.answer]])],2)}var re={name:"DateField",props:["question","questionIndex","sectionIndex","qid","value"],emits:["update"],data:function(){return{answer:void 0!==this.value?this.value:this.question.properties.default,invalid:!1}},mounted:function(){this.update()},methods:{update:function(){this.$emit("update",{sectionIndex:this.sectionIndex,questionIndex:this.questionIndex,answer:this.answer})}}};re.render=se;var le=re;function ce(e,t,n,i,o,s){return Object(a["q"])(),Object(a["d"])("div",{class:["flex row",!o.invalid||void 0!==o.answer&&""!=o.answer?"":o.invalid]},[Object(a["J"])(Object(a["h"])("input",{id:n.qid,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.answer=e}),type:"datetime-local",name:n.qid,min:n.question.properties.begin,max:n.question.properties.end,required:this.question.required,onChange:t[2]||(t[2]=function(){return s.update&&s.update.apply(s,arguments)}),onInvalid:t[3]||(t[3]=function(e){return o.invalid="invalid"})},null,40,["id","name","min","max","required"]),[[a["G"],o.answer]])],2)}var de={name:"DateField",props:["question","questionIndex","sectionIndex","qid","value"],emits:["update"],data:function(){return{answer:void 0!==this.value?this.value:this.question.properties.default,invalid:!1}},mounted:function(){this.update()},methods:{update:function(){this.$emit("update",{sectionIndex:this.sectionIndex,questionIndex:this.questionIndex,answer:this.answer})}}};de.render=ce;var ue=de;function he(e,t,n,i,o,s){return Object(a["q"])(),Object(a["d"])("div",{id:n.qid,class:"flex row"},Object(a["B"])(n.question.properties.content),9,["id"])}var pe={name:"DescriptionField",props:["question","questionIndex","sectionIndex","qid"],emits:["update"],mounted:function(){this.update()},methods:{update:function(){this.$emit("update",{sectionIndex:this.sectionIndex,questionIndex:this.questionIndex})}}};pe.render=he;var be=pe,fe={class:"flex row width-100"};function me(e,t,n,i,o,s){return Object(a["q"])(),Object(a["d"])("div",fe,[Object(a["h"])("iframe",{id:n.qid,class:"max-width-100",width:"560",height:"315",src:"https://www.youtube.com/embed/"+n.question.properties.content,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,["id","src"])])}var Oe={name:"YoutubeField",props:["question","questionIndex","sectionIndex","qid"]};Oe.render=me;var je=Oe;function ve(e,t,n,i,o,s){return Object(a["q"])(),Object(a["d"])("img",{id:n.qid,src:n.question.properties.content,alt:""},null,8,["id","src"])}var _e={name:"ImageField",props:["question","questionIndex","sectionIndex","qid"],emits:["update"],mounted:function(){this.update()},methods:{update:function(){this.$emit("update",{sectionIndex:this.sectionIndex,questionIndex:this.questionIndex,answer:this.answer})}}};_e.render=ve;var ge=_e,qe=n("bc3a"),ye=n.n(qe),we=ye.a.create({baseURL:"/forms/api/"}),xe={name:"CreateResponse",components:i,data:function(){return{api_data:void 0,answers:[],validation:[],response:void 0,event:void 0}},created:function(){var e=this;we.get("form/".concat(this.$route.params.id)).then((function(t){return e.initializeData(t)})),this.$route.query.event&&we.get("event/".concat(this.$route.query.event)).then((function(t){return e.event=t.data}))},methods:{leave:function(){confirm("De certeza que quer sair? As suas alterações serão perdidas.")&&(location.href="/forms")},submit:function(){var e=this;if(confirm("Confirma que a informação introduzida está correta?")){var t={method:"post",url:"/formAnswer/",headers:{"X-CSRFToken":this.getCookie("csrftoken")},data:{content:{sections:this.answers},form:this.api_data.id,event:this.event.id},transformResponse:[function(){var t=Object(F["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{e.response=JSON.parse(n)}catch(i){e.response=n}if(void 0===e.response.id){t.next=5;break}return t.next=4,new Promise((function(t){return setTimeout(t,1e3*e.api_data.redirect_delay)}));case 4:window.location.href=e.api_data.redirect;case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()]};we(t)}},updateAnswer:function(e){this.$nextTick((function(){this.answers[e.sectionIndex][e.questionIndex]["answer"]=e["answer"],this.validation[e.sectionIndex][e.questionIndex]=e["valid"]}))},initializeData:function(e){for(var t in this.api_data=e.data,this.api_data.form.sections)for(var n in this.answers[t]=[],this.validation[t]=[],this.api_data.form.sections[t].questions)this.validation[t][n]=null,this.answers[t][n]={field_type:this.api_data.form.sections[t].questions[n].properties["field_type"]}},getCookie:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var o=n[i].trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t}}};n("5870");xe.render=T;var ke=xe,Ce={class:"flex column ca"},Se=Object(a["h"])("hr",null,null,-1),Je={key:0},Ve={key:0},Ue={key:1,class:"requiredticker"},Ie={key:0},Te={key:0,class:"noanswer"},Fe={key:1},De={key:0},Be={key:1},Ge={key:0,class:"noanswer"},Re={key:1},Ae={key:2},ze={key:0},$e={key:2},He={key:3},Ne={key:4};function Me(e,t,n,i,o,s){return Object(a["q"])(),Object(a["d"])("div",null,[Object(a["h"])("h1",null,Object(a["B"])(o.api_data.title),1),Object(a["h"])("div",Ce,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(o.api_data.form.sections,(function(t,n){return Object(a["q"])(),Object(a["d"])("div",{key:n},[Se,Object(a["h"])("h2",null,[o.api_data.form.hide_section_numbers?Object(a["e"])("",!0):(Object(a["q"])(),Object(a["d"])("span",Je,Object(a["B"])(n+1)+". ",1)),Object(a["g"])(Object(a["B"])(t.section_name),1)]),(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(t.questions,(function(i,s){return Object(a["q"])(),Object(a["d"])("div",{key:s,set:e.qid="s"+n+"_q"+s,class:"flex column ca vla no-bottom question"},[Object(a["h"])("label",{class:"question-field",for:e.qid},[Object(a["h"])("h3",null,[o.api_data.form.hide_question_numbers||t.hide_question_numbers?Object(a["e"])("",!0):(Object(a["q"])(),Object(a["d"])("span",Ve,Object(a["B"])(s+1)+". ",1)),Object(a["g"])(Object(a["B"])(i.question)+" ",1),i.required?(Object(a["q"])(),Object(a["d"])("span",Ue,"*")):Object(a["e"])("",!0)])],8,["for"]),"selectboxes"==i.properties.field_type?(Object(a["q"])(),Object(a["d"])("div",Ie,[void 0===o.form_response.content.sections[n][s].answer||""==o.form_response.content.sections[n][s].answer||o.form_response.content.sections[n][s].answer==[]?(Object(a["q"])(),Object(a["d"])("span",Te," Sem resposta ")):(Object(a["q"])(),Object(a["d"])("ul",Fe,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(o.form_response.content.sections[n][s].answer,(function(e){return Object(a["q"])(),Object(a["d"])("li",{key:e},[e===parseInt(e,10)?(Object(a["q"])(),Object(a["d"])("span",De,Object(a["B"])(i.properties.options[e]),1)):(Object(a["q"])(),Object(a["d"])("span",Be," Outro: "+Object(a["B"])(e),1))])})),128))]))])):"multiplechoice"==i.properties.field_type?(Object(a["q"])(),Object(a["d"])("div",{key:1,set:e.answer=o.form_response.content.sections[n][s].answer},[void 0===e.answer?(Object(a["q"])(),Object(a["d"])("span",Ge," Sem resposta ")):e.answer===parseInt(e.answer,10)?(Object(a["q"])(),Object(a["d"])("span",Re,Object(a["B"])(i.properties.options[e.answer]),1)):(Object(a["q"])(),Object(a["d"])("span",Ae,[Object(a["g"])(Object(a["B"])(i.properties.other_string),1),e.answer?(Object(a["q"])(),Object(a["d"])("span",ze,' "'+Object(a["B"])(e.answer)+'"',1)):Object(a["e"])("",!0)]))],8,["set"])):"date"==i.properties.field_type?(Object(a["q"])(),Object(a["d"])("div",$e,Object(a["B"])(new Date(o.form_response.content.sections[n][s].answer).toLocaleDateString()),1)):"datetime"==i.properties.field_type?(Object(a["q"])(),Object(a["d"])("div",He,Object(a["B"])(new Date(o.form_response.content.sections[n][s].answer).toLocaleString()),1)):(Object(a["q"])(),Object(a["d"])("div",Ne,Object(a["B"])(o.form_response.content.sections[n][s].answer),1))],8,["set"])})),128))])})),128))])])}n("caad"),n("2532");var Pe={name:"ViewResponse",components:i,data:function(){return{api_data:{},form_response:{}}},created:function(){var e=this;we.get("formAnswer/".concat(this.$route.params.id)).then((function(t){e.initializeResponseData(t),we.get("form/".concat(t.data.form)).then((function(t){return e.initializeData(t)})).catch((function(e){return console.log(e.response)}))})).catch((function(e){return console.log(e.response)}))},methods:{initializeData:function(e){this.api_data=e.data;for(var t=0;t<this.api_data.form.sections.length;){for(var n=0;n<this.api_data.form.sections[t].questions.length;)this.api_data.form.sections[t].questions[n].properties.field_type.includes("_exposition")?this.api_data.form.sections[t].questions.splice(n,1):n++;this.api_data.form.sections[t].questions.length>0?t++:this.api_data.form.sections.splice(t,1)}},initializeResponseData:function(e){this.form_response=e.data;for(var t=0;t<this.form_response.content.sections.length;){for(var n=0;n<this.form_response.content.sections[t].length;)this.form_response.content.sections[t][n].field_type.includes("_exposition")?this.form_response.content.sections[t].splice(n,1):n++;this.form_response.content.sections[t].length>0?t++:this.form_response.content.sections.splice(t,1)}}}};n("6a85");Pe.render=Me;var Le=Pe,Ee={key:0},Xe={class:"flex row ca"},Ye=Object(a["h"])("hr",null,null,-1),Ke={key:0},Qe={key:0},We={key:1,class:"requiredticker"},Ze={key:0,class:"flex row ca",style:{height:"70px"}},et=Object(a["h"])("button",{type:"submit",class:"add_field add_section hoverable submit"}," Submeter ",-1),tt={key:0,class:"flex row ca",style:{height:"70px"}},nt={key:1},it=Object(a["g"])(" Houve um erro interno na edição do formulário."),ot=Object(a["h"])("br",null,null,-1);function at(e,t,n,i,o,s){return o.api_data?(Object(a["q"])(),Object(a["d"])("div",Ee,[Object(a["h"])("h1",null,Object(a["B"])(o.api_data.title),1),Object(a["h"])("div",Xe,[Object(a["h"])("form",{id:"form-area",class:"flex column",onSubmit:t[3]||(t[3]=Object(a["K"])((function(){return s.submit&&s.submit.apply(s,arguments)}),["prevent"]))},[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(o.api_data.form.sections,(function(t,n){return Object(a["q"])(),Object(a["d"])("div",{key:n},[Ye,Object(a["h"])("h2",null,[o.api_data.form.hide_section_numbers?Object(a["e"])("",!0):(Object(a["q"])(),Object(a["d"])("span",Ke,Object(a["B"])(n+1)+". ",1)),Object(a["g"])(Object(a["B"])(t.section_name),1)]),(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(t.questions,(function(i,r){return Object(a["q"])(),Object(a["d"])("div",{key:r,set:e.qid="s"+n+"_q"+r,class:"flex column ca vla no-bottom question"},[Object(a["h"])("label",{class:"question-field",for:e.qid},[Object(a["h"])("h3",null,[o.api_data.form.hide_question_numbers||t.hide_question_numbers?Object(a["e"])("",!0):(Object(a["q"])(),Object(a["d"])("span",Qe,Object(a["B"])(r+1)+". ",1)),Object(a["g"])(Object(a["B"])(i.question),1),i.required?(Object(a["q"])(),Object(a["d"])("span",We,"*")):Object(a["e"])("",!0)])],8,["for"]),(Object(a["q"])(),Object(a["d"])(Object(a["z"])(i.properties.field_type),{class:"flex column ca vla",question:i,"question-index":r,"section-index":n,qid:e.qid,value:o.form_response.data.content.sections[n][r].answer,onUpdate:s.updateAnswer},null,8,["question","question-index","section-index","qid","value","onUpdate"]))],8,["set"])})),128))])})),128)),void 0===o.response?(Object(a["q"])(),Object(a["d"])("div",Ze,[Object(a["h"])("a",{class:"add_field add_section hoverable cancel",href:"#leave",onClick:t[1]||(t[1]=function(e){return s.leave()})}," Cancelar "),et])):(Object(a["q"])(),Object(a["d"])(a["a"],{key:1},[void 0!==o.response.id?(Object(a["q"])(),Object(a["d"])("h3",tt," Formulário editado com sucesso. Será redirecionado em "+Object(a["B"])(o.api_data.redirect_delay)+" segundos. ",1)):(Object(a["q"])(),Object(a["d"])("div",nt,[it,ot,Object(a["J"])(Object(a["h"])("textarea",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.response=e})},null,512),[[a["G"],o.response]])]))],64))],32)])])):Object(a["e"])("",!0)}var st={name:"EditResponse",components:i,data:function(){return{api_data:void 0,form_response:{},answers:[],validation:[],response:void 0}},created:function(){var e=this;we.get("formAnswer/".concat(this.$route.params.id)).then((function(t){e.form_response=t,we.get("form/".concat(e.form_response.data.form)).then((function(t){return e.initializeData(t)}))}))},methods:{leave:function(){confirm("De certeza que quer sair? As suas alterações serão perdidas.")&&(location.href="/forms")},submit:function(){var e=this;if(confirm("Confirma que a informação introduzida está correta?")){var t={method:"put",url:"/formAnswer/"+this.$route.params.id+"/",headers:{"X-CSRFToken":this.getCookie("csrftoken")},data:{content:{sections:this.answers},form:this.api_data.id},transformResponse:[function(){var t=Object(F["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{e.response=JSON.parse(n)}catch(i){e.response=n}if(void 0===e.response.id){t.next=5;break}return t.next=4,new Promise((function(t){return setTimeout(t,1e3*e.api_data.redirect_delay)}));case 4:window.location.href=e.api_data.redirect;case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()]};we(t)}},updateAnswer:function(e){this.$nextTick((function(){this.answers[e.sectionIndex][e.questionIndex]["answer"]=e["answer"],this.validation[e.sectionIndex][e.questionIndex]=e["valid"]}))},initializeData:function(e){for(var t in this.api_data=e.data,this.api_data.form.sections)for(var n in this.answers[t]=[],this.validation[t]=[],this.api_data.form.sections[t].questions)this.validation[t][n]=null,this.answers[t][n]={field_type:this.api_data.form.sections[t].questions[n].properties["field_type"]}},getCookie:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var o=n[i].trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t}}};n("d75e");st.render=at;var rt=st,lt=(n("4de4"),{key:0,id:"responses"}),ct=Object(a["g"])(" Respostas"),dt={style:{"background-color":"#365c98"}},ut={class:"sections"},ht=Object(a["h"])("th",{style:{"background-color":"#3d6cb8"},rowspan:"3"}," Autor da Resposta ",-1),pt={key:0,style:{"background-color":"#3d6cb8"},rowspan:"3"},bt=Object(a["h"])("th",{style:{"background-color":"#3d6cb8"},rowspan:"3"}," Estado ",-1),ft={key:0},mt={style:{display:"contents"}},Ot={class:"fillerCell"},jt={class:"author"},vt=Object(a["g"])(" Anónimo "),_t=Object(a["h"])("br",null,null,-1),gt={key:0},qt={style:{display:"contents"}},yt={class:"fillerCell"};function wt(e,t,n,i,o,s){return o.api_data?(Object(a["q"])(),Object(a["d"])("div",lt,[Object(a["h"])("h1",null,[ct,o.user?(Object(a["q"])(),Object(a["d"])(a["a"],{key:0},[Object(a["g"])(" de "+Object(a["B"])(o.user),1)],64)):Object(a["e"])("",!0),o.event?(Object(a["q"])(),Object(a["d"])(a["a"],{key:1},[Object(a["g"])(" ao evento "+Object(a["B"])(o.event),1)],64)):Object(a["e"])("",!0)]),Object(a["h"])("table",null,[Object(a["h"])("caption",dt,Object(a["B"])(o.api_data.title),1),Object(a["h"])("thead",null,[Object(a["h"])("tr",ut,[ht,o.event?Object(a["e"])("",!0):(Object(a["q"])(),Object(a["d"])("th",pt," Evento ")),bt,(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(o.api_data.form.sections,(function(e,t){return Object(a["q"])(),Object(a["d"])("th",{key:t,colspan:1==o.displayed_sections[t]?e.questions.length:1,rowspan:1==o.displayed_sections[t]?1:2,style:{"background-color":"#3d6cb8"}},Object(a["B"])(e.section_name),9,["colspan","rowspan"])})),128))]),Object(a["h"])("tr",null,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(o.api_data.form.sections,(function(e,t){return Object(a["J"])((Object(a["q"])(),Object(a["d"])("div",{key:t,style:{display:"contents"}},[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(e.questions,(function(e,t){return Object(a["q"])(),Object(a["d"])("th",{key:t},Object(a["B"])(e.question),1)})),128))],512)),[[a["H"],1==o.displayed_sections[t]]])})),128))]),Object(a["h"])("tr",null,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(o.api_data.form.sections,(function(e,t){return Object(a["q"])(),Object(a["d"])("th",{key:t,class:o.displayed_sections[t]?"view_section":"hide_section",colspan:o.displayed_sections[t]?e.questions.length:1,onClick:function(e){o.displayed_sections[t]=!o.displayed_sections[t]}},Object(a["B"])(o.displayed_sections[t]?"Esconder secção":"Ver secção"),11,["colspan","onClick"])})),128))]),Object(a["h"])("tr",null,[Object(a["h"])("th",null,[Object(a["J"])(Object(a["h"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.authorSearch=e}),class:"searchBar",type:"text"},null,512),[[a["G"],o.authorSearch]])]),o.event?Object(a["e"])("",!0):(Object(a["q"])(),Object(a["d"])("th",ft,[Object(a["J"])(Object(a["h"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.eventSearch=e}),class:"searchBar",type:"text"},null,512),[[a["G"],o.eventSearch]])])),Object(a["h"])("th",null,[Object(a["J"])(Object(a["h"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.statusSearch=e}),class:"searchBar",type:"text"},null,512),[[a["G"],o.statusSearch]])]),(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(o.api_data.form.sections,(function(n,i){return Object(a["q"])(),Object(a["d"])("div",{key:i,style:{display:"contents"}},[Object(a["J"])(Object(a["h"])("div",mt,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(n.questions,(function(n,i){return Object(a["q"])(),Object(a["d"])("th",{key:i},[Object(a["J"])(Object(a["h"])("input",{"onUpdate:modelValue":function(e){return n.filter=e},class:"searchBar",type:"text",onChanged:t[4]||(t[4]=function(){return e.filter&&e.filter.apply(e,arguments)})},null,40,["onUpdate:modelValue"]),[[a["G"],n.filter]])])})),128))],512),[[a["H"],o.displayed_sections[i]]]),Object(a["J"])(Object(a["h"])("td",Ot,null,512),[[a["H"],0==o.displayed_sections[i]]])])})),128))])]),Object(a["h"])("tbody",null,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(s.filteredResponses(),(function(e,t){return Object(a["q"])(),Object(a["d"])("tr",{key:t},[Object(a["h"])("td",jt,[e.author?(Object(a["q"])(),Object(a["d"])("span",{key:0,href:"/profile/"+e.answerer},Object(a["B"])(e.author),9,["href"])):(Object(a["q"])(),Object(a["d"])(a["a"],{key:1},[vt],64)),Object(a["h"])("span",{class:"mouseover",title:new Date(e.created_at).toLocaleString()},", há "+Object(a["B"])(s.timeSince(e.created_at)),9,["title"]),e.created_at!=e.updated_at?(Object(a["q"])(),Object(a["d"])("span",{key:2,class:[e.created_at!=e.updated_at?"edited":"","mouseover"],title:"Editado por "+(e.editor?e.editor:"Anónimo")+" há "+s.timeSince(e.updated_at)+" ("+new Date(e.updated_at).toLocaleString()+")"},"*",10,["title"])):Object(a["e"])("",!0),_t,Object(a["h"])("a",{class:"flex row ca",href:"/forms/edit_response/"+e.id},"Editar Resposta",8,["href"])]),o.event?Object(a["e"])("",!0):(Object(a["q"])(),Object(a["d"])("td",gt,Object(a["B"])(e.eventName),1)),Object(a["h"])("td",null,[Object(a["J"])(Object(a["h"])("select",{"onUpdate:modelValue":function(t){return o.answerStatuses[e.id]=t},class:"status flex row width-100",style:{backgroundColor:o.statuses[o.answerStatuses[e.id]].color},onChange:function(t){return s.changeStatus(e.id,o.answerStatuses[e.id])}},[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(o.statuses,(function(e,t){return Object(a["q"])(),Object(a["d"])("option",{key:t,value:t,style:{"background-color":"white",color:"black"}},Object(a["B"])(e.name),9,["value"])})),128))],44,["onUpdate:modelValue","onChange"]),[[a["F"],o.answerStatuses[e.id]]])]),(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(e.content.sections,(function(e,t){return Object(a["q"])(),Object(a["d"])("div",{key:t,style:{display:"contents"}},[Object(a["J"])(Object(a["h"])("div",qt,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(e,(function(e,t){return Object(a["q"])(),Object(a["d"])("td",{key:t,style:void 0===e.answer?"background-color: rgba(0, 0, 0, 0.25);":""},[void 0!==e.answer?(Object(a["q"])(),Object(a["d"])(a["a"],{key:0},["[object Array]"===Object.prototype.toString.call(e.answer)?(Object(a["q"])(!0),Object(a["d"])(a["a"],{key:0},Object(a["x"])(e.answer,(function(e,t){return Object(a["q"])(),Object(a["d"])("li",{key:t},Object(a["B"])(e),1)})),128)):(Object(a["q"])(),Object(a["d"])(a["a"],{key:1},[Object(a["g"])(Object(a["B"])(e.answer),1)],64))],64)):Object(a["e"])("",!0)],4)})),128))],512),[[a["H"],o.displayed_sections[t]]]),Object(a["J"])(Object(a["h"])("td",yt,null,512),[[a["H"],0==o.displayed_sections[t]]])])})),128))])})),128))])])])):Object(a["e"])("",!0)}var xt=n("53ca"),kt=(n("5319"),{name:"ViewAllResponses",components:i,data:function(){return{api_data:void 0,form_responses:[],displayed_sections:[],event:void 0,user:void 0,statuses:{},authorSearch:"",eventSearch:"",statusSearch:"",answerStatuses:[],interval:void 0}},created:function(){var e=this;we.get("form/".concat(this.$route.params.id)).then((function(t){return e.initializeData(t)})).catch((function(e){return console.log(e.response)}));var t="formAnswer/?form=".concat(this.$route.params.id);void 0!==this.$route.query.event&&(t=t.concat("&event=").concat(this.$route.query.event),we.get("event/".concat(this.$route.query.event)).then((function(t){return e.event=t.data.name})).catch((function(e){return console.log(e.response)}))),void 0!==this.$route.query.user&&(t=t.concat("&user=").concat(this.$route.query.user),we.get("user/".concat(this.$route.query.user)).then((function(t){return e.user=t.data.username}))),we.get(t).then((function(t){return e.initializeAnswers(t)})),we.get("answerStatus/").then((function(t){e.statuses=t.data})),this.getStatuses()},methods:{getStatuses:function(){var e=this;we.get("formAnswerStatus/").then((function(t){e.answerStatuses=t.data}))},changeStatus:function(e,t){var n=this,i={method:"patch",url:"/formAnswerStatus/"+e+"/",headers:{"X-CSRFToken":this.getCookie("csrftoken")},data:{status:t},transformResponse:[function(e){return n.response=e,e}]};we(i)},initializeData:function(e){this.api_data=e.data;for(var t=0;t<this.api_data.form.sections.length;){for(var n=0;n<this.api_data.form.sections[t].questions.length;)this.api_data.form.sections[t].questions[n].properties.field_type.includes("_exposition")?this.api_data.form.sections[t].questions.splice(n,1):n++;this.api_data.form.sections[t].questions.length>0?(this.displayed_sections[t]=!0,t++):this.api_data.form.sections.splice(t,1)}},initializeAnswers:function(e){this.form_responses=e.data;for(var t=0;t<this.form_responses.length;t++)for(var n=this.form_responses[t],i=0;i<n.content.sections.length;i++)for(var o=n.content.sections[i],a=0;a<o.length;a++){var s=o[a];if(void 0!==s.answer)if("selectboxes"==s.field_type)for(var r=0;r<s.answer.length;r++){var l=s.answer[r];l===parseInt(l,10)?s.answer[r]=this.api_data.form.sections[i].questions[a].properties.options[l]:s.answer='Outro: "'+s.answer+'"'}else"multiplechoice"==s.field_type?s.answer===parseInt(s.answer,10)?s.answer=this.api_data.form.sections[i].questions[a].properties.options[s.answer]:s.answer='Outro: "'+s.answer+'"':"date"==s.field_type?s.answer=new Date(s.answer).toLocaleDateString():"datetime"==s.field_type&&(s.answer=new Date(s.answer).toLocaleString())}},allFalse:function(){for(var e=0;e<this.displayed_sections.length;e++)if(1==this.displayed_sections[e])return!1;return!0},stringIn:function(e,t){return-1!=e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").indexOf(t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))},filteredResponses:function(){var e=this,t=this.form_responses;""!=this.authorSearch&&(t=t.filter((function(t){return e.stringIn(void 0===t.author?"Anónimo":t.author,e.authorSearch)}))),""!=this.eventSearch&&(t=t.filter((function(t){return!!t.eventName&&e.stringIn(t.eventName,e.eventSearch)}))),""!=this.statusSearch&&(t=t.filter((function(t){return e.stringIn(e.statuses[e.answerStatuses[t.id]].name,e.statusSearch)})));for(var n=0;n<this.api_data.form.sections.length;n++)if(this.displayed_sections[n])for(var i=this.api_data.form.sections[n],o=0;o<i.questions.length;o++){var a=i.questions[o];a.filter&&""!=a.filter&&(t=t.filter((function(t){return e.stringIn(String(t.content.sections[n][o].answer),a.filter)})))}return t},timeSince:function(e){"object"!==Object(xt["a"])(e)&&(e=new Date(e));var t,n=Math.floor((new Date-e)/1e3),i=Math.floor(n/31536e3);return i>=1?t="ano":(i=Math.floor(n/2592e3),i>=1?t="mês":(i=Math.floor(n/86400),i>=1?t="dia":(i=Math.floor(n/3600),i>=1?t="hora":(i=Math.floor(n/60),i>=1?t="minuto":(i=n,t="segundo"))))),(i>1||0===i)&&("mês"==t?t="meses":t+="s"),i+" "+t},getCookie:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var o=n[i].trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t}}});n("19ad");kt.render=wt;var Ct=kt,St={key:0,id:"responses"},Jt=Object(a["h"])("h1",null,"Formulários da Plataforma",-1),Vt={class:""},Ut=Object(a["h"])("caption",null," Formulários ",-1),It=Object(a["h"])("thead",null,[Object(a["h"])("tr",null,[Object(a["h"])("th",null," Formulário "),Object(a["h"])("th",null,"Respostas"),Object(a["h"])("th",null,"Editar"),Object(a["h"])("th",null,"Eliminar"),Object(a["h"])("th",null,"Tipo"),Object(a["h"])("th",null,"Categoria"),Object(a["h"])("th",null,"Ativo")])],-1),Tt={align:"right"},Ft={align:"right"},Dt={align:"right"},Bt={key:1},Gt={align:"right"},Rt={align:"right"},At=Object(a["h"])("option",null,null,-1),zt={class:"switch",style:{"margin-top":"7px"}},$t=Object(a["h"])("span",{class:"slider round noafter"},null,-1),Ht=Object(a["h"])("tr",null,[Object(a["h"])("td",{colspan:"7",align:"center"},[Object(a["h"])("a",{class:"flex row ca width-100",href:"createForm"},"Criar novo formulário")])],-1);function Nt(e,t,n,i,o,s){return void 0!==o.forms&&void 0!==o.categories?(Object(a["q"])(),Object(a["d"])("div",St,[Jt,Object(a["h"])("table",Vt,[Ut,It,Object(a["h"])("tbody",null,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(o.forms,(function(e){return Object(a["q"])(),Object(a["d"])("tr",{key:e.id},[Object(a["h"])("td",null,Object(a["B"])(e.title),1),Object(a["h"])("td",Tt,[e.responses>0?(Object(a["q"])(),Object(a["d"])("a",{key:0,class:"flex row ra width-100",href:"responses/"+e.id},Object(a["B"])(e.responses),9,["href"])):(Object(a["q"])(),Object(a["d"])(a["a"],{key:1},[Object(a["g"])(Object(a["B"])(e.responses),1)],64))]),Object(a["h"])("td",Ft,[Object(a["h"])("a",{href:"editForm/"+e.id},"Editar",8,["href"])]),Object(a["h"])("td",Dt,[0==e.responses?(Object(a["q"])(),Object(a["d"])("a",{key:0,href:"#delete",onClick:function(t){return s.remove(e.id)}},"Eliminar",8,["onClick"])):(Object(a["q"])(),Object(a["d"])("span",Bt,"Eliminar"))]),Object(a["h"])("td",Gt,[Object(a["J"])(Object(a["h"])("select",{"onUpdate:modelValue":function(t){return e.type=t},class:"status flex row width-100",onChange:function(t){return s.changeType(e.id,""==e.type?null:e.type)},style:{color:"black"},disabled:e.category&&(o.categories[e.category].formsignupid==e.id||o.categories[e.category].formproposalid==e.id||o.categories[e.category].formfeedbackid==e.id)},[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(o.types,(function(e,t){return Object(a["q"])(),Object(a["d"])("option",{key:t,value:t,style:{"background-color":"white",color:"black"}},Object(a["B"])(e.name),9,["value"])})),128))],40,["onUpdate:modelValue","onChange","disabled"]),[[a["F"],e.type,void 0,{number:!0}]])]),Object(a["h"])("td",Rt,[Object(a["J"])(Object(a["h"])("select",{"onUpdate:modelValue":function(t){return e.category=t},class:"status flex row width-100",onChange:function(t){return s.changeCategory(e.id,""==e.category?null:e.category)},style:{color:"black"},disabled:e.category&&(o.categories[e.category].formsignupid==e.id||o.categories[e.category].formproposalid==e.id||o.categories[e.category].formfeedbackid==e.id)},[At,(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(o.categories,(function(e,t){return Object(a["q"])(),Object(a["d"])("option",{key:t,value:t,style:{"background-color":"white",color:"black"}},Object(a["B"])(e.name),9,["value"])})),128))],40,["onUpdate:modelValue","onChange","disabled"]),[[a["F"],e.category,void 0,{number:!0}]])]),Object(a["h"])("td",null,[Object(a["h"])("label",zt,[1==e.type?(Object(a["q"])(),Object(a["d"])("input",{key:0,type:"checkbox",checked:e.category&&o.categories[e.category].formsignupid==e.id,disabled:e.category&&o.categories[e.category].formsignupid==e.id,onChange:function(t){return s.changeActive(e.category,e.id,e.type)}},null,40,["checked","disabled","onChange"])):Object(a["e"])("",!0),2==e.type?(Object(a["q"])(),Object(a["d"])("input",{key:1,type:"checkbox",checked:e.category&&o.categories[e.category].formproposalid==e.id,disabled:e.category&&o.categories[e.category].formproposalid==e.id,onChange:function(t){return s.changeActive(e.category,e.id,e.type)}},null,40,["checked","disabled","onChange"])):Object(a["e"])("",!0),3==e.type?(Object(a["q"])(),Object(a["d"])("input",{key:2,checked:e.category&&o.categories[e.category].formfeedbackid==e.id,disabled:e.category&&o.categories[e.category].formfeedbackid==e.id,type:"checkbox",onChange:function(t){return s.changeActive(e.category,e.id,e.type)}},null,40,["checked","disabled","onChange"])):Object(a["e"])("",!0),$t])])])})),128)),Ht])])])):Object(a["e"])("",!0)}var Mt={name:"CreateResponse",components:i,data:function(){return{forms:void 0,categories:void 0,types:void 0}},created:function(){var e=this;we.get("formType/").then((function(t){return e.types=t.data})),we.get("form/").then((function(t){return e.forms=t.data})),we.get("eventType/").then((function(t){return e.categories=t.data}))},methods:{remove:function(e){if(confirm("De certeza que quer eliminar este formulário?")){this.forms=this.forms.filter((function(t){return t.id!=e}));var t={method:"delete",url:"/form/"+e+"/",headers:{"X-CSRFToken":this.getCookie("csrftoken")}};we(t)}},changeCategory:function(e,t){var n=this,i={method:"patch",url:"/form/"+e+"/",headers:{"X-CSRFToken":this.getCookie("csrftoken")},data:{category:t},transformResponse:[function(e){return n.response=e,e}]};we(i)},changeType:function(e,t){var n=this,i={method:"patch",url:"/form/"+e+"/",headers:{"X-CSRFToken":this.getCookie("csrftoken")},data:{type:t},transformResponse:[function(e){return n.response=e,e}]};we(i)},changeActive:function(e,t,n){var i,o=this;1==n?i={formsignupid:t}:2==n?i={formproposalid:t}:3==n&&(i={formfeedbackid:t});var a={method:"patch",url:"/eventType/"+e+"/",headers:{"X-CSRFToken":this.getCookie("csrftoken")},data:i,transformResponse:[function(e){return o.response=e,e}]};we(a).then((function(e){we.get("eventType/").then((function(e){return o.categories=e.data}))}))},getCookie:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var o=n[i].trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t}}};n("c3cb");Mt.render=Nt;var Pt=Mt,Lt=Object(a["h"])("h1",null,"Criação de novo formulário",-1),Et=Object(a["h"])("hr",null,null,-1),Xt=Object(a["h"])("h3",null,[Object(a["h"])("label",{for:"type"},"Tipo de formulário")],-1),Yt=Object(a["h"])("option",{disabled:""},null,-1),Kt=Object(a["h"])("br",null,null,-1),Qt=Object(a["h"])("h2",null,"Opções avançadas",-1),Wt={class:"arrow right"},Zt={class:"arrow down"},en={id:"advanced_options"},tn=Object(a["h"])("br",null,null,-1),nn=Object(a["h"])("h3",null,[Object(a["h"])("label",{for:"submit_message"},"Mensagem de sucesso")],-1),on=Object(a["h"])("br",null,null,-1),an=Object(a["h"])("br",null,null,-1),sn=Object(a["h"])("h3",null,[Object(a["h"])("label",{class:"label",for:"redirect"},"Página de redireção após sucesso")],-1),rn=Object(a["h"])("br",null,null,-1),ln=Object(a["h"])("br",null,null,-1),cn=Object(a["h"])("h3",null,[Object(a["h"])("label",{for:"redirect_delay"},"Atraso de redireção (segundos)")],-1),dn=Object(a["h"])("br",null,null,-1),un=Object(a["h"])("br",null,null,-1),hn={class:"switch"},pn=Object(a["h"])("span",{class:"slider round hide_sections"},null,-1),bn=Object(a["h"])("br",null,null,-1),fn=Object(a["h"])("br",null,null,-1),mn={class:"switch"},On=Object(a["h"])("span",{class:"slider round hide_questions"},null,-1),jn=Object(a["h"])("hr",null,null,-1),vn={style:{"margin-left":"5px","margin-right":"10px"}},_n=Object(a["h"])("br",null,null,-1),gn={class:"flex column"},qn=Object(a["h"])("br",null,null,-1),yn={style:{"margin-left":"5px","margin-right":"10px"}},wn=Object(a["h"])("br",null,null,-1),xn=Object(a["h"])("br",null,null,-1),kn=Object(a["h"])("br",null,null,-1),Cn={key:0,class:"switch"},Sn=Object(a["h"])("span",{class:"slider round"},null,-1),Jn=Object(a["h"])("br",null,null,-1),Vn={class:"new_field flex row ca"},Un={class:"flex row la"},In=Object(a["f"])('<option disabled value="none"> Campo de Texto </option><option value="shorttext"> Texto Curto </option><option value="longtext"> Texto Longo </option><option disabled> Email </option><option disabled> Morada </option>',5),Tn=Object(a["h"])("option",{disabled:"",value:"none"}," Campo Numérico ",-1),Fn=Object(a["h"])("option",{value:"number"}," Número ",-1),Dn=Object(a["h"])("option",{disabled:""}," NIF ",-1),Bn=Object(a["h"])("option",{disabled:""}," Número telefónico ",-1),Gn=Object(a["h"])("option",{disabled:"",value:"none"}," Campo de Data ",-1),Rn=Object(a["h"])("option",{value:"date"}," Data ",-1),An=Object(a["h"])("option",{value:"datetime"}," Data e Hora ",-1),zn=Object(a["h"])("option",{disabled:"",value:"none"}," Campo de Seleção ",-1),$n=Object(a["h"])("option",{value:"multiplechoice"}," Escolha Múltipla ",-1),Hn=Object(a["h"])("option",{value:"selectboxes"}," Caixas de Seleção ",-1),Nn=Object(a["h"])("option",{disabled:"",value:"none"}," Campo de Exposição ",-1),Mn=Object(a["h"])("option",{value:"text_exposition"}," Descrição ",-1),Pn=Object(a["h"])("option",{value:"image_exposition"}," Imagem ",-1),Ln=Object(a["h"])("option",{value:"youtube_exposition"}," Vídeo (YouTube) ",-1),En=Object(a["h"])("div",null,null,-1),Xn={class:"flex row ca"},Yn=Object(a["h"])("hr",null,null,-1),Kn={key:0,class:"flex row ca"},Qn=Object(a["h"])("button",{type:"submit",class:"add_field add_section hoverable submit"}," Submeter ",-1),Wn={key:0,class:"flex row ca"},Zn={key:1},ei=Object(a["g"])(" Houve um erro interno na criação do formulário."),ti=Object(a["h"])("br",null,null,-1);function ni(e,t,n,i,o,s){return Object(a["q"])(),Object(a["d"])("div",null,[Lt,Object(a["h"])("form",{id:"form-area",class:"flex column",onSubmit:t[17]||(t[17]=Object(a["K"])((function(){return s.submit&&s.submit.apply(s,arguments)}),["prevent"]))},[Object(a["h"])("div",null,[Object(a["J"])(Object(a["h"])("input",{id:"title","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.title=e}),class:"seamless_input",type:"text"},null,512),[[a["G"],o.title]]),Et,Xt,Object(a["J"])(Object(a["h"])("select",{id:"type","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.type=e}),required:""},[Yt,(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(o.form_types,(function(e){return Object(a["q"])(),Object(a["d"])("option",{key:e.id,value:e.id},Object(a["B"])(e.name),9,["value"])})),128))],512),[[a["F"],o.type]])]),Kt,Object(a["h"])("div",{id:"advanced_options_control",class:"flex row unselectable",onClick:t[3]||(t[3]=function(e){return o.advancedOptionsShown=!o.advancedOptionsShown})},[Qt,Object(a["J"])(Object(a["h"])("i",Wt,null,512),[[a["H"],!o.advancedOptionsShown]]),Object(a["J"])(Object(a["h"])("i",Zt,null,512),[[a["H"],o.advancedOptionsShown]])]),Object(a["J"])(Object(a["h"])("div",en,[tn,nn,Object(a["J"])(Object(a["h"])("textarea",{id:"submit_message","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.submit_message=e})},null,512),[[a["G"],o.submit_message]]),on,an,sn,Object(a["J"])(Object(a["h"])("input",{id:"redirect","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.redirect=e}),type:"text"},null,512),[[a["G"],o.redirect]]),rn,ln,cn,Object(a["J"])(Object(a["h"])("input",{id:"redirect_delay","onUpdate:modelValue":t[6]||(t[6]=function(e){return o.redirect_delay=e}),type:"number",step:"0.25"},null,512),[[a["G"],o.redirect_delay]]),dn,un,Object(a["h"])("label",hn,[Object(a["J"])(Object(a["h"])("input",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return o.hide_section_numbers=e}),type:"checkbox"},null,512),[[a["D"],o.hide_section_numbers]]),pn]),bn,fn,Object(a["h"])("label",mn,[Object(a["J"])(Object(a["h"])("input",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return o.hide_question_numbers=e}),type:"checkbox"},null,512),[[a["D"],o.hide_question_numbers]]),On])],512),[[a["H"],o.advancedOptionsShown]]),jn,(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(o.added_sections,(function(e,n){return Object(a["q"])(),Object(a["d"])("div",{key:n,class:"flex row width-100 section"},[Object(a["h"])("div",vn,[Object(a["h"])("i",{class:"remove round flex ca vca unselectable",onClick:function(e){return o.added_sections.splice(n,1)}},"✖",8,["onClick"]),Object(a["J"])(Object(a["h"])("i",{class:"arrow up",onClick:function(e){return s.moveSectionUp(n)}},null,8,["onClick"]),[[a["H"],s.hasPrevSection(n)]]),_n,Object(a["J"])(Object(a["h"])("i",{class:"arrow down",style:{bottom:"7px"},onClick:function(e){return s.moveSectionDown(n)}},null,8,["onClick"]),[[a["H"],s.hasNextSection(n)]])]),Object(a["h"])("div",gn,[Object(a["J"])(Object(a["h"])("input",{id:"title","onUpdate:modelValue":function(t){return e.section_name=t},class:"seamless_input",type:"text"},null,8,["onUpdate:modelValue"]),[[a["G"],e.section_name]]),qn,(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(e.questions,(function(t,i){return Object(a["q"])(),Object(a["d"])("div",{key:i,class:"flex row la width-100 question"},[Object(a["h"])("div",yn,[Object(a["h"])("i",{class:"remove round flex ca vca unselectable",onClick:function(t){return e.questions.splice(i,1)}},"✖",8,["onClick"]),Object(a["J"])(Object(a["h"])("i",{class:"arrow up",onClick:function(e){return s.moveUp(n,i)}},null,8,["onClick"]),[[a["H"],s.hasPrev(n,i)]]),wn,Object(a["J"])(Object(a["h"])("i",{class:"arrow down",style:{bottom:"7px"},onClick:function(e){return s.moveDown(n,i)}},null,8,["onClick"]),[[a["H"],s.hasNext(n,i)]])]),Object(a["h"])("div",null,[Object(a["h"])("div",null,[Object(a["h"])("h3",null,Object(a["B"])(s.getFieldTypeTitle(t.properties.field_type)),1),xn,Object(a["J"])(Object(a["h"])("input",{id:"question_"+i,"onUpdate:modelValue":function(e){return t.question=e},type:"text",class:"seamless_input"},null,8,["id","onUpdate:modelValue"]),[[a["G"],t.question]])]),kn,t.properties.field_type.includes("_exposition")?Object(a["e"])("",!0):(Object(a["q"])(),Object(a["d"])("label",Cn,[Object(a["J"])(Object(a["h"])("input",{"onUpdate:modelValue":function(e){return t.required=e},type:"checkbox"},null,8,["onUpdate:modelValue"]),[[a["D"],t.required]]),Sn,Jn])),(Object(a["q"])(),Object(a["d"])(Object(a["z"])(t.properties.field_type),{key:t.properties,class:"flex column ca vla",question:t,qid:i,properties:t.properties,onUpdate:function(e){return t.properties=e}},null,8,["question","qid","properties","onUpdate"]))])])})),128)),Object(a["h"])("div",Vn,[Object(a["J"])(Object(a["h"])("div",Un,[Object(a["J"])(Object(a["h"])("select",{"onUpdate:modelValue":t[9]||(t[9]=function(e){return o.new_field=e}),class:"flex row ca add_field",onChange:function(t){return s.selected_field(e,n)}},[In],40,["onChange"]),[[a["F"],o.new_field]]),Object(a["J"])(Object(a["h"])("select",{"onUpdate:modelValue":t[10]||(t[10]=function(e){return o.new_field=e}),class:"flex row ca add_field",onChange:function(t){return s.selected_field(e,n)}},[Tn,Fn,Dn,Bn],40,["onChange"]),[[a["F"],o.new_field]]),Object(a["J"])(Object(a["h"])("select",{"onUpdate:modelValue":t[11]||(t[11]=function(e){return o.new_field=e}),class:"flex row ca add_field",onChange:function(t){return s.selected_field(e,n)}},[Gn,Rn,An],40,["onChange"]),[[a["F"],o.new_field]]),Object(a["J"])(Object(a["h"])("select",{"onUpdate:modelValue":t[12]||(t[12]=function(e){return o.new_field=e}),class:"flex row ca add_field",onChange:function(t){return s.selected_field(e,n)}},[zn,$n,Hn],40,["onChange"]),[[a["F"],o.new_field]]),Object(a["J"])(Object(a["h"])("select",{"onUpdate:modelValue":t[13]||(t[13]=function(e){return o.new_field=e}),class:"flex row ca add_field",onChange:function(t){return s.selected_field(e,n)}},[Nn,Mn,Pn,Ln],40,["onChange"]),[[a["F"],o.new_field]])],512),[[a["H"],o.selecting_field[n]]]),Object(a["J"])(Object(a["h"])("button",{type:"button",class:"add_field round_add hoverable unselectable",onClick:function(e){return o.selecting_field[n]=!o.selecting_field[n]}}," + ",8,["onClick"]),[[a["H"],!o.selecting_field[n]]])])])])})),128)),En,Object(a["h"])("div",Xn,[Object(a["h"])("button",{type:"button",class:"add_field add_section hoverable",onClick:t[14]||(t[14]=function(e){return s.addSection()})}," Adicionar secção ")]),Yn,void 0===o.response?(Object(a["q"])(),Object(a["d"])("div",Kn,[Object(a["h"])("a",{class:"add_field add_section hoverable cancel",href:"#leave",onClick:t[15]||(t[15]=function(e){return s.leave()})}," Cancelar "),Qn])):(Object(a["q"])(),Object(a["d"])(a["a"],{key:1},[void 0!==o.response.id?(Object(a["q"])(),Object(a["d"])("h3",Wn," Formulário criado com sucesso com o id "+Object(a["B"])(o.response.id)+". Será redirecionado em 3 segundos. ",1)):(Object(a["q"])(),Object(a["d"])("div",Zn,[ei,ti,Object(a["J"])(Object(a["h"])("textarea",{"onUpdate:modelValue":t[16]||(t[16]=function(e){return o.response=e})},null,512),[[a["G"],o.response]])]))],64))],32)])}var ii=Object(a["h"])("h2",null,"Opções avançadas",-1),oi={class:"arrow right"},ai={class:"arrow down"},si=Object(a["h"])("br",null,null,-1),ri=Object(a["h"])("br",null,null,-1),li=Object(a["h"])("br",null,null,-1),ci=Object(a["h"])("br",null,null,-1),di=Object(a["h"])("br",null,null,-1),ui=Object(a["h"])("br",null,null,-1),hi=Object(a["h"])("br",null,null,-1),pi=Object(a["h"])("option",{value:"text"}," Texto ",-1),bi=Object(a["h"])("option",{value:"slider"}," Barra deslizante ",-1);function fi(e,t,n,i,o,s){var r=this;return Object(a["q"])(),Object(a["d"])("div",{class:["flex row",!o.invalid||void 0!==e.answer&&""!=e.answer?"":o.invalid]},[o.valid?Object(a["e"])("",!0):(Object(a["q"])(),Object(a["d"])("input",{id:n.qid+"_validator",key:o.valid,value:"O máximo deve ser superior ao mínimo.",type:"text",oninvalid:"setCustomValidity('O máximo deve ser superior ao mínimo.')",pattern:o.valid?void 0:".a",class:"warning-field removable",onkeydown:"return false;",size:"O máximo deve ser superior ao mínimo.".length-6,onInvalid:t[1]||(t[1]=function(e){return o.invalid="invalid"})},null,40,["id","pattern","size"])),Object(a["h"])("div",{id:"advanced_options_control",class:"flex row unselectable",onClick:t[2]||(t[2]=function(e){return o.advancedOptionsShown=!o.advancedOptionsShown})},[ii,Object(a["J"])(Object(a["h"])("i",oi,null,512),[[a["H"],!o.advancedOptionsShown]]),Object(a["J"])(Object(a["h"])("i",ai,null,512),[[a["H"],o.advancedOptionsShown]])]),Object(a["J"])(Object(a["h"])("div",null,[Object(a["h"])("label",{class:"option-label",for:n.qid+"_default"},"Valor por defeito: ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_default","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.result.default=e}),type:"number",onChange:t[4]||(t[4]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],this.result.default,void 0,{number:!0}]]),si,Object(a["h"])("label",{class:"option-label",for:n.qid+"_placeholder"},"Texto de sugestão: ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_placeholder","onUpdate:modelValue":t[5]||(t[5]=function(e){return r.result.placeholder=e}),type:"text",onChange:t[6]||(t[6]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],this.result.placeholder]]),ri,Object(a["h"])("label",{class:"option-label",for:n.qid+"_min"},"Mínimo: ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_min","onUpdate:modelValue":t[7]||(t[7]=function(e){return r.result.min=e}),type:"number",step:"1",min:"1",onChange:t[8]||(t[8]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],this.result.min,void 0,{number:!0}]]),li,Object(a["h"])("label",{class:"option-label",for:n.qid+"_max"},"Máximo: ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_max","onUpdate:modelValue":t[9]||(t[9]=function(e){return r.result.max=e}),type:"number",step:"1",min:"1",onChange:t[10]||(t[10]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],this.result.max,void 0,{number:!0}]]),ci,Object(a["h"])("label",{class:"option-label",for:n.qid+"_decimal_places"},"Casas decimais: ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_decimal_places","onUpdate:modelValue":t[11]||(t[11]=function(e){return r.result.decimal_places=e}),type:"number",step:"1",min:"0",onChange:t[12]||(t[12]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],this.result.decimal_places,void 0,{number:!0}]]),di,Object(a["h"])("label",{class:"option-label",for:n.qid+"_prefix"},"Prefixo: ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_prefix","onUpdate:modelValue":t[13]||(t[13]=function(e){return r.result.prefix=e}),type:"text",onChange:t[14]||(t[14]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],this.result.prefix]]),ui,Object(a["h"])("label",{class:"option-label",for:n.qid+"_suffix"},"Sufixo: ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_suffix","onUpdate:modelValue":t[15]||(t[15]=function(e){return r.result.suffix=e}),type:"text",onChange:t[16]||(t[16]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],this.result.suffix]]),hi,Object(a["h"])("label",{class:"option-label",for:n.qid+"_number"},"Estilo: ",8,["for"]),Object(a["J"])(Object(a["h"])("select",{id:n.qid+"_number","onUpdate:modelValue":t[17]||(t[17]=function(e){return r.result.style=e}),required:"",onChange:t[18]||(t[18]=function(){return s.update&&s.update.apply(s,arguments)})},[pi,bi],40,["id"]),[[a["F"],this.result.style]])],512),[[a["H"],o.advancedOptionsShown]])],2)}var mi={name:"NumberField",props:["qid","properties"],emits:["update"],data:function(){return{result:this.properties,valid:!0,invalid:"",advancedOptionsShown:!1}},created:function(){void 0===this.result.style&&(this.result.style="text",this.update())},methods:{update:function(){this.valid=!this.result.min||!this.result.max||this.result.min<=this.result.max,""===this.result.default&&(this.result.default=void 0),""===this.result.placeholder&&(this.result.placeholder=void 0),""===this.result.min&&(this.result.min=void 0),""===this.result.max&&(this.result.max=void 0),""===this.result.decimal_places&&(this.result.decimal_places=void 0),""===this.result.prefix&&(this.result.prefix=void 0),""===this.result.suffix&&(this.result.suffix=void 0),this.$emit("update",this.result)}}};n("c3d1");mi.render=fi;var Oi=mi,ji=Object(a["L"])("data-v-2c899848");Object(a["u"])("data-v-2c899848");var vi=Object(a["h"])("br",null,null,-1),_i=Object(a["h"])("h2",null,"Opções avançadas",-1),gi={class:"arrow right"},qi={class:"arrow down"},yi=Object(a["h"])("h3",null,"Valores por defeito: ",-1),wi=Object(a["h"])("br",null,null,-1),xi=Object(a["h"])("br",null,null,-1),ki=Object(a["h"])("br",null,null,-1),Ci=Object(a["h"])("br",null,null,-1),Si={class:"switch"},Ji=Object(a["h"])("span",{class:"slider round allowed_other"},null,-1),Vi=Object(a["h"])("br",null,null,-1),Ui=Object(a["h"])("br",null,null,-1),Ii=Object(a["h"])("br",null,null,-1),Ti=Object(a["h"])("br",null,null,-1);Object(a["r"])();var Fi=ji((function(e,t,n,i,o,s){return Object(a["q"])(),Object(a["d"])("div",{class:["flex row",!o.invalid||void 0!==e.answer&&""!=e.answer?"":o.invalid]},[o.valid?Object(a["e"])("",!0):(Object(a["q"])(),Object(a["d"])("input",{id:n.qid+"_validator",key:o.valid,value:"O máximo deve ser superior ao mínimo.",type:"text",oninvalid:"setCustomValidity('O máximo deve ser superior ao mínimo.')",pattern:o.valid?void 0:".a",class:"warning-field removable",onkeydown:"return false;",size:"O máximo deve ser superior ao mínimo.".length-3,onInvalid:t[1]||(t[1]=function(e){return o.invalid="invalid"})},null,40,["id","pattern","size"])),(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(o.result.options,(function(e,i){return Object(a["q"])(),Object(a["d"])("div",{key:i,class:"flex row la",style:{"margin-bottom":"5px"}},[Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_option_"+i,"onUpdate:modelValue":function(e){return o.result.options[i]=e},type:"text",style:{height:"32px"},onChange:t[2]||(t[2]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id","onUpdate:modelValue"]),[[a["G"],o.result.options[i]]]),Object(a["J"])(Object(a["h"])("i",{class:"remove round flex ca vca unselectable",style:{"margin-top":"-1px"},onClick:function(e){return o.result.options.splice(i,1)}},"✖",8,["onClick"]),[[a["H"],o.result.options.length>1]])])})),128)),Object(a["h"])("button",{type:"button",class:"add_field add_section hoverable",onClick:t[3]||(t[3]=function(e){return o.result.options.push("")})}," Adicionar opção "),vi,Object(a["h"])("div",{id:"advanced_options_control",class:"flex row unselectable",onClick:t[4]||(t[4]=function(e){return o.advancedOptionsShown=!o.advancedOptionsShown})},[_i,Object(a["J"])(Object(a["h"])("i",gi,null,512),[[a["H"],!o.advancedOptionsShown]]),Object(a["J"])(Object(a["h"])("i",qi,null,512),[[a["H"],o.advancedOptionsShown]])]),Object(a["J"])(Object(a["h"])("div",null,[yi,(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(o.result.options,(function(e,i){return Object(a["q"])(),Object(a["d"])("div",{key:i},[Object(a["h"])("label",{class:"option-label no-width",for:n.qid+"_default_"+i},Object(a["B"])(e),9,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_default_"+i,"onUpdate:modelValue":t[5]||(t[5]=function(e){return o.result.default=e}),value:i,type:"checkbox",onChange:t[6]||(t[6]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id","value"]),[[a["D"],o.result.default]])])})),128)),wi,Object(a["h"])("label",{class:"option-label",for:n.qid+"_min_selected"},"Mínimo selecionados: ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_min_selected","onUpdate:modelValue":t[7]||(t[7]=function(e){return o.result.min_selected=e}),type:"number",step:"1",min:"1",onChange:t[8]||(t[8]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],o.result.min_selected,void 0,{number:!0}]]),xi,Object(a["h"])("label",{class:"option-label",for:n.qid+"_max_selected"},"Máximo selecionados: ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_max_selected","onUpdate:modelValue":t[9]||(t[9]=function(e){return o.result.max_selected=e}),type:"number",step:"1",min:"1",onChange:t[10]||(t[10]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],o.result.max_selected,void 0,{number:!0}]]),ki,Ci,Object(a["h"])("label",Si,[Object(a["J"])(Object(a["h"])("input",{"onUpdate:modelValue":t[11]||(t[11]=function(e){return o.result.allowed_other=e}),type:"checkbox",onChange:t[12]||(t[12]=function(){return s.update&&s.update.apply(s,arguments)})},null,544),[[a["D"],o.result.allowed_other]]),Ji]),Vi,Object(a["J"])(Object(a["h"])("div",null,[Object(a["h"])("label",{class:"option-label",for:n.qid+"_placeholder"},"Texto de sugestão (outros): ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_placeholder","onUpdate:modelValue":t[13]||(t[13]=function(e){return o.result.placeholder=e}),type:"text",onChange:t[14]||(t[14]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],o.result.placeholder]]),Ui,Object(a["h"])("label",{class:"option-label",for:n.qid+"_min_length"},"Tamanho mínimo (outros): ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_min_length","onUpdate:modelValue":t[15]||(t[15]=function(e){return o.result.min_length=e}),type:"number",step:"1",min:"1",onChange:t[16]||(t[16]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],o.result.min_length,void 0,{number:!0}]]),Ii,Object(a["h"])("label",{class:"option-label",for:n.qid+"_max_length"},"Tamanho máximo (outros): ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_max_length","onUpdate:modelValue":t[17]||(t[17]=function(e){return o.result.max_length=e}),type:"number",step:"1",min:"1",onChange:t[18]||(t[18]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],o.result.max_length,void 0,{number:!0}]]),Ti,Object(a["h"])("label",{class:"option-label",for:n.qid+"_decimal_places"},"Pergunta de outros: ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_other_string","onUpdate:modelValue":t[19]||(t[19]=function(e){return o.result.other_string=e}),type:"text",onChange:t[20]||(t[20]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],o.result.other_string]])],512),[[a["H"],o.result.allowed_other]])],512),[[a["H"],o.advancedOptionsShown]])],2)})),Di={name:"MultipleChoiceField",props:["qid","properties"],emits:["update"],data:function(){return{result:this.properties,valid:!0,invalid:"",advancedOptionsShown:!1}},created:function(){void 0===this.result.options&&(this.result.options=[""]),void 0===this.result.default&&(this.result.default=[])},methods:{update:function(){this.valid=!this.result.min_length||!this.result.max_length||this.result.min_length<=this.result.max_length,this.valid=this.valid&&(this.valid=!this.result.min_selected||!this.result.max_selected||this.result.min_selected<=this.result.max_selected),(""===this.result.default||void 0!==this.result.default&&0==this.result.default.length)&&(this.result.default=void 0),""!==this.result.placeholder&&this.result.allowed_other||(this.result.placeholder=void 0),""!==this.result.min_length&&this.result.allowed_other||(this.result.min_length=void 0),""!==this.result.max_length&&this.result.allowed_other||(this.result.max_length=void 0),""===this.result.min_selected&&(this.result.min_selected=void 0),""===this.result.max_selected&&(this.result.max_selected=void 0),this.$emit("update",this.result),void 0===this.result.default&&(this.result.default=[])}}};n("818f");Di.render=Fi,Di.__scopeId="data-v-2c899848";var Bi=Di,Gi=Object(a["L"])("data-v-451f38cd");Object(a["u"])("data-v-451f38cd");var Ri=Object(a["h"])("br",null,null,-1),Ai=Object(a["h"])("h2",null,"Opções avançadas",-1),zi={class:"arrow right"},$i={class:"arrow down"},Hi=Object(a["h"])("option",null,null,-1),Ni=Object(a["g"])(),Mi=Object(a["h"])("br",null,null,-1),Pi=Object(a["h"])("option",{value:"radio"}," Radio ",-1),Li=Object(a["h"])("option",{value:"dropdown"}," Lista ",-1),Ei=Object(a["h"])("br",null,null,-1),Xi=Object(a["h"])("br",null,null,-1),Yi={class:"switch"},Ki=Object(a["h"])("span",{class:"slider round allowed_other"},null,-1),Qi=Object(a["h"])("br",null,null,-1),Wi=Object(a["h"])("br",null,null,-1),Zi=Object(a["h"])("br",null,null,-1),eo=Object(a["h"])("br",null,null,-1);Object(a["r"])();var to=Gi((function(e,t,n,i,o,s){return Object(a["q"])(),Object(a["d"])("div",{class:["flex row",!o.invalid||void 0!==e.answer&&""!=e.answer?"":o.invalid]},[o.valid?Object(a["e"])("",!0):(Object(a["q"])(),Object(a["d"])("input",{id:n.qid+"_validator",key:o.valid,value:"O tamanho máximo deve ser superior ao tamanho mínimo.",type:"text",oninvalid:"setCustomValidity('O tamanho máximo deve ser superior ao tamanho mínimo.')",pattern:o.valid?void 0:".a",class:"warning-field removable",onkeydown:"return false;",size:"O tamanho máximo deve ser superior ao tamanho mínimo.".length-6,onInvalid:t[1]||(t[1]=function(e){return o.invalid="invalid"})},null,40,["id","pattern","size"])),(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(o.result.options,(function(e,i){return Object(a["q"])(),Object(a["d"])("div",{key:i,class:"flex row la",style:{"margin-bottom":"5px"}},[Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_option_"+i,"onUpdate:modelValue":function(e){return o.result.options[i]=e},type:"text",style:{height:"32px"},onChange:t[2]||(t[2]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id","onUpdate:modelValue"]),[[a["G"],o.result.options[i]]]),Object(a["J"])(Object(a["h"])("i",{class:"remove round flex ca vca unselectable",style:{"margin-top":"-1px"},onClick:function(e){return o.result.options.splice(i,1)}},"✖",8,["onClick"]),[[a["H"],o.result.options.length>1]])])})),128)),Object(a["h"])("button",{type:"button",class:"add_field add_section hoverable",onClick:t[3]||(t[3]=function(e){return o.result.options.push("")})}," Adicionar opção "),Ri,Object(a["h"])("div",{id:"advanced_options_control",class:"flex row unselectable",onClick:t[4]||(t[4]=function(e){return o.advancedOptionsShown=!o.advancedOptionsShown})},[Ai,Object(a["J"])(Object(a["h"])("i",zi,null,512),[[a["H"],!o.advancedOptionsShown]]),Object(a["J"])(Object(a["h"])("i",$i,null,512),[[a["H"],o.advancedOptionsShown]])]),Object(a["J"])(Object(a["h"])("div",null,[Object(a["h"])("label",{class:"option-label",for:n.qid+"_default"},"Valor por defeito: ",8,["for"]),Object(a["J"])(Object(a["h"])("select",{id:n.qid+"_default","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.result.default=e}),onChange:t[6]||(t[6]=function(){return s.update&&s.update.apply(s,arguments)})},[Hi,Ni,(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(o.result.options,(function(e,t){return Object(a["q"])(),Object(a["d"])("option",{key:t,value:t},Object(a["B"])(e),9,["value"])})),128))],40,["id"]),[[a["F"],o.result.default]]),Mi,Object(a["h"])("label",{class:"option-label",for:n.qid+"_style"},"Estilo: ",8,["for"]),Object(a["J"])(Object(a["h"])("select",{id:n.qid+"_style","onUpdate:modelValue":t[7]||(t[7]=function(e){return o.result.style=e}),required:"",onChange:t[8]||(t[8]=function(){return s.update&&s.update.apply(s,arguments)})},[Pi,Li],40,["id"]),[[a["F"],o.result.style]]),Ei,Xi,Object(a["h"])("label",Yi,[Object(a["J"])(Object(a["h"])("input",{"onUpdate:modelValue":t[9]||(t[9]=function(e){return o.result.allowed_other=e}),type:"checkbox",onChange:t[10]||(t[10]=function(){return s.update&&s.update.apply(s,arguments)})},null,544),[[a["D"],o.result.allowed_other]]),Ki]),Qi,Object(a["J"])(Object(a["h"])("div",null,[Object(a["h"])("label",{class:"option-label",for:n.qid+"_placeholder"},"Texto de sugestão (outros): ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_placeholder","onUpdate:modelValue":t[11]||(t[11]=function(e){return o.result.placeholder=e}),type:"text",onChange:t[12]||(t[12]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],o.result.placeholder]]),Wi,Object(a["h"])("label",{class:"option-label",for:n.qid+"_min_length"},"Tamanho mínimo (outros): ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_min_length","onUpdate:modelValue":t[13]||(t[13]=function(e){return o.result.min_length=e}),type:"number",step:"1",min:"1",onChange:t[14]||(t[14]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],o.result.min_length,void 0,{number:!0}]]),Zi,Object(a["h"])("label",{class:"option-label",for:n.qid+"_max_length"},"Tamanho máximo (outros): ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_max_length","onUpdate:modelValue":t[15]||(t[15]=function(e){return o.result.max_length=e}),type:"number",step:"1",min:"1",onChange:t[16]||(t[16]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],o.result.max_length,void 0,{number:!0}]]),eo,Object(a["h"])("label",{class:"option-label",for:n.qid+"_decimal_places"},"Pergunta de outros: ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_other_string","onUpdate:modelValue":t[17]||(t[17]=function(e){return o.result.other_string=e}),type:"text",onChange:t[18]||(t[18]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],o.result.other_string]])],512),[[a["H"],o.result.allowed_other]])],512),[[a["H"],o.advancedOptionsShown]])],2)})),no={name:"MultipleChoiceField",props:["qid","properties"],emits:["update"],data:function(){return{result:this.properties,valid:!0,invalid:"",advancedOptionsShown:!1}},created:function(){void 0===this.result.options&&(this.result.options=[""]),void 0===this.result.style&&(this.result.style="radio",this.update())},methods:{update:function(){this.valid=!this.result.min_length||!this.result.max_length||this.result.min_length<=this.result.max_length,""===this.result.default&&(this.result.default=void 0),""!==this.result.placeholder&&this.result.allowed_other||(this.result.placeholder=void 0),""!==this.result.min_length&&this.result.allowed_other||(this.result.min_length=void 0),""!==this.result.max_length&&this.result.allowed_other||(this.result.max_length=void 0),this.$emit("update",this.result)}}};n("7402");no.render=to,no.__scopeId="data-v-451f38cd";var io=no,oo=Object(a["h"])("h2",null,"Opções avançadas",-1),ao={class:"arrow right"},so={class:"arrow down"},ro=Object(a["h"])("br",null,null,-1),lo=Object(a["h"])("br",null,null,-1),co=Object(a["h"])("br",null,null,-1),uo=Object(a["h"])("br",null,null,-1);function ho(e,t,n,i,o,s){var r=this;return Object(a["q"])(),Object(a["d"])("div",{class:["flex row",!o.invalid||void 0!==e.answer&&""!=e.answer?"":o.invalid]},[o.valid?Object(a["e"])("",!0):(Object(a["q"])(),Object(a["d"])("input",{id:n.qid+"_validator",key:o.valid,value:"O tamanho máximo deve ser superior ao tamanho mínimo.",type:"text",oninvalid:"setCustomValidity('O tamanho máximo deve ser superior ao tamanho mínimo.')",pattern:o.valid?void 0:".a",class:"warning-field removable",onkeydown:"return false;",size:"O tamanho máximo deve ser superior ao tamanho mínimo.".length-6,onInvalid:t[1]||(t[1]=function(e){return o.invalid="invalid"})},null,40,["id","pattern","size"])),Object(a["h"])("div",{id:"advanced_options_control",class:"flex row unselectable",onClick:t[2]||(t[2]=function(e){return o.advancedOptionsShown=!o.advancedOptionsShown})},[oo,Object(a["J"])(Object(a["h"])("i",ao,null,512),[[a["H"],!o.advancedOptionsShown]]),Object(a["J"])(Object(a["h"])("i",so,null,512),[[a["H"],o.advancedOptionsShown]])]),Object(a["J"])(Object(a["h"])("div",null,[Object(a["h"])("label",{class:"option-label",for:n.qid+"_default"},"Valor por defeito: ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_default","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.result.default=e}),type:"text",onChange:t[4]||(t[4]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],this.result.default]]),ro,Object(a["h"])("label",{class:"option-label",for:n.qid+"_placeholder"},"Texto de sugestão: ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_placeholder","onUpdate:modelValue":t[5]||(t[5]=function(e){return r.result.placeholder=e}),type:"text",onChange:t[6]||(t[6]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],this.result.placeholder]]),lo,Object(a["h"])("label",{class:"option-label",for:n.qid+"_min_length"},"Tamanho mínimo: ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_min_length","onUpdate:modelValue":t[7]||(t[7]=function(e){return r.result.min_length=e}),type:"number",step:"1",min:"1",onChange:t[8]||(t[8]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],this.result.min_length,void 0,{number:!0}]]),co,Object(a["h"])("label",{class:"option-label",for:n.qid+"_max_length"},"Tamanho máximo: ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_max_length","onUpdate:modelValue":t[9]||(t[9]=function(e){return r.result.max_length=e}),type:"number",step:"1",min:"1",onChange:t[10]||(t[10]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],this.result.max_length,void 0,{number:!0}]]),uo,Object(a["h"])("label",{class:"option-label",for:n.qid+"_default_lines"},"Linhas de escrita: ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_default_lines","onUpdate:modelValue":t[11]||(t[11]=function(e){return r.result.default_lines=e}),type:"number",step:"1",min:"1",onChange:t[12]||(t[12]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],this.result.default_lines,void 0,{number:!0}]])],512),[[a["H"],o.advancedOptionsShown]])],2)}var po={name:"LongTextField",props:["qid","properties"],emits:["update"],data:function(){return{result:this.properties,valid:!0,invalid:"",advancedOptionsShown:!1}},methods:{update:function(){this.valid=!this.result.min_length||!this.result.max_length||this.result.min_length<=this.result.max_length,""===this.result.default&&(this.result.default=void 0),""===this.result.placeholder&&(this.result.placeholder=void 0),""===this.result.min_length&&(this.result.min_length=void 0),""===this.result.max_length&&(this.result.max_length=void 0),""===this.result.default_lines&&(this.result.default_lines=void 0),this.$emit("update",this.result)}}};n("9e53");po.render=ho;var bo=po,fo=Object(a["h"])("h2",null,"Opções avançadas",-1),mo={class:"arrow right"},Oo={class:"arrow down"},jo=Object(a["h"])("br",null,null,-1),vo=Object(a["h"])("br",null,null,-1),_o=Object(a["h"])("br",null,null,-1);function go(e,t,n,i,o,s){var r=this;return Object(a["q"])(),Object(a["d"])("div",{class:["flex row",!o.invalid||void 0!==e.answer&&""!=e.answer?"":o.invalid]},[o.valid?Object(a["e"])("",!0):(Object(a["q"])(),Object(a["d"])("input",{id:n.qid+"_validator",key:o.valid,value:"O tamanho máximo deve ser superior ao tamanho mínimo.",type:"text",oninvalid:"setCustomValidity('O tamanho máximo deve ser superior ao tamanho mínimo.')",pattern:o.valid?void 0:".a",class:"warning-field removable",onkeydown:"return false;",size:"O tamanho máximo deve ser superior ao tamanho mínimo.".length-6,onInvalid:t[1]||(t[1]=function(e){return o.invalid="invalid"})},null,40,["id","pattern","size"])),Object(a["h"])("div",{id:"advanced_options_control",class:"flex row unselectable",onClick:t[2]||(t[2]=function(e){return o.advancedOptionsShown=!o.advancedOptionsShown})},[fo,Object(a["J"])(Object(a["h"])("i",mo,null,512),[[a["H"],!o.advancedOptionsShown]]),Object(a["J"])(Object(a["h"])("i",Oo,null,512),[[a["H"],o.advancedOptionsShown]])]),Object(a["J"])(Object(a["h"])("div",null,[Object(a["h"])("label",{class:"option-label",for:n.qid+"_default"},"Valor por defeito: ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_default","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.result.default=e}),type:"text",onChange:t[4]||(t[4]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],this.result.default]]),jo,Object(a["h"])("label",{class:"option-label",for:n.qid+"_placeholder"},"Texto de sugestão: ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_placeholder","onUpdate:modelValue":t[5]||(t[5]=function(e){return r.result.placeholder=e}),type:"text",onChange:t[6]||(t[6]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],this.result.placeholder]]),vo,Object(a["h"])("label",{class:"option-label",for:n.qid+"_min_length"},"Tamanho mínimo: ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_min_length","onUpdate:modelValue":t[7]||(t[7]=function(e){return r.result.min_length=e}),type:"number",step:"1",min:"1",onChange:t[8]||(t[8]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],this.result.min_length,void 0,{number:!0}]]),_o,Object(a["h"])("label",{class:"option-label",for:n.qid+"_max_length"},"Tamanho máximo: ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_max_length","onUpdate:modelValue":t[9]||(t[9]=function(e){return r.result.max_length=e}),type:"number",step:"1",min:"1",onChange:t[10]||(t[10]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],this.result.max_length,void 0,{number:!0}]])],512),[[a["H"],o.advancedOptionsShown]])],2)}var qo={name:"ShortTextField",props:["qid","properties"],emits:["update"],data:function(){return{result:this.properties,valid:!0,invalid:"",advancedOptionsShown:!1}},methods:{update:function(){this.valid=!this.result.min_length||!this.result.max_length||this.result.min_length<=this.result.max_length,""===this.result.default&&(this.result.default=void 0),""===this.result.placeholder&&(this.result.placeholder=void 0),""===this.result.min_length&&(this.result.min_length=void 0),""===this.result.max_length&&(this.result.max_length=void 0),this.$emit("update",this.result)}}};n("5886");qo.render=go;var yo=qo,wo=Object(a["h"])("h2",null,"Opções avançadas",-1),xo={class:"arrow right"},ko={class:"arrow down"},Co=Object(a["h"])("br",null,null,-1),So=Object(a["h"])("br",null,null,-1);function Jo(e,t,n,i,o,s){var r=this;return Object(a["q"])(),Object(a["d"])("div",{class:["flex row",!o.invalid||void 0!==e.answer&&""!=e.answer?"":o.invalid]},[o.valid?Object(a["e"])("",!0):(Object(a["q"])(),Object(a["d"])("input",{id:n.qid+"_validator",key:o.valid,value:"A data final deve ser após a data inicial.",type:"text",oninvalid:"setCustomValidity('A data final deve ser após a data inicial.')",pattern:o.valid?void 0:".a",class:"warning-field removable",onkeydown:"return false;",size:"A data final deve ser após a data inicial.".length-6,onInvalid:t[1]||(t[1]=function(e){return o.invalid="invalid"})},null,40,["id","pattern","size"])),Object(a["h"])("div",{id:"advanced_options_control",class:"flex row unselectable",onClick:t[2]||(t[2]=function(e){return o.advancedOptionsShown=!o.advancedOptionsShown})},[wo,Object(a["J"])(Object(a["h"])("i",xo,null,512),[[a["H"],!o.advancedOptionsShown]]),Object(a["J"])(Object(a["h"])("i",ko,null,512),[[a["H"],o.advancedOptionsShown]])]),Object(a["J"])(Object(a["h"])("div",null,[Object(a["h"])("label",{class:"option-label",for:n.qid+"_default"},"Valor por defeito: ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_default","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.result.default=e}),type:"date",onChange:t[4]||(t[4]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],this.result.default]]),Co,Object(a["h"])("label",{class:"option-label",for:n.qid+"_begin"},"Data mínima: ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_begin","onUpdate:modelValue":t[5]||(t[5]=function(e){return r.result.begin=e}),type:"date",onChange:t[6]||(t[6]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],this.result.begin]]),So,Object(a["h"])("label",{class:"option-label",for:n.qid+"_end"},"Data máxima: ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_end","onUpdate:modelValue":t[7]||(t[7]=function(e){return r.result.end=e}),type:"date",onChange:t[8]||(t[8]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],this.result.end]])],512),[[a["H"],o.advancedOptionsShown]])],2)}var Vo={name:"DateField",props:["qid","properties"],emits:["update"],data:function(){return{result:this.properties,valid:!0,invalid:"",advancedOptionsShown:!1}},methods:{update:function(){this.valid=!this.result.begin||!this.result.end||this.result.begin<=this.result.end,""===this.result.default&&(this.result.default=void 0),""===this.result.begin&&(this.result.begin=void 0),""===this.result.end&&(this.result.end=void 0),this.$emit("update",this.result)}}};n("1b6b");Vo.render=Jo;var Uo=Vo,Io=Object(a["h"])("h2",null,"Opções avançadas",-1),To={class:"arrow right"},Fo={class:"arrow down"},Do=Object(a["h"])("br",null,null,-1),Bo=Object(a["h"])("br",null,null,-1);function Go(e,t,n,i,o,s){var r=this;return Object(a["q"])(),Object(a["d"])("div",{class:["flex row",!o.invalid||void 0!==e.answer&&""!=e.answer?"":o.invalid]},[o.valid?Object(a["e"])("",!0):(Object(a["q"])(),Object(a["d"])("input",{id:n.qid+"_validator",key:o.valid,value:"A data e hora final deve ser após a data inicial.",type:"text",oninvalid:"setCustomValidity('A data e hora final deve ser após a data inicial.')",pattern:o.valid?void 0:".a",class:"warning-field removable",onkeydown:"return false;",size:"A data e hora final deve ser após a data inicial.".length-6,onInvalid:t[1]||(t[1]=function(e){return o.invalid="invalid"})},null,40,["id","pattern","size"])),Object(a["h"])("div",{id:"advanced_options_control",class:"flex row unselectable",onClick:t[2]||(t[2]=function(e){return o.advancedOptionsShown=!o.advancedOptionsShown})},[Io,Object(a["J"])(Object(a["h"])("i",To,null,512),[[a["H"],!o.advancedOptionsShown]]),Object(a["J"])(Object(a["h"])("i",Fo,null,512),[[a["H"],o.advancedOptionsShown]])]),Object(a["J"])(Object(a["h"])("div",null,[Object(a["h"])("label",{class:"option-label",for:n.qid+"_default"},"Valor por defeito: ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_default","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.result.default=e}),type:"datetime-local",onChange:t[4]||(t[4]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],this.result.default]]),Do,Object(a["h"])("label",{class:"option-label",for:n.qid+"_begin"},"Data mínima: ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_begin","onUpdate:modelValue":t[5]||(t[5]=function(e){return r.result.begin=e}),type:"datetime-local",onChange:t[6]||(t[6]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],this.result.begin]]),Bo,Object(a["h"])("label",{class:"option-label",for:n.qid+"_end"},"Data máxima: ",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid+"_end","onUpdate:modelValue":t[7]||(t[7]=function(e){return r.result.end=e}),type:"datetime-local",onChange:t[8]||(t[8]=function(){return s.update&&s.update.apply(s,arguments)})},null,40,["id"]),[[a["G"],this.result.end]])],512),[[a["H"],o.advancedOptionsShown]])],2)}var Ro={name:"DateTimeField",props:["qid","properties"],emits:["update"],data:function(){return{result:this.properties,valid:!0,invalid:"",advancedOptionsShown:!1}},methods:{update:function(){this.valid=!this.result.begin||!this.result.end||this.result.begin<=this.result.end,""===this.result.default&&(this.result.default=void 0),""===this.result.begin&&(this.result.begin=void 0),""===this.result.end&&(this.result.end=void 0),this.$emit("update",this.result)}}};n("9efe");Ro.render=Go;var Ao=Ro;function zo(e,t,n,i,o,s){return Object(a["q"])(),Object(a["d"])("div",{class:["flex row",!o.invalid||void 0!==o.answer&&""!=o.answer?"":o.invalid]},[Object(a["J"])(Object(a["h"])("textarea",{id:n.qid,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.answer=e}),type:"text",name:n.qid,required:"",placeholder:"Descrição",onChange:t[2]||(t[2]=function(){return s.update&&s.update.apply(s,arguments)}),onInvalid:t[3]||(t[3]=function(e){return o.invalid="invalid"})},null,40,["id","name"]),[[a["G"],o.answer]])],2)}var $o={name:"DescriptionField",props:["question","qid","value","properties"],emits:["update"],data:function(){return{answer:this.properties.content,invalid:""}},methods:{update:function(){this.$emit("update",{field_type:"text_exposition",content:this.answer})}}};$o.render=zo;var Ho=$o;function No(e,t,n,i,o,s){return Object(a["q"])(),Object(a["d"])("div",{key:o.invalid,class:["flex row",!o.invalid||o.answer&&11==o.answer.length?"":o.invalid]},[Object(a["h"])("label",{for:n.qid},'Insira o ID do vídeo (por exemplo "dQw4w9WgXcQ")',8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.answer=e}),type:"text",name:n.qid,minlength:"11",maxlength:"11",required:"",onChange:t[2]||(t[2]=function(){return s.update&&s.update.apply(s,arguments)}),onInvalid:t[3]||(t[3]=function(e){return o.invalid="invalid"})},null,40,["id","name"]),[[a["G"],o.answer]])],2)}var Mo={name:"YouTubeField",props:["question","qid","value","properties"],emits:["update"],data:function(){return{answer:this.properties.content,invalid:""}},methods:{update:function(){this.answer&&11==this.answer.length&&this.$emit("update",{field_type:"youtube_exposition",content:this.answer})}}};Mo.render=No;var Po=Mo;function Lo(e,t,n,i,o,s){return Object(a["q"])(),Object(a["d"])("div",{class:["flex row",!o.invalid||void 0!==o.answer&&""!=o.answer?"":o.invalid]},[Object(a["h"])("label",{for:n.qid},"Insira o link da imagem",8,["for"]),Object(a["J"])(Object(a["h"])("input",{id:n.qid,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.answer=e}),type:"text",name:n.qid,required:"",onChange:t[2]||(t[2]=function(){return s.update&&s.update.apply(s,arguments)}),onInvalid:t[3]||(t[3]=function(e){return o.invalid="invalid"})},null,40,["id","name"]),[[a["G"],o.answer]])],2)}var Eo={name:"YouTubeField",props:["question","qid","value","properties"],emits:["update"],data:function(){return{answer:this.properties.content,invalid:""}},methods:{update:function(){this.$emit("update",{field_type:"image_exposition",content:this.answer})}}};Eo.render=Lo;var Xo=Eo,Yo={name:"CreateResponse",components:o,data:function(){return{response:void 0,form_types:[],title:"Título do Formulário",type:void 0,form:{},submit_message:"Formulário submetido com sucesso!",redirect:"/pre_events/consult_events/",redirect_delay:3,advancedOptionsShown:!1,new_field:"none",selecting_field:[],added_sections:[],hide_section_numbers:!1,hide_question_numbers:!1}},created:function(){var e=this;we.get("formType/").then((function(t){return e.form_types=t.data}))},methods:{leave:function(){confirm("De certeza que quer sair? As suas alterações serão perdidas.")&&(location.href="/forms")},addSection:function(){var e={section_name:"Título de Secção",questions:[]};this.added_sections.push(e)},selected_field:function(e,t){this.selecting_field[t]=!this.selecting_field[t],e.questions.push({question:"Título",properties:{field_type:this.new_field}}),this.new_field="none"},submit:function(){var e=this;if(confirm("Confirma que a informação introduzida está correta?")){for(var t=0;t<this.added_sections.length;)0==this.added_sections[t].questions.length?this.added_sections.splice(t,1):t++;var n={method:"post",url:"/form/",headers:{"X-CSRFToken":this.getCookie("csrftoken")},data:{title:this.title,type:this.type,form:{hide_section_numbers:this.hide_section_numbers,hide_question_numbers:this.hide_question_numbers,sections:this.added_sections},submit_message:this.submit_message,redirect:this.redirect,redirect_delay:this.redirect_delay},transformResponse:[function(){var t=Object(F["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{e.response=JSON.parse(n)}catch(i){e.response=n}if(void 0===e.response.id){t.next=5;break}return t.next=4,new Promise((function(e){return setTimeout(e,3e3)}));case 4:e.$router.push("/editForm/".concat(e.response.id).concat(""));case 5:return t.abrupt("return",e.response);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()]};we(n)}},getCookie:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var o=n[i].trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t},getFieldTypeTitle:function(e){return"youtube_exposition"==e?"Vídeo (YouTube)":"text_exposition"==e?"Descrição de texto":"image_exposition"==e?"Imagem":"date"==e?"Data":"datetime"==e?"Data e hora":"longtext"==e?"Texto Longo":"shorttext"==e?"Texto Curto":"multiplechoice"==e?"Escolha Múltipla":"selectboxes"==e?"Caixas de Seleção":"number"==e?"Número":""},hasPrev:function(e,t){return t>0||e>0},hasNext:function(e,t){return t+1<this.added_sections[e].questions.length||e+1<this.added_sections.length},moveUp:function(e,t){var n;this.hasPrev(e,t)&&(t>0?(n=this.added_sections[e].questions[t-1],this.added_sections[e].questions[t-1]=this.added_sections[e].questions[t],this.added_sections[e].questions[t]=n):(this.added_sections[e-1].questions.push(this.added_sections[e].questions[t]),this.added_sections[e].questions.splice(t,1)))},moveDown:function(e,t){var n;this.hasNext(e,t)&&(t+1<this.added_sections[e].questions.length?(n=this.added_sections[e].questions[t+1],this.added_sections[e].questions[t+1]=this.added_sections[e].questions[t],this.added_sections[e].questions[t]=n):(this.added_sections[e+1].questions.unshift(this.added_sections[e].questions[t]),this.added_sections[e].questions.splice(t,1)))},hasPrevSection:function(e){return e>0},hasNextSection:function(e){return e+1<this.added_sections.length},moveSectionUp:function(e){if(this.hasPrevSection(e)){var t=this.added_sections[e-1];this.added_sections[e-1]=this.added_sections[e],this.added_sections[e]=t}},moveSectionDown:function(e){if(this.hasNextSection(e)){var t=this.added_sections[e+1];this.added_sections[e+1]=this.added_sections[e],this.added_sections[e]=t}}}};n("430c");Yo.render=ni;var Ko=Yo,Qo={key:0},Wo=Object(a["h"])("h1",null,"Criação de novo formulário",-1),Zo=Object(a["h"])("hr",null,null,-1),ea=Object(a["h"])("h3",null,[Object(a["h"])("label",{for:"type"},"Tipo de formulário")],-1),ta=Object(a["h"])("option",{disabled:""},null,-1),na=Object(a["h"])("br",null,null,-1),ia=Object(a["h"])("h2",null,"Opções avançadas",-1),oa={class:"arrow right"},aa={class:"arrow down"},sa={id:"advanced_options"},ra=Object(a["h"])("br",null,null,-1),la=Object(a["h"])("h3",null,[Object(a["h"])("label",{for:"submit_message"},"Mensagem de sucesso")],-1),ca=Object(a["h"])("br",null,null,-1),da=Object(a["h"])("br",null,null,-1),ua=Object(a["h"])("h3",null,[Object(a["h"])("label",{class:"label",for:"redirect"},"Página de redireção após sucesso")],-1),ha=Object(a["h"])("br",null,null,-1),pa=Object(a["h"])("br",null,null,-1),ba=Object(a["h"])("h3",null,[Object(a["h"])("label",{for:"redirect_delay"},"Atraso de redireção (segundos)")],-1),fa={key:0},ma={key:1},Oa={key:2,class:"switch"},ja=Object(a["h"])("span",{class:"slider round hide_sections"},null,-1),va=Object(a["h"])("br",null,null,-1),_a=Object(a["h"])("br",null,null,-1),ga={key:3,class:"switch"},qa=Object(a["h"])("span",{class:"slider round hide_questions"},null,-1),ya=Object(a["h"])("hr",null,null,-1),wa={style:{"margin-left":"5px","margin-right":"10px"}},xa=Object(a["h"])("br",null,null,-1),ka={class:"flex column"},Ca=Object(a["h"])("br",null,null,-1),Sa={style:{"margin-left":"5px","margin-right":"10px"}},Ja=Object(a["h"])("br",null,null,-1),Va=Object(a["h"])("br",null,null,-1),Ua=Object(a["h"])("br",null,null,-1),Ia={key:0,class:"switch"},Ta=Object(a["h"])("span",{class:"slider round"},null,-1),Fa=Object(a["h"])("br",null,null,-1),Da={class:"new_field flex row ca"},Ba={class:"flex row la"},Ga=Object(a["f"])('<option disabled value="none"> Campo de Texto </option><option value="shorttext"> Texto Curto </option><option value="longtext"> Texto Longo </option><option disabled> Email </option><option disabled> Morada </option>',5),Ra=Object(a["h"])("option",{disabled:"",value:"none"}," Campo Numérico ",-1),Aa=Object(a["h"])("option",{value:"number"}," Número ",-1),za=Object(a["h"])("option",{disabled:""}," NIF ",-1),$a=Object(a["h"])("option",{disabled:""}," Número telefónico ",-1),Ha=Object(a["h"])("option",{disabled:"",value:"none"}," Campo de Data ",-1),Na=Object(a["h"])("option",{value:"date"}," Data ",-1),Ma=Object(a["h"])("option",{value:"datetime"}," Data e Hora ",-1),Pa=Object(a["h"])("option",{disabled:"",value:"none"}," Campo de Seleção ",-1),La=Object(a["h"])("option",{value:"multiplechoice"}," Escolha Múltipla ",-1),Ea=Object(a["h"])("option",{value:"selectboxes"}," Caixas de Seleção ",-1),Xa=Object(a["h"])("option",{disabled:"",value:"none"}," Campo de Exposição ",-1),Ya=Object(a["h"])("option",{value:"text_exposition"}," Descrição ",-1),Ka=Object(a["h"])("option",{value:"image_exposition"}," Imagem ",-1),Qa=Object(a["h"])("option",{value:"youtube_exposition"}," Vídeo (YouTube) ",-1),Wa=Object(a["h"])("div",null,null,-1),Za={class:"flex row ca"},es={key:1},ts=Object(a["g"])("s"),ns=Object(a["g"])(", as perguntas não podem ser alteradas. Pode no entando alterar as opções acima. "),is=Object(a["h"])("hr",null,null,-1),os={key:2,class:"flex row ca",style:{height:"70px"}},as=Object(a["h"])("button",{type:"submit",class:"add_field add_section hoverable submit"}," Submeter ",-1),ss={key:0,class:"flex row ca",style:{height:"70px"}},rs={key:1},ls=Object(a["g"])(" Houve um erro interno na submissão do formulário."),cs=Object(a["h"])("br",null,null,-1);function ds(e,t,n,i,o,s){return void 0!==o.added_sections?(Object(a["q"])(),Object(a["d"])("div",Qo,[Wo,Object(a["h"])("form",{id:"form-area",class:"flex column",onSubmit:t[17]||(t[17]=Object(a["K"])((function(){return s.submit&&s.submit.apply(s,arguments)}),["prevent"]))},[Object(a["h"])("div",null,[Object(a["J"])(Object(a["h"])("input",{id:"title","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.title=e}),class:"seamless_input",type:"text"},null,512),[[a["G"],o.title]]),Zo,ea,Object(a["J"])(Object(a["h"])("select",{id:"type","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.type=e}),required:""},[ta,(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(o.form_types,(function(e,t){return Object(a["q"])(),Object(a["d"])("option",{key:t,value:t},Object(a["B"])(e.name),9,["value"])})),128))],512),[[a["F"],o.type]])]),na,Object(a["h"])("div",{id:"advanced_options_control",class:"flex row unselectable",onClick:t[3]||(t[3]=function(e){return o.advancedOptionsShown=!o.advancedOptionsShown})},[ia,Object(a["J"])(Object(a["h"])("i",oa,null,512),[[a["H"],!o.advancedOptionsShown]]),Object(a["J"])(Object(a["h"])("i",aa,null,512),[[a["H"],o.advancedOptionsShown]])]),Object(a["J"])(Object(a["h"])("div",sa,[ra,la,Object(a["J"])(Object(a["h"])("textarea",{id:"submit_message","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.submit_message=e})},null,512),[[a["G"],o.submit_message]]),ca,da,ua,Object(a["J"])(Object(a["h"])("input",{id:"redirect","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.redirect=e}),type:"text"},null,512),[[a["G"],o.redirect]]),ha,pa,ba,Object(a["J"])(Object(a["h"])("input",{id:"redirect_delay","onUpdate:modelValue":t[6]||(t[6]=function(e){return o.redirect_delay=e}),type:"number",step:"0.25"},null,512),[[a["G"],o.redirect_delay]]),o.editable?(Object(a["q"])(),Object(a["d"])("br",fa)):Object(a["e"])("",!0),o.editable?(Object(a["q"])(),Object(a["d"])("br",ma)):Object(a["e"])("",!0),o.editable?(Object(a["q"])(),Object(a["d"])("label",Oa,[Object(a["J"])(Object(a["h"])("input",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return o.hide_section_numbers=e}),type:"checkbox"},null,512),[[a["D"],o.hide_section_numbers]]),ja])):Object(a["e"])("",!0),va,_a,o.editable?(Object(a["q"])(),Object(a["d"])("label",ga,[Object(a["J"])(Object(a["h"])("input",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return o.hide_question_numbers=e}),type:"checkbox"},null,512),[[a["D"],o.hide_question_numbers]]),qa])):Object(a["e"])("",!0)],512),[[a["H"],o.advancedOptionsShown]]),ya,o.editable?(Object(a["q"])(),Object(a["d"])(a["a"],{key:0},[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(o.added_sections,(function(e,n){return Object(a["q"])(),Object(a["d"])("div",{key:n,class:"flex row width-100 section"},[Object(a["h"])("div",wa,[Object(a["h"])("i",{class:"remove round flex ca vca unselectable",onClick:function(e){return o.added_sections.splice(n,1)}},"✖",8,["onClick"]),Object(a["J"])(Object(a["h"])("i",{class:"arrow up",onClick:function(e){return s.moveSectionUp(n)}},null,8,["onClick"]),[[a["H"],s.hasPrevSection(n)]]),xa,Object(a["J"])(Object(a["h"])("i",{class:"arrow down",style:{bottom:"7px"},onClick:function(e){return s.moveSectionDown(n)}},null,8,["onClick"]),[[a["H"],s.hasNextSection(n)]])]),Object(a["h"])("div",ka,[Object(a["J"])(Object(a["h"])("input",{"onUpdate:modelValue":function(t){return e.section_name=t},class:"seamless_input",type:"text"},null,8,["onUpdate:modelValue"]),[[a["G"],e.section_name]]),Ca,(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(e.questions,(function(t,i){return Object(a["q"])(),Object(a["d"])("div",{key:i,class:"flex row la width-100 question"},[Object(a["h"])("div",Sa,[Object(a["h"])("i",{class:"remove round flex ca vca unselectable",onClick:function(t){return e.questions.splice(i,1)}},"✖",8,["onClick"]),Object(a["J"])(Object(a["h"])("i",{class:"arrow up",onClick:function(e){return s.moveUp(n,i)}},null,8,["onClick"]),[[a["H"],s.hasPrev(n,i)]]),Ja,Object(a["J"])(Object(a["h"])("i",{class:"arrow down",style:{bottom:"7px"},onClick:function(e){return s.moveDown(n,i)}},null,8,["onClick"]),[[a["H"],s.hasNext(n,i)]])]),Object(a["h"])("div",null,[Object(a["h"])("div",null,[Object(a["h"])("h3",null,Object(a["B"])(s.getFieldTypeTitle(t.properties.field_type)),1),Va,Object(a["J"])(Object(a["h"])("input",{id:"section_"+n+"question_"+i,"onUpdate:modelValue":function(e){return t.question=e},type:"text",class:"seamless_input"},null,8,["id","onUpdate:modelValue"]),[[a["G"],t.question]])]),Ua,t.properties.field_type.includes("_exposition")?Object(a["e"])("",!0):(Object(a["q"])(),Object(a["d"])("label",Ia,[Object(a["J"])(Object(a["h"])("input",{"onUpdate:modelValue":function(e){return t.required=e},type:"checkbox"},null,8,["onUpdate:modelValue"]),[[a["D"],t.required]]),Ta,Fa])),(Object(a["q"])(),Object(a["d"])(Object(a["z"])(t.properties.field_type),{key:t.properties,class:"flex column ca vla",question:t,qid:n+"_"+i,properties:t.properties,onUpdate:function(e){return t.properties=e}},null,8,["question","qid","properties","onUpdate"]))])])})),128)),Object(a["h"])("div",Da,[Object(a["J"])(Object(a["h"])("div",Ba,[Object(a["J"])(Object(a["h"])("select",{"onUpdate:modelValue":t[9]||(t[9]=function(e){return o.new_field=e}),class:"flex row ca add_field",onChange:function(t){return s.selected_field(e,n)}},[Ga],40,["onChange"]),[[a["F"],o.new_field]]),Object(a["J"])(Object(a["h"])("select",{"onUpdate:modelValue":t[10]||(t[10]=function(e){return o.new_field=e}),class:"flex row ca add_field",onChange:function(t){return s.selected_field(e,n)}},[Ra,Aa,za,$a],40,["onChange"]),[[a["F"],o.new_field]]),Object(a["J"])(Object(a["h"])("select",{"onUpdate:modelValue":t[11]||(t[11]=function(e){return o.new_field=e}),class:"flex row ca add_field",onChange:function(t){return s.selected_field(e,n)}},[Ha,Na,Ma],40,["onChange"]),[[a["F"],o.new_field]]),Object(a["J"])(Object(a["h"])("select",{"onUpdate:modelValue":t[12]||(t[12]=function(e){return o.new_field=e}),class:"flex row ca add_field",onChange:function(t){return s.selected_field(e,n)}},[Pa,La,Ea],40,["onChange"]),[[a["F"],o.new_field]]),Object(a["J"])(Object(a["h"])("select",{"onUpdate:modelValue":t[13]||(t[13]=function(e){return o.new_field=e}),class:"flex row ca add_field",onChange:function(t){return s.selected_field(e,n)}},[Xa,Ya,Ka,Qa],40,["onChange"]),[[a["F"],o.new_field]])],512),[[a["H"],o.selecting_field[n]]]),Object(a["J"])(Object(a["h"])("button",{type:"button",class:"add_field round_add hoverable unselectable",onClick:function(e){return o.selecting_field[n]=!o.selecting_field[n]}}," + ",8,["onClick"]),[[a["H"],!o.selecting_field[n]]])])])])})),128)),Wa,Object(a["h"])("div",Za,[Object(a["h"])("button",{type:"button",class:"add_field add_section hoverable",onClick:t[14]||(t[14]=function(e){return s.addSection()})}," Adicionar secção ")])],64)):(Object(a["q"])(),Object(a["d"])("h3",es,[Object(a["g"])(" O formulário já tem "+Object(a["B"])(o.responses)+" resposta",1),1!=o.responses?(Object(a["q"])(),Object(a["d"])(a["a"],{key:0},[ts],64)):Object(a["e"])("",!0),ns])),is,void 0===o.response?(Object(a["q"])(),Object(a["d"])("div",os,[Object(a["h"])("a",{class:"add_field add_section hoverable cancel",href:"#leave",onClick:t[15]||(t[15]=function(e){return s.leave()})}," Cancelar "),as])):(Object(a["q"])(),Object(a["d"])(a["a"],{key:3},[void 0!==o.response.id||!o.editable&&void 0!==o.response.title?(Object(a["q"])(),Object(a["d"])("h3",ss," Formulário atualizado com sucesso. Pode continuar a editar. ")):(Object(a["q"])(),Object(a["d"])("div",rs,[ls,cs,Object(a["J"])(Object(a["h"])("textarea",{"onUpdate:modelValue":t[16]||(t[16]=function(e){return o.response=e})},null,512),[[a["G"],o.response]])]))],64))],32)])):Object(a["e"])("",!0)}var us={name:"EditForm",components:o,data:function(){return{response:void 0,form_types:[],title:"Título do Formulário",type:void 0,form:{},submit_message:"Formulário submetido com sucesso!",redirect:"/forms/",redirect_delay:3,advancedOptionsShown:!1,new_field:"none",selecting_field:[],added_sections:void 0,hide_section_numbers:!1,hide_question_numbers:!1,editable:!1,responses:0}},created:function(){var e=this;we.get("formType/").then((function(t){return e.form_types=t.data})),we.get("form/".concat(this.$route.params.id)).then((function(t){var n=t.data;e.title=n.title,e.type=n.type,e.added_sections=n.form.sections,e.hide_section_numbers=n.form.hide_section_numbers,e.hide_question_numbers=n.form.hide_question_numbers,e.submit_message=n.submit_message,e.redirect=n.redirect,e.redirect_delay=n.redirect_delay,e.editable=0==n.responses,e.responses=n.responses}))},methods:{leave:function(){confirm("De certeza que quer sair? As suas alterações serão perdidas.")&&(location.href="/forms")},addSection:function(){var e={section_name:"Título de Secção",questions:[]};this.added_sections.push(e)},selected_field:function(e,t){this.selecting_field[t]=!this.selecting_field[t],e.questions.push({question:"Título",properties:{field_type:this.new_field}}),this.new_field="none"},submit:function(){var e=this;if(confirm("Confirma que a informação introduzida está correta?")){for(var t=0;t<this.added_sections.length;)0==this.added_sections[t].questions.length?this.added_sections.splice(t,1):t++;var n={method:"put",url:"/form/".concat(this.$route.params.id).concat("/"),headers:{"X-CSRFToken":this.getCookie("csrftoken")},data:{title:this.title,type:this.type,form:this.editable?{hide_section_numbers:this.hide_section_numbers,hide_question_numbers:this.hide_question_numbers,sections:this.added_sections}:void 0,submit_message:this.submit_message,redirect:this.redirect,redirect_delay:this.redirect_delay},transformResponse:[function(){var t=Object(F["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{e.response=JSON.parse(n)}catch(i){e.response=n}if(void 0===e.response.id&&(e.editable||void 0===e.response.title)){t.next=5;break}return t.next=4,new Promise((function(e){return setTimeout(e,5e3)}));case 4:e.response=void 0;case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()]};we(n)}},getCookie:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var o=n[i].trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t},getFieldTypeTitle:function(e){return"youtube_exposition"==e?"Vídeo (YouTube)":"text_exposition"==e?"Descrição de texto":"image_exposition"==e?"Imagem":"date"==e?"Data":"datetime"==e?"Data e hora":"longtext"==e?"Texto Longo":"shorttext"==e?"Texto Curto":"multiplechoice"==e?"Escolha Múltipla":"selectboxes"==e?"Caixas de Seleção":"number"==e?"Número":""},hasPrev:function(e,t){return t>0||e>0},hasNext:function(e,t){return t+1<this.added_sections[e].questions.length||e+1<this.added_sections.length},moveUp:function(e,t){var n;this.hasPrev(e,t)&&(t>0?(n=this.added_sections[e].questions[t-1],this.added_sections[e].questions[t-1]=this.added_sections[e].questions[t],this.added_sections[e].questions[t]=n):(this.added_sections[e-1].questions.push(this.added_sections[e].questions[t]),this.added_sections[e].questions.splice(t,1)))},moveDown:function(e,t){var n;this.hasNext(e,t)&&(t+1<this.added_sections[e].questions.length?(n=this.added_sections[e].questions[t+1],this.added_sections[e].questions[t+1]=this.added_sections[e].questions[t],this.added_sections[e].questions[t]=n):(this.added_sections[e+1].questions.unshift(this.added_sections[e].questions[t]),this.added_sections[e].questions.splice(t,1)))},hasPrevSection:function(e){return e>0},hasNextSection:function(e){return e+1<this.added_sections.length},moveSectionUp:function(e){if(this.hasPrevSection(e)){var t=this.added_sections[e-1];this.added_sections[e-1]=this.added_sections[e],this.added_sections[e]=t}},moveSectionDown:function(e){if(this.hasNextSection(e)){var t=this.added_sections[e+1];this.added_sections[e+1]=this.added_sections[e],this.added_sections[e]=t}}}};n("ad9f");us.render=ds;var hs=us,ps={key:0,id:"responses"},bs=Object(a["h"])("h1",null," Gestão de formulários ",-1),fs={style:{"background-color":"#365c98"}},ms=Object(a["h"])("tr",{class:"sections"},[Object(a["h"])("th",{style:{"background-color":"#3d6cb8"},rowspan:"3"}," Autor "),Object(a["h"])("th",{style:{"background-color":"#3d6cb8"},rowspan:"3"}," Nome do formulário "),Object(a["h"])("th",{style:{"background-color":"#3d6cb8"},rowspan:"3"}," Tipo de formulário "),Object(a["h"])("th",{style:{"background-color":"#3d6cb8"},rowspan:"3"}," Tipo de evento ")],-1);function Os(e,t,n,i,o,s){return o.api_data?(Object(a["q"])(),Object(a["d"])("div",ps,[bs,Object(a["h"])("table",null,[Object(a["h"])("caption",fs,Object(a["B"])(o.api_data.title),1),Object(a["h"])("thead",null,[ms,Object(a["h"])("tr",null,[Object(a["h"])("th",null,[Object(a["J"])(Object(a["h"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.authorSearch=e}),class:"searchBar",type:"text"},null,512),[[a["G"],o.authorSearch]])]),Object(a["h"])("th",null,[Object(a["J"])(Object(a["h"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.formNameSearch=t}),class:"searchBar",type:"text"},null,512),[[a["G"],e.formNameSearch]])]),Object(a["h"])("th",null,[Object(a["J"])(Object(a["h"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.formTypeSearch=e}),class:"searchBar",type:"text"},null,512),[[a["G"],o.formTypeSearch]])]),Object(a["h"])("th",null,[Object(a["J"])(Object(a["h"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return o.eventTypeSearch=e}),class:"searchBar",type:"text"},null,512),[[a["G"],o.eventTypeSearch]])])])])])])):Object(a["e"])("",!0)}var js={name:"FormsManagement",components:i,data:function(){return{api_data:void 0,form_responses:[],displayed_sections:[],event:void 0,user:void 0,statuses:{},authorSearch:"",eventSearch:"",formTypeSearch:"",eventTypeSearch:"",answerStatuses:[],interval:void 0}},created:function(){var e=this;we.get("form/".concat(this.$route.params.id)).then((function(t){return e.initializeData(t)})).catch((function(e){return console.log(e.response)}));var t="formAnswer/?form=".concat(this.$route.params.id);void 0!==this.$route.query.event&&(t=t.concat("&event=").concat(this.$route.query.event),we.get("event/".concat(this.$route.query.event)).then((function(t){return e.event=t.data.name})).catch((function(e){return console.log(e.response)}))),void 0!==this.$route.query.user&&(t=t.concat("&user=").concat(this.$route.query.user),we.get("user/".concat(this.$route.query.user)).then((function(t){return e.user=t.data.username}))),we.get(t).then((function(t){return e.initializeAnswers(t)})),we.get("answerStatus/").then((function(t){e.statuses=t.data})),this.getStatuses()},methods:{getStatuses:function(){var e=this;we.get("formAnswerStatus/").then((function(t){e.answerStatuses=t.data}))},changeStatus:function(e,t){var n=this,i={method:"put",url:"/formAnswerStatus/"+e+"/",headers:{"X-CSRFToken":this.getCookie("csrftoken")},data:{status:t},transformResponse:[function(e){return n.response=e,e}]};we(i)},initializeData:function(e){this.api_data=e.data;for(var t=0;t<this.api_data.form.sections.length;){for(var n=0;n<this.api_data.form.sections[t].questions.length;)this.api_data.form.sections[t].questions[n].properties.field_type.includes("_exposition")?this.api_data.form.sections[t].questions.splice(n,1):n++;this.api_data.form.sections[t].questions.length>0?(this.displayed_sections[t]=!0,t++):this.api_data.form.sections.splice(t,1)}},initializeAnswers:function(e){this.form_responses=e.data;for(var t=0;t<this.form_responses.length;t++)for(var n=this.form_responses[t],i=0;i<n.content.sections.length;i++)for(var o=n.content.sections[i],a=0;a<o.length;a++){var s=o[a];if(void 0!==s.answer)if("selectboxes"==s.field_type)for(var r=0;r<s.answer.length;r++){var l=s.answer[r];l===parseInt(l,10)?s.answer[r]=this.api_data.form.sections[i].questions[a].properties.options[l]:s.answer='Outro: "'+s.answer+'"'}else"multiplechoice"==s.field_type?s.answer===parseInt(s.answer,10)?s.answer=this.api_data.form.sections[i].questions[a].properties.options[s.answer]:s.answer='Outro: "'+s.answer+'"':"date"==s.field_type?s.answer=new Date(s.answer).toLocaleDateString():"datetime"==s.field_type&&(s.answer=new Date(s.answer).toLocaleString())}},allFalse:function(){for(var e=0;e<this.displayed_sections.length;e++)if(1==this.displayed_sections[e])return!1;return!0},stringIn:function(e,t){return-1!=e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").indexOf(t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))},filteredResponses:function(){var e=this,t=this.form_responses;""!=this.authorSearch&&(t=t.filter((function(t){return e.stringIn(void 0===t.author?"Anónimo":t.author,e.authorSearch)}))),""!=this.eventSearch&&(t=t.filter((function(t){return!!t.eventName&&e.stringIn(t.eventName,e.eventSearch)}))),""!=this.statusSearch&&(t=t.filter((function(t){return e.stringIn(e.statuses[t.status-1].name,e.statusSearch)})));for(var n=0;n<this.api_data.form.sections.length;n++)if(this.displayed_sections[n])for(var i=this.api_data.form.sections[n],o=0;o<i.questions.length;o++){var a=i.questions[o];a.filter&&""!=a.filter&&(t=t.filter((function(t){return e.stringIn(String(t.content.sections[n][o].answer),a.filter)})))}return t},timeSince:function(e){"object"!==Object(xt["a"])(e)&&(e=new Date(e));var t,n=Math.floor((new Date-e)/1e3),i=Math.floor(n/31536e3);return i>=1?t="ano":(i=Math.floor(n/2592e3),i>=1?t="mês":(i=Math.floor(n/86400),i>=1?t="dia":(i=Math.floor(n/3600),i>=1?t="hora":(i=Math.floor(n/60),i>=1?t="minuto":(i=n,t="segundo"))))),(i>1||0===i)&&("mês"==t?t="meses":t+="s"),i+" "+t},getCookie:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var o=n[i].trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t}}};n("e5f0");js.render=Os;var vs=js,_s={key:0,id:"responses"},gs=Object(a["h"])("h1",null," Gestão de formulários disponiveis para responder ",-1),qs={style:{"background-color":"#365c98"}},ys=Object(a["h"])("tr",{class:"sections"},[Object(a["h"])("th",{style:{"background-color":"#3d6cb8"},rowspan:"3"}," Autor "),Object(a["h"])("th",{style:{"background-color":"#3d6cb8"},rowspan:"3"}," Tipo de formulário "),Object(a["h"])("th",{style:{"background-color":"#3d6cb8"},rowspan:"3"}," Tipo de evento "),Object(a["h"])("th",{style:{"background-color":"#3d6cb8"},rowspan:"3"}," Formulário associado ")],-1);function ws(e,t,n,i,o,s){return o.api_data?(Object(a["q"])(),Object(a["d"])("div",_s,[gs,Object(a["h"])("table",null,[Object(a["h"])("caption",qs,Object(a["B"])(o.api_data.title),1),Object(a["h"])("thead",null,[ys,Object(a["h"])("tr",null,[Object(a["h"])("th",null,[Object(a["J"])(Object(a["h"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.authorSearch=e}),class:"searchBar",type:"text"},null,512),[[a["G"],o.authorSearch]])]),Object(a["h"])("th",null,[Object(a["J"])(Object(a["h"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.formTypeSearch=e}),class:"searchBar",type:"text"},null,512),[[a["G"],o.formTypeSearch]])]),Object(a["h"])("th",null,[Object(a["J"])(Object(a["h"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.eventTypeSearch=e}),class:"searchBar",type:"text"},null,512),[[a["G"],o.eventTypeSearch]])]),Object(a["h"])("th",null,[Object(a["J"])(Object(a["h"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return o.associateFormSearch=e}),class:"searchBar",type:"text"},null,512),[[a["G"],o.associateFormSearch]])])])])])])):Object(a["e"])("",!0)}var xs={name:"AvailableFormsManagement",components:i,data:function(){return{api_data:void 0,form_responses:[],displayed_sections:[],event:void 0,user:void 0,statuses:{},authorSearch:"",eventSearch:"",formTypeSearch:"",eventTypeSearch:"",associateFormSearch:"",answerStatuses:[],interval:void 0}},created:function(){var e=this;we.get("form/".concat(this.$route.params.id)).then((function(t){return e.initializeData(t)})).catch((function(e){return console.log(e.response)}));var t="formAnswer/?form=".concat(this.$route.params.id);void 0!==this.$route.query.event&&(t=t.concat("&event=").concat(this.$route.query.event),we.get("event/".concat(this.$route.query.event)).then((function(t){return e.event=t.data.name})).catch((function(e){return console.log(e.response)}))),void 0!==this.$route.query.user&&(t=t.concat("&user=").concat(this.$route.query.user),we.get("user/".concat(this.$route.query.user)).then((function(t){return e.user=t.data.username}))),we.get(t).then((function(t){return e.initializeAnswers(t)})),we.get("answerStatus/").then((function(t){e.statuses=t.data})),this.getStatuses()},methods:{getStatuses:function(){var e=this;we.get("formAnswerStatus/").then((function(t){e.answerStatuses=t.data}))},changeStatus:function(e,t){var n=this,i={method:"put",url:"/formAnswerStatus/"+e+"/",headers:{"X-CSRFToken":this.getCookie("csrftoken")},data:{status:t},transformResponse:[function(e){return n.response=e,e}]};we(i)},initializeData:function(e){this.api_data=e.data;for(var t=0;t<this.api_data.form.sections.length;){for(var n=0;n<this.api_data.form.sections[t].questions.length;)this.api_data.form.sections[t].questions[n].properties.field_type.includes("_exposition")?this.api_data.form.sections[t].questions.splice(n,1):n++;this.api_data.form.sections[t].questions.length>0?(this.displayed_sections[t]=!0,t++):this.api_data.form.sections.splice(t,1)}},initializeAnswers:function(e){this.form_responses=e.data;for(var t=0;t<this.form_responses.length;t++)for(var n=this.form_responses[t],i=0;i<n.content.sections.length;i++)for(var o=n.content.sections[i],a=0;a<o.length;a++){var s=o[a];if(void 0!==s.answer)if("selectboxes"==s.field_type)for(var r=0;r<s.answer.length;r++){var l=s.answer[r];l===parseInt(l,10)?s.answer[r]=this.api_data.form.sections[i].questions[a].properties.options[l]:s.answer='Outro: "'+s.answer+'"'}else"multiplechoice"==s.field_type?s.answer===parseInt(s.answer,10)?s.answer=this.api_data.form.sections[i].questions[a].properties.options[s.answer]:s.answer='Outro: "'+s.answer+'"':"date"==s.field_type?s.answer=new Date(s.answer).toLocaleDateString():"datetime"==s.field_type&&(s.answer=new Date(s.answer).toLocaleString())}},allFalse:function(){for(var e=0;e<this.displayed_sections.length;e++)if(1==this.displayed_sections[e])return!1;return!0},stringIn:function(e,t){return-1!=e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").indexOf(t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))},filteredResponses:function(){var e=this,t=this.form_responses;""!=this.authorSearch&&(t=t.filter((function(t){return e.stringIn(void 0===t.author?"Anónimo":t.author,e.authorSearch)}))),""!=this.eventSearch&&(t=t.filter((function(t){return!!t.eventName&&e.stringIn(t.eventName,e.eventSearch)}))),""!=this.statusSearch&&(t=t.filter((function(t){return e.stringIn(e.statuses[t.status-1].name,e.statusSearch)})));for(var n=0;n<this.api_data.form.sections.length;n++)if(this.displayed_sections[n])for(var i=this.api_data.form.sections[n],o=0;o<i.questions.length;o++){var a=i.questions[o];a.filter&&""!=a.filter&&(t=t.filter((function(t){return e.stringIn(String(t.content.sections[n][o].answer),a.filter)})))}return t},timeSince:function(e){"object"!==Object(xt["a"])(e)&&(e=new Date(e));var t,n=Math.floor((new Date-e)/1e3),i=Math.floor(n/31536e3);return i>=1?t="ano":(i=Math.floor(n/2592e3),i>=1?t="mês":(i=Math.floor(n/86400),i>=1?t="dia":(i=Math.floor(n/3600),i>=1?t="hora":(i=Math.floor(n/60),i>=1?t="minuto":(i=n,t="segundo"))))),(i>1||0===i)&&("mês"==t?t="meses":t+="s"),i+" "+t},getCookie:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var o=n[i].trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t}}};n("d6b7");xs.render=ws;var ks=xs,Cs=[{path:"",name:"ViewForms",component:Pt},{path:"/respond/:id",name:"CreateResponse",component:ke},{path:"/view_response/:id",name:"View Response",component:Le},{path:"/edit_response/:id",name:"Edit Response",component:rt},{path:"/responses/:id",name:"View All Responses",component:Ct},{path:"/createForm",name:"Create Form",component:Ko},{path:"/editForm/:id",name:"Edit Form",component:hs},{path:"/formsManagement",name:"Manage Forms",component:vs},{path:"/availableFormsManagement",name:"Manage Available Forms",component:ks}],Ss=Object(v["a"])({history:Object(v["b"])("/forms/"),routes:Cs}),Js=Ss,Vs=n("5502"),Us=Object(Vs["a"])({state:{},mutations:{},actions:{},modules:{}});Object(a["c"])(O).use(Us).use(Js).mount("#app")},d6b7:function(e,t,n){"use strict";n("5cdb")},d75e:function(e,t,n){"use strict";n("86f5")},da3f:function(e,t,n){},db79:function(e,t,n){},dce0:function(e,t,n){},e5f0:function(e,t,n){"use strict";n("a1f4")},f49f:function(e,t,n){},f4be:function(e,t,n){"use strict";n("f49f")},ff60:function(e,t,n){}});
//# sourceMappingURL=app.9c97a4e4.js.map