(function(e){function t(t){for(var i,a,r=t[0],l=t[1],c=t[2],d=0,h=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&h.push(o[a][0]),o[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(h.length)h.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],i=!0,r=1;r<n.length;r++){var l=n[r];0!==o[l]&&(i=!1)}i&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},o={app:0},s=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/static/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0c63":function(e,t,n){"use strict";n("be4b")},"1b6b":function(e,t,n){"use strict";n("a7e4")},"1e0a":function(e,t,n){},"23fd":function(e,t,n){"use strict";n("9612")},3004:function(e,t,n){},3150:function(e,t,n){"use strict";n("6044")},3392:function(e,t,n){"use strict";n("3004")},"396d":function(e,t,n){"use strict";n("6882")},"54c5":function(e,t,n){},5886:function(e,t,n){"use strict";n("db79")},"5cdb":function(e,t,n){},6044:function(e,t,n){},6882:function(e,t,n){},"6a85":function(e,t,n){"use strict";n("54c5")},"6f1e":function(e,t,n){"use strict";n("d6a2")},7262:function(e,t,n){},7402:function(e,t,n){"use strict";n("7262")},"7d4a":function(e,t,n){},"818f":function(e,t,n){"use strict";n("1e0a")},8743:function(e,t,n){},9339:function(e,t,n){},9612:function(e,t,n){},"9e53":function(e,t,n){"use strict";n("7d4a")},"9efe":function(e,t,n){"use strict";n("da3f")},a1f4:function(e,t,n){},a561:function(e,t,n){"use strict";n("9339")},a7e4:function(e,t,n){},a983:function(e,t,n){"use strict";n("ff60")},b2e1:function(e,t,n){},be4b:function(e,t,n){},c3d1:function(e,t,n){"use strict";n("b2e1")},cd16:function(e,t,n){"use strict";n("8743")},cd49:function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"number",(function(){return H})),n.d(i,"selectboxes",(function(){return P})),n.d(i,"multiplechoice",(function(){return W})),n.d(i,"longtext",(function(){return ie})),n.d(i,"shorttext",(function(){return ae})),n.d(i,"date",(function(){return ce})),n.d(i,"datetime",(function(){return he})),n.d(i,"text_exposition",(function(){return fe})),n.d(i,"youtube_exposition",(function(){return ve})),n.d(i,"image_exposition",(function(){return ge}));var o={};n.r(o),n.d(o,"number",(function(){return pi})),n.d(o,"selectboxes",(function(){return Ii})),n.d(o,"multiplechoice",(function(){return Zi})),n.d(o,"longtext",(function(){return co})),n.d(o,"shorttext",(function(){return vo})),n.d(o,"date",(function(){return So})),n.d(o,"datetime",(function(){return Do})),n.d(o,"text_exposition",(function(){return Ro})),n.d(o,"youtube_exposition",(function(){return Ho})),n.d(o,"image_exposition",(function(){return Mo}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("7a23"),a=Object(s["L"])("data-v-68b3d014");Object(s["u"])("data-v-68b3d014");var r={id:"page"};Object(s["r"])();var l=a((function(e,t,n,i,o,a){var l=Object(s["y"])("router-view");return Object(s["q"])(),Object(s["d"])("div",r,[Object(s["h"])(l)])})),c=n("d4ec"),u=n("bee2"),d=n("262e"),h=n("2caf"),p=n("9ab4"),b=n("ce1f"),f=function(e){Object(d["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"created",value:function(){console.log(this.$router.currentRoute)}}]),n}(b["b"]);f=Object(p["a"])([Object(b["a"])({components:{}})],f);var m=f;n("a983");m.render=l,m.__scopeId="data-v-68b3d014";var O=m,j=n("9483");Object(j["a"])("".concat("/static/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var v=n("6c02"),_=(n("b0c0"),{key:0}),q={class:"flex row ca"},g=Object(s["h"])("hr",null,null,-1),w={key:0},y={key:0},x={key:1,class:"requiredticker"},k={key:0,class:"flex row ca",style:{height:"70px"}},S=Object(s["h"])("a",{class:"add_field add_section hoverable cancel",href:"/forms"}," Cancelar ",-1),C=Object(s["h"])("button",{type:"submit",class:"add_field add_section hoverable submit"}," Submeter ",-1),J={key:0,class:"flex row ca",style:{height:"70px"}},V={key:1},U=Object(s["g"])(" Houve um erro interno na edição do formulário."),I=Object(s["h"])("br",null,null,-1),F={key:1};function T(e,t,n,i,o,a){return o.api_data&&o.event?(Object(s["q"])(),Object(s["d"])("div",_,[Object(s["h"])("h1",null,[Object(s["g"])(Object(s["B"])(o.api_data.title),1),o.event?(Object(s["q"])(),Object(s["d"])(s["a"],{key:0},[Object(s["g"])(" ("+Object(s["B"])(o.event.name)+") ",1)],64)):Object(s["e"])("",!0)]),Object(s["h"])("div",q,[Object(s["h"])("form",{id:"form-area",class:"flex column",onSubmit:t[2]||(t[2]=Object(s["K"])((function(){return a.submit&&a.submit.apply(a,arguments)}),["prevent"]))},[(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(o.api_data.form.sections,(function(t,n){return Object(s["q"])(),Object(s["d"])("div",{key:n},[g,Object(s["h"])("h2",null,[o.api_data.form.hide_section_numbers?Object(s["e"])("",!0):(Object(s["q"])(),Object(s["d"])("span",w,Object(s["B"])(n+1)+". ",1)),Object(s["g"])(Object(s["B"])(t.section_name),1)]),(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(t.questions,(function(i,r){return Object(s["q"])(),Object(s["d"])("div",{key:r,set:e.qid="s"+n+"_q"+r,class:"flex column ca vla no-bottom question"},[Object(s["h"])("label",{class:"question-field",for:e.qid},[Object(s["h"])("h3",null,[o.api_data.form.hide_question_numbers||t.hide_question_numbers?Object(s["e"])("",!0):(Object(s["q"])(),Object(s["d"])("span",y,Object(s["B"])(r+1)+". ",1)),Object(s["g"])(Object(s["B"])(i.question),1),i.required?(Object(s["q"])(),Object(s["d"])("span",x,"*")):Object(s["e"])("",!0)])],8,["for"]),(Object(s["q"])(),Object(s["d"])(Object(s["z"])(i.properties.field_type),{class:"flex column ca vla",question:i,"question-index":r,"section-index":n,qid:e.qid,onUpdate:a.updateAnswer},null,8,["question","question-index","section-index","qid","onUpdate"]))],8,["set"])})),128))])})),128)),void 0===o.response?(Object(s["q"])(),Object(s["d"])("div",k,[S,C])):(Object(s["q"])(),Object(s["d"])(s["a"],{key:1},[void 0!==o.response.id?(Object(s["q"])(),Object(s["d"])("h3",J," Formulário enviado com sucesso. Será redirecionado em "+Object(s["B"])(o.api_data.redirect_delay)+" segundos. ",1)):(Object(s["q"])(),Object(s["d"])("div",V,[U,I,Object(s["J"])(Object(s["h"])("textarea",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.response=e})},null,512),[[s["G"],o.response]])]))],64))],32)])])):(Object(s["q"])(),Object(s["d"])("div",F," Loading "))}var D=n("1da1"),B=(n("96cf"),n("d3b7"),n("ac1f"),n("1276"),n("498a"),Object(s["L"])("data-v-38937386"));Object(s["u"])("data-v-38937386");var G={key:0,class:"flex row",style:{"margin-right":"20px"}},R={class:"flex row"};Object(s["r"])();var $=B((function(e,t,n,i,o,a){return Object(s["q"])(),Object(s["d"])("div",{class:["flex row",o.invalid&&(void 0===o.answer||""==o.answer||o.answer<n.question.properties.min||o.answer>n.question.properties.max)?o.invalid:""]},["slider"==n.question.properties.style?(Object(s["q"])(),Object(s["d"])("span",G,[Object(s["g"])(Object(s["B"])(n.question.properties.prefix)+" ",1),Object(s["J"])(Object(s["h"])("input",{id:n.qid,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.answer=e}),type:"range",class:"spaced",name:n.qid,min:n.question.properties.min,max:n.question.properties.max,step:Math.pow(10,-n.question.properties.decimal_places),required:n.question.required,onChange:t[2]||(t[2]=function(){return a.update&&a.update.apply(a,arguments)}),onInvalid:t[3]||(t[3]=function(e){return o.invalid="invalid"})},null,40,["id","name","min","max","step","required"]),[[s["G"],o.answer]]),Object(s["g"])(" "+Object(s["B"])(n.question.properties.suffix),1)])):Object(s["e"])("",!0),Object(s["h"])("span",R,[Object(s["J"])(Object(s["h"])("input",{id:"slider"==n.question.properties.style?n.qid+"_alt":n.qid,"onUpdate:modelValue":t[4]||(t[4]=function(e){return o.answer=e}),type:"number",name:n.qid,min:n.question.properties.min,max:n.question.properties.max,step:Math.pow(10,-n.question.properties.decimal_places),required:n.question.required,onChange:t[5]||(t[5]=function(){return a.update&&a.update.apply(a,arguments)}),onInvalid:t[6]||(t[6]=function(e){return o.invalid="invalid"})},null,40,["id","name","min","max","step","required"]),[[s["G"],o.answer]])])],2)})),z=(n("a9e3"),{name:"NumberField",props:["question","questionIndex","sectionIndex","qid","value"],emits:["update"],data:function(){return{answer:void 0!==this.value?this.value:this.question.properties.default,invalid:!1}},mounted:function(){this.update()},methods:{update:function(){this.$emit("update",{sectionIndex:this.sectionIndex,questionIndex:this.questionIndex,answer:void 0!==this.answer?Number(this.answer):this.answer})}}});n("f4be");z.render=$,z.__scopeId="data-v-38937386";var H=z,A={key:1};function N(e,t,n,i,o,a){return Object(s["q"])(),Object(s["d"])("div",{class:o.invalid&&" "!=o.valid?o.invalid:""},[n.question.required||n.question.properties.min_selected||n.question.properties.max_selected?Object(s["J"])((Object(s["q"])(),Object(s["d"])("input",{key:o.valid,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.valid=e}),type:"text",oninvalid:"setCustomValidity('Por favor confirme a informação introduzida')",pattern:" "==o.valid?void 0:".a",class:"warning-field removable",size:o.valid.length,onkeydown:"return false;",name:n.qid+"_validator",onInvalid:t[2]||(t[2]=function(e){return o.invalid="invalid"})},null,40,["pattern","size","name"])),[[s["G"],o.valid]]):Object(s["e"])("",!0),(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(n.question.properties.options,(function(e,i){return Object(s["q"])(),Object(s["d"])("div",{key:i,class:"flex row vca"},[Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_o"+i,"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.answer=e}),type:"checkbox",name:n.qid+"_o"+i,value:i,onChange:t[4]||(t[4]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id","name","value"]),[[s["D"],o.answer]]),Object(s["h"])("label",{class:"spaced",for:n.qid+"_o"+i},Object(s["B"])(e),9,["for"])])})),128)),n.question.properties.allowed_other?(Object(s["q"])(),Object(s["d"])("div",A,[(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(o.others_selected,(function(e,i){return Object(s["q"])(),Object(s["d"])("div",{id:n.qid+"_other"+i+"_parent",key:i,class:"removable"},[Object(s["h"])("div",{class:o.invalid&&o.others_selected[i]&&(o.others[i].length<n.question.properties.min_length||o.others[i].length>n.question.properties.max_length)?o.invalid:""},[Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_other"+i,"onUpdate:modelValue":function(e){return o.others_selected[i]=e},type:"checkbox",name:n.qid+"_other"+i,value:o.others[i],onChange:function(e){return a.add_new(i)}},null,40,["id","onUpdate:modelValue","name","value","onChange"]),[[s["D"],o.others_selected[i]]]),Object(s["h"])("label",{class:"spaced",for:n.qid+"_other"+i},Object(s["B"])(n.question.properties.other_string),9,["for"]),0!=n.question.properties.max_length&&o.others_selected[i]?Object(s["J"])((Object(s["q"])(),Object(s["d"])("input",{key:0,"onUpdate:modelValue":function(e){return o.others[i]=e},type:"text",placeholder:n.question.properties.placeholder,minlength:n.question.properties.min_length,maxlength:n.question.properties.max_length,required:n.question.properties.min_length,onChange:t[5]||(t[5]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["onUpdate:modelValue","placeholder","minlength","maxlength","required"])),[[s["G"],o.others[i]]]):Object(s["e"])("",!0)],2)],8,["id"])})),128))])):Object(s["e"])("",!0)],2)}n("99af"),n("a434");var M={name:"ShortTextField",props:["question","questionIndex","sectionIndex","qid","value"],emits:["update"],data:function(){return{others:[],others_selected:[!1],full:!1,mounted:!1,valid:" ",invalid:"",answer:"undefined"!==typeof this.value?this.value:"undefined"!==typeof this.question.properties.default?this.question.properties.default:[],translation:{at_least:"Deve selecionar pelo menos ",at_most:"Deve selecionar no máximo ",options:" opções.",mandatoryField:"Este é um campo obrigatório."}}},mounted:function(){this.update();var e=0;this.answer.reverse();for(var t=this.answer.length-1;t>=0;t--)"number"!=typeof this.answer[t]&&(this.others_selected[e]=!0,this.add_new(e),this.others[e++]=this.answer[t],this.answer.pop())},methods:{validate:function(e){for(var t=0,n=0,i=0;i<e.length;i++)e[i]===parseInt(e[i],10)?t++:n++;var o=t+n;if(0==e.length){if(this.question.required)return this.translation.mandatoryField}else{if("undefined"!==typeof this.question.properties.min_selected&&o<this.question.properties.min_selected)return this.translation.at_least+this.question.properties.min_selected+this.translation.options;if("undefined"!==typeof this.question.properties.max_selected&&o>this.question.properties.max_selected)return this.translation.at_most+this.question.properties.max_selected+this.translation.options}return" "},update:function(){this.$nextTick((function(){var e=this.answer.concat(this.others);this.valid=this.validate(e),this.$emit("update",{sectionIndex:this.sectionIndex,questionIndex:this.questionIndex,answer:0==e.length?void 0:e,valid:this.valid})}))},add_new:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(1!=t.others_selected[e]){n.next=5;break}t.others[e]="","undefined"===typeof t.question.properties.max_other||e+1<t.question.properties.max_other?(t.others_selected.push(!1),i=e+1,t.$nextTick(Object(D["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return document.getElementById(this.qid+"_other"+i+"_parent").style.opacity=0,e.next=3,new Promise((function(e){return setTimeout(e,1)}));case 3:document.getElementById(this.qid+"_other"+i+"_parent").style.opacity=1;case 4:case"end":return e.stop()}}),e,this)}))))):t.full=!0,n.next=13;break;case 5:if(!(t.others_selected.length>1)){n.next=13;break}return document.getElementById(t.qid+"_other"+e+"_parent").style.opacity=0,n.next=9,new Promise((function(e){return setTimeout(e,100)}));case 9:t.others.splice(e,1),t.others_selected.splice(e,1),t.full&&(t.others_selected.push(!1),t.full=!1),document.getElementById(t.qid+"_other"+e+"_parent").style.opacity=1;case 13:t.update();case 14:case"end":return n.stop()}}),n)})))()}}};n("23fd");M.render=N;var P=M,L={key:0},E=Object(s["h"])("br",null,null,-1),X={key:1},Y=Object(s["h"])("option",{value:""},null,-1);function K(e,t,n,i,o,a){return Object(s["q"])(),Object(s["d"])("div",{class:!o.invalid||void 0!==o.valid&&""!=o.valid?"":o.invalid},["radio"==n.question.properties.style?(Object(s["q"])(),Object(s["d"])("div",L,[Object(s["J"])((Object(s["q"])(),Object(s["d"])("input",{key:o.valid,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.valid=e}),type:"text",oninvalid:"setCustomValidity('Isto é um campo obrigatório')",required:"",onkeydown:"return false;",style:{"caret-color":"transparent !important",cursor:"default",opacity:"0",width:"0px",height:"0px"},name:n.qid+"_validator",onInvalid:t[2]||(t[2]=function(e){return o.invalid="invalid"})},null,40,["name"])),[[s["G"],o.valid]]),(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(n.question.properties.options,(function(e,i){return Object(s["q"])(),Object(s["d"])("div",{key:i,class:"flex row vca"},[Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_o"+i,"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.answer=e}),type:"radio",name:n.qid,value:i,onChange:t[4]||(t[4]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id","name","value"]),[[s["E"],o.answer]]),Object(s["h"])("label",{class:"spaced",for:n.qid+"_o"+i},Object(s["B"])(e),9,["for"]),E])})),128)),n.question.properties.allowed_other?(Object(s["q"])(),Object(s["d"])("div",{key:0,class:["flex row vca",o.invalid&&o.answer&&o.answer!=parseInt(o.answer)&&(o.other_value.length<n.question.properties.min_length||o.other_value.length>n.question.properties.max_length)?o.invalid:""]},[Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_other","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.answer=e}),type:"radio",name:n.qid,value:"other",onChange:t[6]||(t[6]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id","name"]),[[s["E"],o.answer]]),Object(s["h"])("label",{class:"spaced",for:n.qid+"_other"},Object(s["B"])(n.question.properties.other_string),9,["for"]),0!=n.question.properties.max_length&&o.answer&&o.answer!=parseInt(o.answer)?Object(s["J"])((Object(s["q"])(),Object(s["d"])("input",{key:0,"onUpdate:modelValue":t[7]||(t[7]=function(e){return o.other_value=e}),type:"text",placeholder:n.question.properties.placeholder,minlength:n.question.properties.min_length,maxlength:n.question.properties.max_length,required:n.question.properties.min_length,onChange:t[8]||(t[8]=function(){return a.update&&a.update.apply(a,arguments)}),onInvalid:t[9]||(t[9]=function(e){return o.invalid="invalid"})},null,40,["placeholder","minlength","maxlength","required"])),[[s["G"],o.other_value]]):Object(s["e"])("",!0)],2)):Object(s["e"])("",!0),n.question.required?Object(s["e"])("",!0):(Object(s["q"])(),Object(s["d"])("button",{key:1,type:"button",onClick:t[10]||(t[10]=function(){return a.clearSelection&&a.clearSelection.apply(a,arguments)})}," Limpar Seleção "))])):(Object(s["q"])(),Object(s["d"])("div",X,[Object(s["J"])(Object(s["h"])("select",{id:n.qid,"onUpdate:modelValue":t[11]||(t[11]=function(e){return o.answer=e}),name:n.qid,required:n.question.required,onInvalid:t[12]||(t[12]=function(e){return o.invalid="invalid"}),onChange:t[13]||(t[13]=function(){return a.update&&a.update.apply(a,arguments)})},[Y,(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(n.question.properties.options,(function(e,t){return Object(s["q"])(),Object(s["d"])("option",{id:n.qid+"_o"+t,key:t,value:t,selected:n.question.properties.default==t},Object(s["B"])(e),9,["id","value","selected"])})),128))],40,["id","name","required"]),[[s["F"],o.answer]])]))],2)}var Q={name:"MultipleChoiceField",props:["question","questionIndex","sectionIndex","qid","value"],emits:["update"],data:function(){return{answer:void 0!==this.value?this.value!=parseInt(this.value,10)?"other":this.value:this.question.properties.default,other_value:this.value,valid:"",translation:{required:"Isto é um campo obrigatório"},invalid:""}},mounted:function(){this.update()},methods:{clearSelection:function(){this.answer=void 0,this.update()},update:function(){"undefined"===typeof this.answer&&this.question.required?this.valid="":this.valid="VALID",this.$emit("update",{sectionIndex:this.sectionIndex,questionIndex:this.questionIndex,answer:"other"==this.answer?this.other_value:this.answer})}}};Q.render=K;var W=Q,Z=Object(s["L"])("data-v-38c35be2");Object(s["u"])("data-v-38c35be2");var ee={key:0,class:"flex row width-100 max-char"};Object(s["r"])();var te=Z((function(e,t,n,i,o,a){return Object(s["q"])(),Object(s["d"])("div",{class:["flex row width-100",o.invalid&&((void 0===o.answer||""==o.answer)&&n.question.required||o.answer.length>0&&(o.answer.length<n.question.properties.min_length||o.answer.length>n.question.properties.maxlength))?o.invalid:""]},[n.question.properties.max_length?(Object(s["q"])(),Object(s["d"])("span",ee,"Caracteres: "+Object(s["B"])(o.answer.length)+"/"+Object(s["B"])(n.question.properties.max_length),1)):Object(s["e"])("",!0),Object(s["J"])(Object(s["h"])("textarea",{id:n.qid,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.answer=e}),class:"flex row width-100",name:n.qid,rows:n.question.properties.default_lines,minlength:n.question.properties.min_length,maxlength:n.question.properties.max_length,placeholder:n.question.properties.placeholder,onChange:t[2]||(t[2]=function(){return a.update&&a.update.apply(a,arguments)}),onInvalid:t[3]||(t[3]=function(e){return o.invalid="invalid"})},null,40,["id","name","rows","minlength","maxlength","placeholder"]),[[s["G"],o.answer]])],2)})),ne={name:"LongTextField",props:["question","questionIndex","sectionIndex","qid","value"],emits:["update"],data:function(){return{answer:void 0!==this.value?this.value:this.question.properties.default,invalid:!1}},mounted:function(){this.update()},methods:{update:function(){this.$emit("update",{sectionIndex:this.sectionIndex,questionIndex:this.questionIndex,answer:this.answer})}}};n("3150");ne.render=te,ne.__scopeId="data-v-38c35be2";var ie=ne;function oe(e,t,n,i,o,a){return Object(s["q"])(),Object(s["d"])("div",{class:["flex row",o.invalid&&(void 0===o.answer||""==o.answer||o.answer.length<n.question.properties.min_length||o.answer.length>n.question.properties.maxlength)?o.invalid:""]},[Object(s["J"])(Object(s["h"])("input",{id:n.qid,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.answer=e}),type:"text",name:n.qid,placeholder:n.question.properties.placeholder,minlength:n.question.properties.min_length,maxlength:n.question.properties.max_length,required:n.question.required,onChange:t[2]||(t[2]=function(){return a.update&&a.update.apply(a,arguments)}),onInvalid:t[3]||(t[3]=function(e){return o.invalid="invalid"})},null,40,["id","name","placeholder","minlength","maxlength","required"]),[[s["G"],o.answer]])],2)}var se={name:"ShortTextField",props:["question","questionIndex","sectionIndex","qid","value"],emits:["update"],data:function(){return{answer:void 0!==this.value?this.value:this.question.properties.default,invalid:""}},mounted:function(){this.update()},methods:{update:function(){this.$emit("update",{sectionIndex:this.sectionIndex,questionIndex:this.questionIndex,answer:this.answer})}}};se.render=oe;var ae=se;function re(e,t,n,i,o,a){return Object(s["q"])(),Object(s["d"])("div",{class:["flex row",!o.invalid||void 0!==o.answer&&""!=o.answer?"":o.invalid]},[Object(s["J"])(Object(s["h"])("input",{id:n.qid,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.answer=e}),type:"date",name:n.qid,min:n.question.properties.begin,max:n.question.properties.end,required:this.question.required,onChange:t[2]||(t[2]=function(){return a.update&&a.update.apply(a,arguments)}),onInvalid:t[3]||(t[3]=function(e){return o.invalid="invalid"})},null,40,["id","name","min","max","required"]),[[s["G"],o.answer]])],2)}var le={name:"DateField",props:["question","questionIndex","sectionIndex","qid","value"],emits:["update"],data:function(){return{answer:void 0!==this.value?this.value:this.question.properties.default,invalid:!1}},mounted:function(){this.update()},methods:{update:function(){this.$emit("update",{sectionIndex:this.sectionIndex,questionIndex:this.questionIndex,answer:this.answer})}}};le.render=re;var ce=le;function ue(e,t,n,i,o,a){return Object(s["q"])(),Object(s["d"])("div",{class:["flex row",!o.invalid||void 0!==o.answer&&""!=o.answer?"":o.invalid]},[Object(s["J"])(Object(s["h"])("input",{id:n.qid,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.answer=e}),type:"datetime-local",name:n.qid,min:n.question.properties.begin,max:n.question.properties.end,required:this.question.required,onChange:t[2]||(t[2]=function(){return a.update&&a.update.apply(a,arguments)}),onInvalid:t[3]||(t[3]=function(e){return o.invalid="invalid"})},null,40,["id","name","min","max","required"]),[[s["G"],o.answer]])],2)}var de={name:"DateField",props:["question","questionIndex","sectionIndex","qid","value"],emits:["update"],data:function(){return{answer:void 0!==this.value?this.value:this.question.properties.default,invalid:!1}},mounted:function(){this.update()},methods:{update:function(){this.$emit("update",{sectionIndex:this.sectionIndex,questionIndex:this.questionIndex,answer:this.answer})}}};de.render=ue;var he=de;function pe(e,t,n,i,o,a){return Object(s["q"])(),Object(s["d"])("div",{id:n.qid,class:"flex row"},Object(s["B"])(n.question.properties.content),9,["id"])}var be={name:"DescriptionField",props:["question","questionIndex","sectionIndex","qid"],emits:["update"],mounted:function(){this.update()},methods:{update:function(){this.$emit("update",{sectionIndex:this.sectionIndex,questionIndex:this.questionIndex})}}};be.render=pe;var fe=be,me={class:"flex row width-100"};function Oe(e,t,n,i,o,a){return Object(s["q"])(),Object(s["d"])("div",me,[Object(s["h"])("iframe",{id:n.qid,class:"max-width-100",width:"560",height:"315",src:"https://www.youtube.com/embed/"+n.question.properties.content,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,["id","src"])])}var je={name:"YoutubeField",props:["question","questionIndex","sectionIndex","qid"]};je.render=Oe;var ve=je;function _e(e,t,n,i,o,a){return Object(s["q"])(),Object(s["d"])("img",{id:n.qid,src:n.question.properties.content,alt:""},null,8,["id","src"])}var qe={name:"ImageField",props:["question","questionIndex","sectionIndex","qid"],emits:["update"],mounted:function(){this.update()},methods:{update:function(){this.$emit("update",{sectionIndex:this.sectionIndex,questionIndex:this.questionIndex,answer:this.answer})}}};qe.render=_e;var ge=qe,we=n("bc3a"),ye=n.n(we),xe=ye.a.create({baseURL:"/forms/api/"}),ke={name:"CreateResponse",components:i,data:function(){return{api_data:void 0,answers:[],validation:[],response:void 0,event:void 0}},created:function(){var e=this;xe.get("form/".concat(this.$route.params.id)).then((function(t){return e.initializeData(t)})),this.$route.query.event&&xe.get("event/".concat(this.$route.query.event)).then((function(t){return e.event=t.data}))},methods:{submit:function(){var e=this;if(confirm("Confirma que a informação introduzida está correta?")){var t={method:"post",url:"/formAnswer/",headers:{"X-CSRFToken":this.getCookie("csrftoken")},data:{content:{sections:this.answers},form:this.api_data.id,event:this.event.id},transformResponse:[function(){var t=Object(D["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{e.response=JSON.parse(n)}catch(i){e.response=n}if(void 0===e.response.id){t.next=5;break}return t.next=4,new Promise((function(t){return setTimeout(t,1e3*e.api_data.redirect_delay)}));case 4:window.location.href=e.api_data.redirect;case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()]};xe(t)}},updateAnswer:function(e){this.$nextTick((function(){this.answers[e.sectionIndex][e.questionIndex]["answer"]=e["answer"],this.validation[e.sectionIndex][e.questionIndex]=e["valid"]}))},initializeData:function(e){for(var t in this.api_data=e.data,this.api_data.form.sections)for(var n in this.answers[t]=[],this.validation[t]=[],this.api_data.form.sections[t].questions)this.validation[t][n]=null,this.answers[t][n]={field_type:this.api_data.form.sections[t].questions[n].properties["field_type"]}},getCookie:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var o=n[i].trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t}}};n("3392");ke.render=T;var Se=ke,Ce={class:"flex column ca"},Je=Object(s["h"])("hr",null,null,-1),Ve={key:0},Ue={key:0},Ie={key:1,class:"requiredticker"},Fe={key:0},Te={key:0,class:"noanswer"},De={key:1},Be={key:0},Ge={key:1},Re={key:0,class:"noanswer"},$e={key:1},ze={key:2},He={key:0},Ae={key:2},Ne={key:3},Me={key:4};function Pe(e,t,n,i,o,a){return Object(s["q"])(),Object(s["d"])("div",null,[Object(s["h"])("h1",null,Object(s["B"])(o.api_data.title),1),Object(s["h"])("div",Ce,[(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(o.api_data.form.sections,(function(t,n){return Object(s["q"])(),Object(s["d"])("div",{key:n},[Je,Object(s["h"])("h2",null,[o.api_data.form.hide_section_numbers?Object(s["e"])("",!0):(Object(s["q"])(),Object(s["d"])("span",Ve,Object(s["B"])(n+1)+". ",1)),Object(s["g"])(Object(s["B"])(t.section_name),1)]),(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(t.questions,(function(i,a){return Object(s["q"])(),Object(s["d"])("div",{key:a,set:e.qid="s"+n+"_q"+a,class:"flex column ca vla no-bottom question"},[Object(s["h"])("label",{class:"question-field",for:e.qid},[Object(s["h"])("h3",null,[o.api_data.form.hide_question_numbers||t.hide_question_numbers?Object(s["e"])("",!0):(Object(s["q"])(),Object(s["d"])("span",Ue,Object(s["B"])(a+1)+". ",1)),Object(s["g"])(Object(s["B"])(i.question)+" ",1),i.required?(Object(s["q"])(),Object(s["d"])("span",Ie,"*")):Object(s["e"])("",!0)])],8,["for"]),"selectboxes"==i.properties.field_type?(Object(s["q"])(),Object(s["d"])("div",Fe,[void 0===o.form_response.content.sections[n][a].answer||""==o.form_response.content.sections[n][a].answer||o.form_response.content.sections[n][a].answer==[]?(Object(s["q"])(),Object(s["d"])("span",Te," Sem resposta ")):(Object(s["q"])(),Object(s["d"])("ul",De,[(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(o.form_response.content.sections[n][a].answer,(function(e){return Object(s["q"])(),Object(s["d"])("li",{key:e},[e===parseInt(e,10)?(Object(s["q"])(),Object(s["d"])("span",Be,Object(s["B"])(i.properties.options[e]),1)):(Object(s["q"])(),Object(s["d"])("span",Ge," Outro: "+Object(s["B"])(e),1))])})),128))]))])):"multiplechoice"==i.properties.field_type?(Object(s["q"])(),Object(s["d"])("div",{key:1,set:e.answer=o.form_response.content.sections[n][a].answer},[void 0===e.answer?(Object(s["q"])(),Object(s["d"])("span",Re," Sem resposta ")):e.answer===parseInt(e.answer,10)?(Object(s["q"])(),Object(s["d"])("span",$e,Object(s["B"])(i.properties.options[e.answer]),1)):(Object(s["q"])(),Object(s["d"])("span",ze,[Object(s["g"])(Object(s["B"])(i.properties.other_string),1),e.answer?(Object(s["q"])(),Object(s["d"])("span",He,' "'+Object(s["B"])(e.answer)+'"',1)):Object(s["e"])("",!0)]))],8,["set"])):"date"==i.properties.field_type?(Object(s["q"])(),Object(s["d"])("div",Ae,Object(s["B"])(new Date(o.form_response.content.sections[n][a].answer).toLocaleDateString()),1)):"datetime"==i.properties.field_type?(Object(s["q"])(),Object(s["d"])("div",Ne,Object(s["B"])(new Date(o.form_response.content.sections[n][a].answer).toLocaleString()),1)):(Object(s["q"])(),Object(s["d"])("div",Me,Object(s["B"])(o.form_response.content.sections[n][a].answer),1))],8,["set"])})),128))])})),128))])])}n("caad"),n("2532");var Le={name:"ViewResponse",components:i,data:function(){return{api_data:{},form_response:{}}},created:function(){var e=this;xe.get("formAnswer/".concat(this.$route.params.id)).then((function(t){e.initializeResponseData(t),xe.get("form/".concat(t.data.form)).then((function(t){return e.initializeData(t)})).catch((function(e){return console.log(e.response)}))})).catch((function(e){return console.log(e.response)}))},methods:{initializeData:function(e){this.api_data=e.data;for(var t=0;t<this.api_data.form.sections.length;){for(var n=0;n<this.api_data.form.sections[t].questions.length;)this.api_data.form.sections[t].questions[n].properties.field_type.includes("_exposition")?this.api_data.form.sections[t].questions.splice(n,1):n++;this.api_data.form.sections[t].questions.length>0?t++:this.api_data.form.sections.splice(t,1)}},initializeResponseData:function(e){this.form_response=e.data;for(var t=0;t<this.form_response.content.sections.length;){for(var n=0;n<this.form_response.content.sections[t].length;)this.form_response.content.sections[t][n].field_type.includes("_exposition")?this.form_response.content.sections[t].splice(n,1):n++;this.form_response.content.sections[t].length>0?t++:this.form_response.content.sections.splice(t,1)}}}};n("6a85");Le.render=Pe;var Ee=Le,Xe={key:0},Ye={class:"flex row ca"},Ke=Object(s["h"])("hr",null,null,-1),Qe={key:0},We={key:0},Ze={key:1,class:"requiredticker"},et={key:0,class:"flex row ca",style:{height:"70px"}},tt=Object(s["h"])("a",{class:"add_field add_section hoverable cancel",href:"/forms"}," Cancelar ",-1),nt=Object(s["h"])("button",{type:"submit",class:"add_field add_section hoverable submit"}," Submeter ",-1),it={key:0,class:"flex row ca",style:{height:"70px"}},ot={key:1},st=Object(s["g"])(" Houve um erro interno na edição do formulário."),at=Object(s["h"])("br",null,null,-1);function rt(e,t,n,i,o,a){return o.api_data?(Object(s["q"])(),Object(s["d"])("div",Xe,[Object(s["h"])("h1",null,Object(s["B"])(o.api_data.title),1),Object(s["h"])("div",Ye,[Object(s["h"])("form",{id:"form-area",class:"flex column",onSubmit:t[2]||(t[2]=Object(s["K"])((function(){return a.submit&&a.submit.apply(a,arguments)}),["prevent"]))},[(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(o.api_data.form.sections,(function(t,n){return Object(s["q"])(),Object(s["d"])("div",{key:n},[Ke,Object(s["h"])("h2",null,[o.api_data.form.hide_section_numbers?Object(s["e"])("",!0):(Object(s["q"])(),Object(s["d"])("span",Qe,Object(s["B"])(n+1)+". ",1)),Object(s["g"])(Object(s["B"])(t.section_name),1)]),(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(t.questions,(function(i,r){return Object(s["q"])(),Object(s["d"])("div",{key:r,set:e.qid="s"+n+"_q"+r,class:"flex column ca vla no-bottom question"},[Object(s["h"])("label",{class:"question-field",for:e.qid},[Object(s["h"])("h3",null,[o.api_data.form.hide_question_numbers||t.hide_question_numbers?Object(s["e"])("",!0):(Object(s["q"])(),Object(s["d"])("span",We,Object(s["B"])(r+1)+". ",1)),Object(s["g"])(Object(s["B"])(i.question),1),i.required?(Object(s["q"])(),Object(s["d"])("span",Ze,"*")):Object(s["e"])("",!0)])],8,["for"]),(Object(s["q"])(),Object(s["d"])(Object(s["z"])(i.properties.field_type),{class:"flex column ca vla",question:i,"question-index":r,"section-index":n,qid:e.qid,value:o.form_response.data.content.sections[n][r].answer,onUpdate:a.updateAnswer},null,8,["question","question-index","section-index","qid","value","onUpdate"]))],8,["set"])})),128))])})),128)),void 0===o.response?(Object(s["q"])(),Object(s["d"])("div",et,[tt,nt])):(Object(s["q"])(),Object(s["d"])(s["a"],{key:1},[void 0!==o.response.id?(Object(s["q"])(),Object(s["d"])("h3",it," Formulário editado com sucesso. Será redirecionado em "+Object(s["B"])(o.api_data.redirect_delay)+" segundos. ",1)):(Object(s["q"])(),Object(s["d"])("div",ot,[st,at,Object(s["J"])(Object(s["h"])("textarea",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.response=e})},null,512),[[s["G"],o.response]])]))],64))],32)])])):Object(s["e"])("",!0)}var lt={name:"EditResponse",components:i,data:function(){return{api_data:void 0,form_response:{},answers:[],validation:[],response:void 0}},created:function(){var e=this;xe.get("formAnswer/".concat(this.$route.params.id)).then((function(t){e.form_response=t,xe.get("form/".concat(e.form_response.data.form)).then((function(t){return e.initializeData(t)}))}))},methods:{submit:function(){var e=this;if(confirm("Confirma que a informação introduzida está correta?")){var t={method:"put",url:"/formAnswer/"+this.$route.params.id+"/",headers:{"X-CSRFToken":this.getCookie("csrftoken")},data:{content:{sections:this.answers},form:this.api_data.id},transformResponse:[function(){var t=Object(D["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{e.response=JSON.parse(n)}catch(i){e.response=n}if(void 0===e.response.id){t.next=5;break}return t.next=4,new Promise((function(t){return setTimeout(t,1e3*e.api_data.redirect_delay)}));case 4:window.location.href=e.api_data.redirect;case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()]};xe(t)}},updateAnswer:function(e){this.$nextTick((function(){this.answers[e.sectionIndex][e.questionIndex]["answer"]=e["answer"],this.validation[e.sectionIndex][e.questionIndex]=e["valid"]}))},initializeData:function(e){for(var t in this.api_data=e.data,this.api_data.form.sections)for(var n in this.answers[t]=[],this.validation[t]=[],this.api_data.form.sections[t].questions)this.validation[t][n]=null,this.answers[t][n]={field_type:this.api_data.form.sections[t].questions[n].properties["field_type"]}},getCookie:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var o=n[i].trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t}}};n("a561");lt.render=rt;var ct=lt,ut=(n("4de4"),{key:0,id:"responses"}),dt=Object(s["g"])(" Respostas"),ht={style:{"background-color":"#365c98"}},pt={class:"sections"},bt=Object(s["h"])("th",{style:{"background-color":"#3d6cb8"},rowspan:"3"}," Autor da Resposta ",-1),ft={key:0,style:{"background-color":"#3d6cb8"},rowspan:"3"},mt=Object(s["h"])("th",{style:{"background-color":"#3d6cb8"},rowspan:"3"}," Estado ",-1),Ot={key:0},jt={style:{display:"contents"}},vt={class:"fillerCell"},_t={class:"author"},qt=Object(s["g"])(" Anónimo "),gt=Object(s["h"])("br",null,null,-1),wt={key:0},yt={style:{display:"contents"}},xt={class:"fillerCell"};function kt(e,t,n,i,o,a){return o.api_data?(Object(s["q"])(),Object(s["d"])("div",ut,[Object(s["h"])("h1",null,[dt,o.user?(Object(s["q"])(),Object(s["d"])(s["a"],{key:0},[Object(s["g"])(" de "+Object(s["B"])(o.user),1)],64)):Object(s["e"])("",!0),o.event?(Object(s["q"])(),Object(s["d"])(s["a"],{key:1},[Object(s["g"])(" ao evento "+Object(s["B"])(o.event),1)],64)):Object(s["e"])("",!0)]),Object(s["h"])("table",null,[Object(s["h"])("caption",ht,Object(s["B"])(o.api_data.title),1),Object(s["h"])("thead",null,[Object(s["h"])("tr",pt,[bt,o.event?Object(s["e"])("",!0):(Object(s["q"])(),Object(s["d"])("th",ft," Evento ")),mt,(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(o.api_data.form.sections,(function(e,t){return Object(s["q"])(),Object(s["d"])("th",{key:t,colspan:1==o.displayed_sections[t]?e.questions.length:1,rowspan:1==o.displayed_sections[t]?1:2,style:{"background-color":"#3d6cb8"}},Object(s["B"])(e.section_name),9,["colspan","rowspan"])})),128))]),Object(s["h"])("tr",null,[(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(o.api_data.form.sections,(function(e,t){return Object(s["J"])((Object(s["q"])(),Object(s["d"])("div",{key:t,style:{display:"contents"}},[(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(e.questions,(function(e,t){return Object(s["q"])(),Object(s["d"])("th",{key:t},Object(s["B"])(e.question),1)})),128))],512)),[[s["H"],1==o.displayed_sections[t]]])})),128))]),Object(s["h"])("tr",null,[(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(o.api_data.form.sections,(function(e,t){return Object(s["q"])(),Object(s["d"])("th",{key:t,class:o.displayed_sections[t]?"view_section":"hide_section",colspan:o.displayed_sections[t]?e.questions.length:1,onClick:function(e){o.displayed_sections[t]=!o.displayed_sections[t]}},Object(s["B"])(o.displayed_sections[t]?"Esconder secção":"Ver secção"),11,["colspan","onClick"])})),128))]),Object(s["h"])("tr",null,[Object(s["h"])("th",null,[Object(s["J"])(Object(s["h"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.authorSearch=e}),class:"searchBar",type:"text"},null,512),[[s["G"],o.authorSearch]])]),o.event?Object(s["e"])("",!0):(Object(s["q"])(),Object(s["d"])("th",Ot,[Object(s["J"])(Object(s["h"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.eventSearch=e}),class:"searchBar",type:"text"},null,512),[[s["G"],o.eventSearch]])])),Object(s["h"])("th",null,[Object(s["J"])(Object(s["h"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.statusSearch=e}),class:"searchBar",type:"text"},null,512),[[s["G"],o.statusSearch]])]),(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(o.api_data.form.sections,(function(n,i){return Object(s["q"])(),Object(s["d"])("div",{key:i,style:{display:"contents"}},[Object(s["J"])(Object(s["h"])("div",jt,[(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(n.questions,(function(n,i){return Object(s["q"])(),Object(s["d"])("th",{key:i},[Object(s["J"])(Object(s["h"])("input",{"onUpdate:modelValue":function(e){return n.filter=e},class:"searchBar",type:"text",onChanged:t[4]||(t[4]=function(){return e.filter&&e.filter.apply(e,arguments)})},null,40,["onUpdate:modelValue"]),[[s["G"],n.filter]])])})),128))],512),[[s["H"],o.displayed_sections[i]]]),Object(s["J"])(Object(s["h"])("td",vt,null,512),[[s["H"],0==o.displayed_sections[i]]])])})),128))])]),Object(s["h"])("tbody",null,[(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(a.filteredResponses(),(function(e,t){return Object(s["q"])(),Object(s["d"])("tr",{key:t},[Object(s["h"])("td",_t,[e.author?(Object(s["q"])(),Object(s["d"])("span",{key:0,href:"/profile/"+e.answerer},Object(s["B"])(e.author),9,["href"])):(Object(s["q"])(),Object(s["d"])(s["a"],{key:1},[qt],64)),Object(s["h"])("span",{class:"mouseover",title:new Date(e.created_at).toLocaleString()},", há "+Object(s["B"])(a.timeSince(e.created_at)),9,["title"]),e.created_at!=e.updated_at?(Object(s["q"])(),Object(s["d"])("span",{key:2,class:[e.created_at!=e.updated_at?"edited":"","mouseover"],title:"Editado por "+(e.editor?e.editor:"Anónimo")+" há "+a.timeSince(e.updated_at)+" ("+new Date(e.updated_at).toLocaleString()+")"},"*",10,["title"])):Object(s["e"])("",!0),gt]),o.event?Object(s["e"])("",!0):(Object(s["q"])(),Object(s["d"])("td",wt,Object(s["B"])(e.eventName),1)),Object(s["h"])("td",null,[Object(s["J"])(Object(s["h"])("select",{"onUpdate:modelValue":function(t){return o.answerStatuses[e.id]=t},class:"status",style:{backgroundColor:o.statuses[o.answerStatuses[e.id]].color},onChange:function(t){return a.changeStatus(e.id,o.answerStatuses[e.id])}},[(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(o.statuses,(function(e,t){return Object(s["q"])(),Object(s["d"])("option",{key:t,value:t,style:{"background-color":"white",color:"black"}},Object(s["B"])(e.name),9,["value"])})),128))],44,["onUpdate:modelValue","onChange"]),[[s["F"],o.answerStatuses[e.id]]])]),(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(e.content.sections,(function(e,t){return Object(s["q"])(),Object(s["d"])("div",{key:t,style:{display:"contents"}},[Object(s["J"])(Object(s["h"])("div",yt,[(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(e,(function(e,t){return Object(s["q"])(),Object(s["d"])("td",{key:t,style:void 0===e.answer?"background-color: rgba(0, 0, 0, 0.25);":""},[void 0!==e.answer?(Object(s["q"])(),Object(s["d"])(s["a"],{key:0},["[object Array]"===Object.prototype.toString.call(e.answer)?(Object(s["q"])(!0),Object(s["d"])(s["a"],{key:0},Object(s["x"])(e.answer,(function(e,t){return Object(s["q"])(),Object(s["d"])("li",{key:t},Object(s["B"])(e),1)})),128)):(Object(s["q"])(),Object(s["d"])(s["a"],{key:1},[Object(s["g"])(Object(s["B"])(e.answer),1)],64))],64)):Object(s["e"])("",!0)],4)})),128))],512),[[s["H"],o.displayed_sections[t]]]),Object(s["J"])(Object(s["h"])("td",xt,null,512),[[s["H"],0==o.displayed_sections[t]]])])})),128))])})),128))])])])):Object(s["e"])("",!0)}var St=n("53ca"),Ct=(n("5319"),{name:"ViewAllResponses",components:i,data:function(){return{api_data:void 0,form_responses:[],displayed_sections:[],event:void 0,user:void 0,statuses:{},authorSearch:"",eventSearch:"",statusSearch:"",answerStatuses:[],interval:void 0}},created:function(){var e=this;xe.get("form/".concat(this.$route.params.id)).then((function(t){return e.initializeData(t)})).catch((function(e){return console.log(e.response)}));var t="formAnswer/?form=".concat(this.$route.params.id);void 0!==this.$route.query.event&&(t=t.concat("&event=").concat(this.$route.query.event),xe.get("event/".concat(this.$route.query.event)).then((function(t){return e.event=t.data.name})).catch((function(e){return console.log(e.response)}))),void 0!==this.$route.query.user&&(t=t.concat("&user=").concat(this.$route.query.user),xe.get("user/".concat(this.$route.query.user)).then((function(t){return e.user=t.data.username}))),xe.get(t).then((function(t){return e.initializeAnswers(t)})),xe.get("answerStatus/").then((function(t){e.statuses=t.data})),this.getStatuses()},methods:{getStatuses:function(){var e=this;xe.get("formAnswerStatus/").then((function(t){e.answerStatuses=t.data}))},changeStatus:function(e,t){var n=this,i={method:"put",url:"/formAnswerStatus/"+e+"/",headers:{"X-CSRFToken":this.getCookie("csrftoken")},data:{status:t},transformResponse:[function(e){return n.response=e,e}]};xe(i)},initializeData:function(e){this.api_data=e.data;for(var t=0;t<this.api_data.form.sections.length;){for(var n=0;n<this.api_data.form.sections[t].questions.length;)this.api_data.form.sections[t].questions[n].properties.field_type.includes("_exposition")?this.api_data.form.sections[t].questions.splice(n,1):n++;this.api_data.form.sections[t].questions.length>0?(this.displayed_sections[t]=!0,t++):this.api_data.form.sections.splice(t,1)}},initializeAnswers:function(e){this.form_responses=e.data;for(var t=0;t<this.form_responses.length;t++)for(var n=this.form_responses[t],i=0;i<n.content.sections.length;i++)for(var o=n.content.sections[i],s=0;s<o.length;s++){var a=o[s];if(void 0!==a.answer)if("selectboxes"==a.field_type)for(var r=0;r<a.answer.length;r++){var l=a.answer[r];l===parseInt(l,10)?a.answer[r]=this.api_data.form.sections[i].questions[s].properties.options[l]:a.answer='Outro: "'+a.answer+'"'}else"multiplechoice"==a.field_type?a.answer===parseInt(a.answer,10)?a.answer=this.api_data.form.sections[i].questions[s].properties.options[a.answer]:a.answer='Outro: "'+a.answer+'"':"date"==a.field_type?a.answer=new Date(a.answer).toLocaleDateString():"datetime"==a.field_type&&(a.answer=new Date(a.answer).toLocaleString())}},allFalse:function(){for(var e=0;e<this.displayed_sections.length;e++)if(1==this.displayed_sections[e])return!1;return!0},stringIn:function(e,t){return-1!=e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").indexOf(t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))},filteredResponses:function(){var e=this,t=this.form_responses;""!=this.authorSearch&&(t=t.filter((function(t){return e.stringIn(void 0===t.author?"Anónimo":t.author,e.authorSearch)}))),""!=this.eventSearch&&(t=t.filter((function(t){return!!t.eventName&&e.stringIn(t.eventName,e.eventSearch)}))),""!=this.statusSearch&&(t=t.filter((function(t){return e.stringIn(e.statuses[e.answerStatuses[t.id]].name,e.statusSearch)})));for(var n=0;n<this.api_data.form.sections.length;n++)if(this.displayed_sections[n])for(var i=this.api_data.form.sections[n],o=0;o<i.questions.length;o++){var s=i.questions[o];s.filter&&""!=s.filter&&(t=t.filter((function(t){return e.stringIn(String(t.content.sections[n][o].answer),s.filter)})))}return t},timeSince:function(e){"object"!==Object(St["a"])(e)&&(e=new Date(e));var t,n=Math.floor((new Date-e)/1e3),i=Math.floor(n/31536e3);return i>=1?t="ano":(i=Math.floor(n/2592e3),i>=1?t="mês":(i=Math.floor(n/86400),i>=1?t="dia":(i=Math.floor(n/3600),i>=1?t="hora":(i=Math.floor(n/60),i>=1?t="minuto":(i=n,t="segundo"))))),(i>1||0===i)&&("mês"==t?t="meses":t+="s"),i+" "+t},getCookie:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var o=n[i].trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t}}});n("0c63");Ct.render=kt;var Jt=Ct,Vt={key:0,id:"responses"},Ut=Object(s["h"])("h1",null,"Formulários da Plataforma",-1),It={class:""},Ft=Object(s["h"])("caption",null," Formulários ",-1),Tt=Object(s["h"])("thead",null,[Object(s["h"])("tr",null,[Object(s["h"])("th",null," Formulário "),Object(s["h"])("th",null,"Respostas"),Object(s["h"])("th",null,"Editar"),Object(s["h"])("th",null,"Eliminar")])],-1),Dt={align:"right"},Bt={align:"right"},Gt={align:"right"};function Rt(e,t,n,i,o,a){return void 0!==o.forms?(Object(s["q"])(),Object(s["d"])("div",Vt,[Ut,Object(s["h"])("table",It,[Ft,Tt,Object(s["h"])("tbody",null,[(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(o.forms,(function(e){return Object(s["q"])(),Object(s["d"])("tr",{key:e.id},[Object(s["h"])("td",null,Object(s["B"])(e.title),1),Object(s["h"])("td",Dt,Object(s["B"])(e.responses),1),Object(s["h"])("td",Bt,[Object(s["h"])("a",{href:"editForm/"+e.id},"Editar",8,["href"])]),Object(s["h"])("td",Gt,[Object(s["h"])("a",{href:"#",onClick:function(t){return a.remove(e.id)}},"Eliminar",8,["onClick"])])])})),128))])])])):Object(s["e"])("",!0)}var $t={name:"CreateResponse",components:i,data:function(){return{forms:void 0}},created:function(){var e=this;xe.get("form/").then((function(t){return e.forms=t.data})).catch((function(e){return console.log(e.response)}))},methods:{remove:function(e){var t=this;if(confirm("De certeza que quer eliminar este formulário?")){var n={method:"delete",url:"/form/"+e+"/",headers:{"X-CSRFToken":this.getCookie("csrftoken")},transformResponse:[function(n){return t.forms=t.forms.filter((function(t){return t.id!=e})),n}]};xe(n)}},getCookie:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var o=n[i].trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t}}};n("396d");$t.render=Rt;var zt=$t,Ht=Object(s["h"])("h1",null,"Criação de novo formulário",-1),At=Object(s["h"])("hr",null,null,-1),Nt=Object(s["h"])("h3",null,[Object(s["h"])("label",{for:"type"},"Tipo de formulário")],-1),Mt=Object(s["h"])("option",{disabled:""},null,-1),Pt=Object(s["h"])("br",null,null,-1),Lt=Object(s["h"])("h2",null,"Opções avançadas",-1),Et={class:"arrow right"},Xt={class:"arrow down"},Yt={id:"advanced_options"},Kt=Object(s["h"])("br",null,null,-1),Qt=Object(s["h"])("h3",null,[Object(s["h"])("label",{for:"submit_message"},"Mensagem de sucesso")],-1),Wt=Object(s["h"])("br",null,null,-1),Zt=Object(s["h"])("br",null,null,-1),en=Object(s["h"])("h3",null,[Object(s["h"])("label",{class:"label",for:"redirect"},"Página de redireção após sucesso")],-1),tn=Object(s["h"])("br",null,null,-1),nn=Object(s["h"])("br",null,null,-1),on=Object(s["h"])("h3",null,[Object(s["h"])("label",{for:"redirect_delay"},"Atraso de redireção (segundos)")],-1),sn=Object(s["h"])("br",null,null,-1),an=Object(s["h"])("br",null,null,-1),rn={class:"switch"},ln=Object(s["h"])("span",{class:"slider round hide_sections"},null,-1),cn=Object(s["h"])("br",null,null,-1),un=Object(s["h"])("br",null,null,-1),dn={class:"switch"},hn=Object(s["h"])("span",{class:"slider round hide_questions"},null,-1),pn=Object(s["h"])("hr",null,null,-1),bn={style:{"margin-left":"5px","margin-right":"10px"}},fn=Object(s["h"])("br",null,null,-1),mn={class:"flex column"},On=Object(s["h"])("br",null,null,-1),jn={style:{"margin-left":"5px","margin-right":"10px"}},vn=Object(s["h"])("br",null,null,-1),_n=Object(s["h"])("br",null,null,-1),qn=Object(s["h"])("br",null,null,-1),gn={key:0,class:"switch"},wn=Object(s["h"])("span",{class:"slider round"},null,-1),yn=Object(s["h"])("br",null,null,-1),xn={class:"new_field flex row ca"},kn={class:"flex row la"},Sn=Object(s["f"])('<option disabled value="none"> Campo de Texto </option><option value="shorttext"> Texto Curto </option><option value="longtext"> Texto Longo </option><option disabled> Email </option><option disabled> Morada </option>',5),Cn=Object(s["h"])("option",{disabled:"",value:"none"}," Campo Numérico ",-1),Jn=Object(s["h"])("option",{value:"number"}," Número ",-1),Vn=Object(s["h"])("option",{disabled:""}," NIF ",-1),Un=Object(s["h"])("option",{disabled:""}," Número telefónico ",-1),In=Object(s["h"])("option",{disabled:"",value:"none"}," Campo de Data ",-1),Fn=Object(s["h"])("option",{value:"date"}," Data ",-1),Tn=Object(s["h"])("option",{value:"datetime"}," Data e Hora ",-1),Dn=Object(s["h"])("option",{disabled:"",value:"none"}," Campo de Seleção ",-1),Bn=Object(s["h"])("option",{value:"multiplechoice"}," Escolha Múltipla ",-1),Gn=Object(s["h"])("option",{value:"selectboxes"}," Caixas de Seleção ",-1),Rn=Object(s["h"])("option",{disabled:"",value:"none"}," Campo de Exposição ",-1),$n=Object(s["h"])("option",{value:"text_exposition"}," Descrição ",-1),zn=Object(s["h"])("option",{value:"image_exposition"}," Imagem ",-1),Hn=Object(s["h"])("option",{value:"youtube_exposition"}," Vídeo (YouTube) ",-1),An=Object(s["h"])("div",null,null,-1),Nn={class:"flex row ca"},Mn=Object(s["h"])("hr",null,null,-1),Pn={key:0,class:"flex row ca"},Ln=Object(s["h"])("a",{class:"add_field add_section hoverable cancel",href:"/forms"}," Cancelar ",-1),En=Object(s["h"])("button",{type:"submit",class:"add_field add_section hoverable submit"}," Submeter ",-1),Xn={key:0,class:"flex row ca"},Yn={key:1},Kn=Object(s["g"])(" Houve um erro interno na criação do formulário."),Qn=Object(s["h"])("br",null,null,-1);function Wn(e,t,n,i,o,a){return Object(s["q"])(),Object(s["d"])("div",null,[Ht,Object(s["h"])("form",{id:"form-area",class:"flex column",onSubmit:t[16]||(t[16]=Object(s["K"])((function(){return a.submit&&a.submit.apply(a,arguments)}),["prevent"]))},[Object(s["h"])("div",null,[Object(s["J"])(Object(s["h"])("input",{id:"title","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.title=e}),class:"seamless_input",type:"text"},null,512),[[s["G"],o.title]]),At,Nt,Object(s["J"])(Object(s["h"])("select",{id:"type","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.type=e}),required:""},[Mt,(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(o.form_types,(function(e){return Object(s["q"])(),Object(s["d"])("option",{key:e.id,value:e.id},Object(s["B"])(e.name),9,["value"])})),128))],512),[[s["F"],o.type]])]),Pt,Object(s["h"])("div",{id:"advanced_options_control",class:"flex row unselectable",onClick:t[3]||(t[3]=function(e){return o.advancedOptionsShown=!o.advancedOptionsShown})},[Lt,Object(s["J"])(Object(s["h"])("i",Et,null,512),[[s["H"],!o.advancedOptionsShown]]),Object(s["J"])(Object(s["h"])("i",Xt,null,512),[[s["H"],o.advancedOptionsShown]])]),Object(s["J"])(Object(s["h"])("div",Yt,[Kt,Qt,Object(s["J"])(Object(s["h"])("textarea",{id:"submit_message","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.submit_message=e})},null,512),[[s["G"],o.submit_message]]),Wt,Zt,en,Object(s["J"])(Object(s["h"])("input",{id:"redirect","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.redirect=e}),type:"text"},null,512),[[s["G"],o.redirect]]),tn,nn,on,Object(s["J"])(Object(s["h"])("input",{id:"redirect_delay","onUpdate:modelValue":t[6]||(t[6]=function(e){return o.redirect_delay=e}),type:"number",step:"0.25"},null,512),[[s["G"],o.redirect_delay]]),sn,an,Object(s["h"])("label",rn,[Object(s["J"])(Object(s["h"])("input",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return o.hide_section_numbers=e}),type:"checkbox"},null,512),[[s["D"],o.hide_section_numbers]]),ln]),cn,un,Object(s["h"])("label",dn,[Object(s["J"])(Object(s["h"])("input",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return o.hide_question_numbers=e}),type:"checkbox"},null,512),[[s["D"],o.hide_question_numbers]]),hn])],512),[[s["H"],o.advancedOptionsShown]]),pn,(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(o.added_sections,(function(e,n){return Object(s["q"])(),Object(s["d"])("div",{key:n,class:"flex row width-100 section"},[Object(s["h"])("div",bn,[Object(s["h"])("i",{class:"remove round flex ca vca unselectable",onClick:function(e){return o.added_sections.splice(n,1)}},"✖",8,["onClick"]),Object(s["J"])(Object(s["h"])("i",{class:"arrow up",onClick:function(e){return a.moveSectionUp(n)}},null,8,["onClick"]),[[s["H"],a.hasPrevSection(n)]]),fn,Object(s["J"])(Object(s["h"])("i",{class:"arrow down",style:{bottom:"7px"},onClick:function(e){return a.moveSectionDown(n)}},null,8,["onClick"]),[[s["H"],a.hasNextSection(n)]])]),Object(s["h"])("div",mn,[Object(s["J"])(Object(s["h"])("input",{id:"title","onUpdate:modelValue":function(t){return e.section_name=t},class:"seamless_input",type:"text"},null,8,["onUpdate:modelValue"]),[[s["G"],e.section_name]]),On,(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(e.questions,(function(t,i){return Object(s["q"])(),Object(s["d"])("div",{key:i,class:"flex row la width-100 question"},[Object(s["h"])("div",jn,[Object(s["h"])("i",{class:"remove round flex ca vca unselectable",onClick:function(t){return e.questions.splice(i,1)}},"✖",8,["onClick"]),Object(s["J"])(Object(s["h"])("i",{class:"arrow up",onClick:function(e){return a.moveUp(n,i)}},null,8,["onClick"]),[[s["H"],a.hasPrev(n,i)]]),vn,Object(s["J"])(Object(s["h"])("i",{class:"arrow down",style:{bottom:"7px"},onClick:function(e){return a.moveDown(n,i)}},null,8,["onClick"]),[[s["H"],a.hasNext(n,i)]])]),Object(s["h"])("div",null,[Object(s["h"])("div",null,[Object(s["h"])("h3",null,Object(s["B"])(a.getFieldTypeTitle(t.properties.field_type)),1),_n,Object(s["J"])(Object(s["h"])("input",{id:"question_"+i,"onUpdate:modelValue":function(e){return t.question=e},type:"text",class:"seamless_input"},null,8,["id","onUpdate:modelValue"]),[[s["G"],t.question]])]),qn,t.properties.field_type.includes("_exposition")?Object(s["e"])("",!0):(Object(s["q"])(),Object(s["d"])("label",gn,[Object(s["J"])(Object(s["h"])("input",{"onUpdate:modelValue":function(e){return t.required=e},type:"checkbox"},null,8,["onUpdate:modelValue"]),[[s["D"],t.required]]),wn,yn])),(Object(s["q"])(),Object(s["d"])(Object(s["z"])(t.properties.field_type),{key:t.properties,class:"flex column ca vla",question:t,qid:i,properties:t.properties,onUpdate:function(e){return t.properties=e}},null,8,["question","qid","properties","onUpdate"]))])])})),128)),Object(s["h"])("div",xn,[Object(s["J"])(Object(s["h"])("div",kn,[Object(s["J"])(Object(s["h"])("select",{"onUpdate:modelValue":t[9]||(t[9]=function(e){return o.new_field=e}),class:"flex row ca add_field",onChange:function(t){return a.selected_field(e,n)}},[Sn],40,["onChange"]),[[s["F"],o.new_field]]),Object(s["J"])(Object(s["h"])("select",{"onUpdate:modelValue":t[10]||(t[10]=function(e){return o.new_field=e}),class:"flex row ca add_field",onChange:function(t){return a.selected_field(e,n)}},[Cn,Jn,Vn,Un],40,["onChange"]),[[s["F"],o.new_field]]),Object(s["J"])(Object(s["h"])("select",{"onUpdate:modelValue":t[11]||(t[11]=function(e){return o.new_field=e}),class:"flex row ca add_field",onChange:function(t){return a.selected_field(e,n)}},[In,Fn,Tn],40,["onChange"]),[[s["F"],o.new_field]]),Object(s["J"])(Object(s["h"])("select",{"onUpdate:modelValue":t[12]||(t[12]=function(e){return o.new_field=e}),class:"flex row ca add_field",onChange:function(t){return a.selected_field(e,n)}},[Dn,Bn,Gn],40,["onChange"]),[[s["F"],o.new_field]]),Object(s["J"])(Object(s["h"])("select",{"onUpdate:modelValue":t[13]||(t[13]=function(e){return o.new_field=e}),class:"flex row ca add_field",onChange:function(t){return a.selected_field(e,n)}},[Rn,$n,zn,Hn],40,["onChange"]),[[s["F"],o.new_field]])],512),[[s["H"],o.selecting_field[n]]]),Object(s["J"])(Object(s["h"])("button",{type:"button",class:"add_field round_add hoverable unselectable",onClick:function(e){return o.selecting_field[n]=!o.selecting_field[n]}}," + ",8,["onClick"]),[[s["H"],!o.selecting_field[n]]])])])])})),128)),An,Object(s["h"])("div",Nn,[Object(s["h"])("button",{type:"button",class:"add_field add_section hoverable",onClick:t[14]||(t[14]=function(e){return a.addSection()})}," Adicionar secção ")]),Mn,void 0===o.response?(Object(s["q"])(),Object(s["d"])("div",Pn,[Ln,En])):(Object(s["q"])(),Object(s["d"])(s["a"],{key:1},[void 0!==o.response.id?(Object(s["q"])(),Object(s["d"])("h3",Xn," Formulário criado com sucesso com o id "+Object(s["B"])(o.response.id)+". Será redirecionado em 3 segundos. ",1)):(Object(s["q"])(),Object(s["d"])("div",Yn,[Kn,Qn,Object(s["J"])(Object(s["h"])("textarea",{"onUpdate:modelValue":t[15]||(t[15]=function(e){return o.response=e})},null,512),[[s["G"],o.response]])]))],64))],32)])}var Zn=Object(s["h"])("h2",null,"Opções avançadas",-1),ei={class:"arrow right"},ti={class:"arrow down"},ni=Object(s["h"])("br",null,null,-1),ii=Object(s["h"])("br",null,null,-1),oi=Object(s["h"])("br",null,null,-1),si=Object(s["h"])("br",null,null,-1),ai=Object(s["h"])("br",null,null,-1),ri=Object(s["h"])("br",null,null,-1),li=Object(s["h"])("br",null,null,-1),ci=Object(s["h"])("option",{value:"text"}," Texto ",-1),ui=Object(s["h"])("option",{value:"slider"}," Barra deslizante ",-1);function di(e,t,n,i,o,a){var r=this;return Object(s["q"])(),Object(s["d"])("div",{class:["flex row",!o.invalid||void 0!==e.answer&&""!=e.answer?"":o.invalid]},[o.valid?Object(s["e"])("",!0):(Object(s["q"])(),Object(s["d"])("input",{id:n.qid+"_validator",key:o.valid,value:"O máximo deve ser superior ao mínimo.",type:"text",oninvalid:"setCustomValidity('O máximo deve ser superior ao mínimo.')",pattern:o.valid?void 0:".a",class:"warning-field removable",onkeydown:"return false;",size:"O máximo deve ser superior ao mínimo.".length-6,onInvalid:t[1]||(t[1]=function(e){return o.invalid="invalid"})},null,40,["id","pattern","size"])),Object(s["h"])("div",{id:"advanced_options_control",class:"flex row unselectable",onClick:t[2]||(t[2]=function(e){return o.advancedOptionsShown=!o.advancedOptionsShown})},[Zn,Object(s["J"])(Object(s["h"])("i",ei,null,512),[[s["H"],!o.advancedOptionsShown]]),Object(s["J"])(Object(s["h"])("i",ti,null,512),[[s["H"],o.advancedOptionsShown]])]),Object(s["J"])(Object(s["h"])("div",null,[Object(s["h"])("label",{class:"option-label",for:n.qid+"_default"},"Valor por defeito: ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_default","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.result.default=e}),type:"number",onChange:t[4]||(t[4]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],this.result.default,void 0,{number:!0}]]),ni,Object(s["h"])("label",{class:"option-label",for:n.qid+"_placeholder"},"Texto de sugestão: ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_placeholder","onUpdate:modelValue":t[5]||(t[5]=function(e){return r.result.placeholder=e}),type:"text",onChange:t[6]||(t[6]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],this.result.placeholder]]),ii,Object(s["h"])("label",{class:"option-label",for:n.qid+"_min"},"Mínimo: ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_min","onUpdate:modelValue":t[7]||(t[7]=function(e){return r.result.min=e}),type:"number",step:"1",min:"1",onChange:t[8]||(t[8]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],this.result.min,void 0,{number:!0}]]),oi,Object(s["h"])("label",{class:"option-label",for:n.qid+"_max"},"Máximo: ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_max","onUpdate:modelValue":t[9]||(t[9]=function(e){return r.result.max=e}),type:"number",step:"1",min:"1",onChange:t[10]||(t[10]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],this.result.max,void 0,{number:!0}]]),si,Object(s["h"])("label",{class:"option-label",for:n.qid+"_decimal_places"},"Casas decimais: ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_decimal_places","onUpdate:modelValue":t[11]||(t[11]=function(e){return r.result.decimal_places=e}),type:"number",step:"1",min:"0",onChange:t[12]||(t[12]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],this.result.decimal_places,void 0,{number:!0}]]),ai,Object(s["h"])("label",{class:"option-label",for:n.qid+"_prefix"},"Prefixo: ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_prefix","onUpdate:modelValue":t[13]||(t[13]=function(e){return r.result.prefix=e}),type:"text",onChange:t[14]||(t[14]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],this.result.prefix]]),ri,Object(s["h"])("label",{class:"option-label",for:n.qid+"_suffix"},"Sufixo: ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_suffix","onUpdate:modelValue":t[15]||(t[15]=function(e){return r.result.suffix=e}),type:"text",onChange:t[16]||(t[16]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],this.result.suffix]]),li,Object(s["h"])("label",{class:"option-label",for:n.qid+"_number"},"Estilo: ",8,["for"]),Object(s["J"])(Object(s["h"])("select",{id:n.qid+"_number","onUpdate:modelValue":t[17]||(t[17]=function(e){return r.result.style=e}),required:"",onChange:t[18]||(t[18]=function(){return a.update&&a.update.apply(a,arguments)})},[ci,ui],40,["id"]),[[s["F"],this.result.style]])],512),[[s["H"],o.advancedOptionsShown]])],2)}var hi={name:"NumberField",props:["qid","properties"],emits:["update"],data:function(){return{result:this.properties,valid:!0,invalid:"",advancedOptionsShown:!1}},created:function(){void 0===this.result.style&&(this.result.style="text",this.update())},methods:{update:function(){this.valid=!this.result.min||!this.result.max||this.result.min<=this.result.max,""===this.result.default&&(this.result.default=void 0),""===this.result.placeholder&&(this.result.placeholder=void 0),""===this.result.min&&(this.result.min=void 0),""===this.result.max&&(this.result.max=void 0),""===this.result.decimal_places&&(this.result.decimal_places=void 0),""===this.result.prefix&&(this.result.prefix=void 0),""===this.result.suffix&&(this.result.suffix=void 0),this.$emit("update",this.result)}}};n("c3d1");hi.render=di;var pi=hi,bi=Object(s["L"])("data-v-2c899848");Object(s["u"])("data-v-2c899848");var fi=Object(s["h"])("br",null,null,-1),mi=Object(s["h"])("h2",null,"Opções avançadas",-1),Oi={class:"arrow right"},ji={class:"arrow down"},vi=Object(s["h"])("h3",null,"Valores por defeito: ",-1),_i=Object(s["h"])("br",null,null,-1),qi=Object(s["h"])("br",null,null,-1),gi=Object(s["h"])("br",null,null,-1),wi=Object(s["h"])("br",null,null,-1),yi={class:"switch"},xi=Object(s["h"])("span",{class:"slider round allowed_other"},null,-1),ki=Object(s["h"])("br",null,null,-1),Si=Object(s["h"])("br",null,null,-1),Ci=Object(s["h"])("br",null,null,-1),Ji=Object(s["h"])("br",null,null,-1);Object(s["r"])();var Vi=bi((function(e,t,n,i,o,a){return Object(s["q"])(),Object(s["d"])("div",{class:["flex row",!o.invalid||void 0!==e.answer&&""!=e.answer?"":o.invalid]},[o.valid?Object(s["e"])("",!0):(Object(s["q"])(),Object(s["d"])("input",{id:n.qid+"_validator",key:o.valid,value:"O máximo deve ser superior ao mínimo.",type:"text",oninvalid:"setCustomValidity('O máximo deve ser superior ao mínimo.')",pattern:o.valid?void 0:".a",class:"warning-field removable",onkeydown:"return false;",size:"O máximo deve ser superior ao mínimo.".length-3,onInvalid:t[1]||(t[1]=function(e){return o.invalid="invalid"})},null,40,["id","pattern","size"])),(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(o.result.options,(function(e,i){return Object(s["q"])(),Object(s["d"])("div",{key:i,class:"flex row la",style:{"margin-bottom":"5px"}},[Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_option_"+i,"onUpdate:modelValue":function(e){return o.result.options[i]=e},type:"text",style:{height:"32px"},onChange:t[2]||(t[2]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id","onUpdate:modelValue"]),[[s["G"],o.result.options[i]]]),Object(s["J"])(Object(s["h"])("i",{class:"remove round flex ca vca unselectable",style:{"margin-top":"-1px"},onClick:function(e){return o.result.options.splice(i,1)}},"✖",8,["onClick"]),[[s["H"],o.result.options.length>1]])])})),128)),Object(s["h"])("button",{type:"button",class:"add_field add_section hoverable",onClick:t[3]||(t[3]=function(e){return o.result.options.push("")})}," Adicionar opção "),fi,Object(s["h"])("div",{id:"advanced_options_control",class:"flex row unselectable",onClick:t[4]||(t[4]=function(e){return o.advancedOptionsShown=!o.advancedOptionsShown})},[mi,Object(s["J"])(Object(s["h"])("i",Oi,null,512),[[s["H"],!o.advancedOptionsShown]]),Object(s["J"])(Object(s["h"])("i",ji,null,512),[[s["H"],o.advancedOptionsShown]])]),Object(s["J"])(Object(s["h"])("div",null,[vi,(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(o.result.options,(function(e,i){return Object(s["q"])(),Object(s["d"])("div",{key:i},[Object(s["h"])("label",{class:"option-label no-width",for:n.qid+"_default_"+i},Object(s["B"])(e),9,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_default_"+i,"onUpdate:modelValue":t[5]||(t[5]=function(e){return o.result.default=e}),value:i,type:"checkbox",onChange:t[6]||(t[6]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id","value"]),[[s["D"],o.result.default]])])})),128)),_i,Object(s["h"])("label",{class:"option-label",for:n.qid+"_min_selected"},"Mínimo selecionados: ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_min_selected","onUpdate:modelValue":t[7]||(t[7]=function(e){return o.result.min_selected=e}),type:"number",step:"1",min:"1",onChange:t[8]||(t[8]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],o.result.min_selected,void 0,{number:!0}]]),qi,Object(s["h"])("label",{class:"option-label",for:n.qid+"_max_selected"},"Máximo selecionados: ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_max_selected","onUpdate:modelValue":t[9]||(t[9]=function(e){return o.result.max_selected=e}),type:"number",step:"1",min:"1",onChange:t[10]||(t[10]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],o.result.max_selected,void 0,{number:!0}]]),gi,wi,Object(s["h"])("label",yi,[Object(s["J"])(Object(s["h"])("input",{"onUpdate:modelValue":t[11]||(t[11]=function(e){return o.result.allowed_other=e}),type:"checkbox",onChange:t[12]||(t[12]=function(){return a.update&&a.update.apply(a,arguments)})},null,544),[[s["D"],o.result.allowed_other]]),xi]),ki,Object(s["J"])(Object(s["h"])("div",null,[Object(s["h"])("label",{class:"option-label",for:n.qid+"_placeholder"},"Texto de sugestão (outros): ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_placeholder","onUpdate:modelValue":t[13]||(t[13]=function(e){return o.result.placeholder=e}),type:"text",onChange:t[14]||(t[14]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],o.result.placeholder]]),Si,Object(s["h"])("label",{class:"option-label",for:n.qid+"_min_length"},"Tamanho mínimo (outros): ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_min_length","onUpdate:modelValue":t[15]||(t[15]=function(e){return o.result.min_length=e}),type:"number",step:"1",min:"1",onChange:t[16]||(t[16]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],o.result.min_length,void 0,{number:!0}]]),Ci,Object(s["h"])("label",{class:"option-label",for:n.qid+"_max_length"},"Tamanho máximo (outros): ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_max_length","onUpdate:modelValue":t[17]||(t[17]=function(e){return o.result.max_length=e}),type:"number",step:"1",min:"1",onChange:t[18]||(t[18]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],o.result.max_length,void 0,{number:!0}]]),Ji,Object(s["h"])("label",{class:"option-label",for:n.qid+"_decimal_places"},"Pergunta de outros: ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_other_string","onUpdate:modelValue":t[19]||(t[19]=function(e){return o.result.other_string=e}),type:"text",onChange:t[20]||(t[20]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],o.result.other_string]])],512),[[s["H"],o.result.allowed_other]])],512),[[s["H"],o.advancedOptionsShown]])],2)})),Ui={name:"MultipleChoiceField",props:["qid","properties"],emits:["update"],data:function(){return{result:this.properties,valid:!0,invalid:"",advancedOptionsShown:!1}},created:function(){void 0===this.result.options&&(this.result.options=[""]),void 0===this.result.default&&(this.result.default=[])},methods:{update:function(){this.valid=!this.result.min_length||!this.result.max_length||this.result.min_length<=this.result.max_length,this.valid=this.valid&&(this.valid=!this.result.min_selected||!this.result.max_selected||this.result.min_selected<=this.result.max_selected),(""===this.result.default||void 0!==this.result.default&&0==this.result.default.length)&&(this.result.default=void 0),""!==this.result.placeholder&&this.result.allowed_other||(this.result.placeholder=void 0),""!==this.result.min_length&&this.result.allowed_other||(this.result.min_length=void 0),""!==this.result.max_length&&this.result.allowed_other||(this.result.max_length=void 0),""===this.result.min_selected&&(this.result.min_selected=void 0),""===this.result.max_selected&&(this.result.max_selected=void 0),this.$emit("update",this.result),void 0===this.result.default&&(this.result.default=[])}}};n("818f");Ui.render=Vi,Ui.__scopeId="data-v-2c899848";var Ii=Ui,Fi=Object(s["L"])("data-v-451f38cd");Object(s["u"])("data-v-451f38cd");var Ti=Object(s["h"])("br",null,null,-1),Di=Object(s["h"])("h2",null,"Opções avançadas",-1),Bi={class:"arrow right"},Gi={class:"arrow down"},Ri=Object(s["h"])("option",null,null,-1),$i=Object(s["g"])(),zi=Object(s["h"])("br",null,null,-1),Hi=Object(s["h"])("option",{value:"radio"}," Radio ",-1),Ai=Object(s["h"])("option",{value:"dropdown"}," Lista ",-1),Ni=Object(s["h"])("br",null,null,-1),Mi=Object(s["h"])("br",null,null,-1),Pi={class:"switch"},Li=Object(s["h"])("span",{class:"slider round allowed_other"},null,-1),Ei=Object(s["h"])("br",null,null,-1),Xi=Object(s["h"])("br",null,null,-1),Yi=Object(s["h"])("br",null,null,-1),Ki=Object(s["h"])("br",null,null,-1);Object(s["r"])();var Qi=Fi((function(e,t,n,i,o,a){return Object(s["q"])(),Object(s["d"])("div",{class:["flex row",!o.invalid||void 0!==e.answer&&""!=e.answer?"":o.invalid]},[o.valid?Object(s["e"])("",!0):(Object(s["q"])(),Object(s["d"])("input",{id:n.qid+"_validator",key:o.valid,value:"O tamanho máximo deve ser superior ao tamanho mínimo.",type:"text",oninvalid:"setCustomValidity('O tamanho máximo deve ser superior ao tamanho mínimo.')",pattern:o.valid?void 0:".a",class:"warning-field removable",onkeydown:"return false;",size:"O tamanho máximo deve ser superior ao tamanho mínimo.".length-6,onInvalid:t[1]||(t[1]=function(e){return o.invalid="invalid"})},null,40,["id","pattern","size"])),(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(o.result.options,(function(e,i){return Object(s["q"])(),Object(s["d"])("div",{key:i,class:"flex row la",style:{"margin-bottom":"5px"}},[Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_option_"+i,"onUpdate:modelValue":function(e){return o.result.options[i]=e},type:"text",style:{height:"32px"},onChange:t[2]||(t[2]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id","onUpdate:modelValue"]),[[s["G"],o.result.options[i]]]),Object(s["J"])(Object(s["h"])("i",{class:"remove round flex ca vca unselectable",style:{"margin-top":"-1px"},onClick:function(e){return o.result.options.splice(i,1)}},"✖",8,["onClick"]),[[s["H"],o.result.options.length>1]])])})),128)),Object(s["h"])("button",{type:"button",class:"add_field add_section hoverable",onClick:t[3]||(t[3]=function(e){return o.result.options.push("")})}," Adicionar opção "),Ti,Object(s["h"])("div",{id:"advanced_options_control",class:"flex row unselectable",onClick:t[4]||(t[4]=function(e){return o.advancedOptionsShown=!o.advancedOptionsShown})},[Di,Object(s["J"])(Object(s["h"])("i",Bi,null,512),[[s["H"],!o.advancedOptionsShown]]),Object(s["J"])(Object(s["h"])("i",Gi,null,512),[[s["H"],o.advancedOptionsShown]])]),Object(s["J"])(Object(s["h"])("div",null,[Object(s["h"])("label",{class:"option-label",for:n.qid+"_default"},"Valor por defeito: ",8,["for"]),Object(s["J"])(Object(s["h"])("select",{id:n.qid+"_default","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.result.default=e}),onChange:t[6]||(t[6]=function(){return a.update&&a.update.apply(a,arguments)})},[Ri,$i,(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(o.result.options,(function(e,t){return Object(s["q"])(),Object(s["d"])("option",{key:t,value:t},Object(s["B"])(e),9,["value"])})),128))],40,["id"]),[[s["F"],o.result.default]]),zi,Object(s["h"])("label",{class:"option-label",for:n.qid+"_style"},"Estilo: ",8,["for"]),Object(s["J"])(Object(s["h"])("select",{id:n.qid+"_style","onUpdate:modelValue":t[7]||(t[7]=function(e){return o.result.style=e}),required:"",onChange:t[8]||(t[8]=function(){return a.update&&a.update.apply(a,arguments)})},[Hi,Ai],40,["id"]),[[s["F"],o.result.style]]),Ni,Mi,Object(s["h"])("label",Pi,[Object(s["J"])(Object(s["h"])("input",{"onUpdate:modelValue":t[9]||(t[9]=function(e){return o.result.allowed_other=e}),type:"checkbox",onChange:t[10]||(t[10]=function(){return a.update&&a.update.apply(a,arguments)})},null,544),[[s["D"],o.result.allowed_other]]),Li]),Ei,Object(s["J"])(Object(s["h"])("div",null,[Object(s["h"])("label",{class:"option-label",for:n.qid+"_placeholder"},"Texto de sugestão (outros): ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_placeholder","onUpdate:modelValue":t[11]||(t[11]=function(e){return o.result.placeholder=e}),type:"text",onChange:t[12]||(t[12]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],o.result.placeholder]]),Xi,Object(s["h"])("label",{class:"option-label",for:n.qid+"_min_length"},"Tamanho mínimo (outros): ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_min_length","onUpdate:modelValue":t[13]||(t[13]=function(e){return o.result.min_length=e}),type:"number",step:"1",min:"1",onChange:t[14]||(t[14]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],o.result.min_length,void 0,{number:!0}]]),Yi,Object(s["h"])("label",{class:"option-label",for:n.qid+"_max_length"},"Tamanho máximo (outros): ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_max_length","onUpdate:modelValue":t[15]||(t[15]=function(e){return o.result.max_length=e}),type:"number",step:"1",min:"1",onChange:t[16]||(t[16]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],o.result.max_length,void 0,{number:!0}]]),Ki,Object(s["h"])("label",{class:"option-label",for:n.qid+"_decimal_places"},"Pergunta de outros: ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_other_string","onUpdate:modelValue":t[17]||(t[17]=function(e){return o.result.other_string=e}),type:"text",onChange:t[18]||(t[18]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],o.result.other_string]])],512),[[s["H"],o.result.allowed_other]])],512),[[s["H"],o.advancedOptionsShown]])],2)})),Wi={name:"MultipleChoiceField",props:["qid","properties"],emits:["update"],data:function(){return{result:this.properties,valid:!0,invalid:"",advancedOptionsShown:!1}},created:function(){void 0===this.result.options&&(this.result.options=[""]),void 0===this.result.style&&(this.result.style="radio",this.update())},methods:{update:function(){this.valid=!this.result.min_length||!this.result.max_length||this.result.min_length<=this.result.max_length,""===this.result.default&&(this.result.default=void 0),""!==this.result.placeholder&&this.result.allowed_other||(this.result.placeholder=void 0),""!==this.result.min_length&&this.result.allowed_other||(this.result.min_length=void 0),""!==this.result.max_length&&this.result.allowed_other||(this.result.max_length=void 0),this.$emit("update",this.result)}}};n("7402");Wi.render=Qi,Wi.__scopeId="data-v-451f38cd";var Zi=Wi,eo=Object(s["h"])("h2",null,"Opções avançadas",-1),to={class:"arrow right"},no={class:"arrow down"},io=Object(s["h"])("br",null,null,-1),oo=Object(s["h"])("br",null,null,-1),so=Object(s["h"])("br",null,null,-1),ao=Object(s["h"])("br",null,null,-1);function ro(e,t,n,i,o,a){var r=this;return Object(s["q"])(),Object(s["d"])("div",{class:["flex row",!o.invalid||void 0!==e.answer&&""!=e.answer?"":o.invalid]},[o.valid?Object(s["e"])("",!0):(Object(s["q"])(),Object(s["d"])("input",{id:n.qid+"_validator",key:o.valid,value:"O tamanho máximo deve ser superior ao tamanho mínimo.",type:"text",oninvalid:"setCustomValidity('O tamanho máximo deve ser superior ao tamanho mínimo.')",pattern:o.valid?void 0:".a",class:"warning-field removable",onkeydown:"return false;",size:"O tamanho máximo deve ser superior ao tamanho mínimo.".length-6,onInvalid:t[1]||(t[1]=function(e){return o.invalid="invalid"})},null,40,["id","pattern","size"])),Object(s["h"])("div",{id:"advanced_options_control",class:"flex row unselectable",onClick:t[2]||(t[2]=function(e){return o.advancedOptionsShown=!o.advancedOptionsShown})},[eo,Object(s["J"])(Object(s["h"])("i",to,null,512),[[s["H"],!o.advancedOptionsShown]]),Object(s["J"])(Object(s["h"])("i",no,null,512),[[s["H"],o.advancedOptionsShown]])]),Object(s["J"])(Object(s["h"])("div",null,[Object(s["h"])("label",{class:"option-label",for:n.qid+"_default"},"Valor por defeito: ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_default","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.result.default=e}),type:"text",onChange:t[4]||(t[4]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],this.result.default]]),io,Object(s["h"])("label",{class:"option-label",for:n.qid+"_placeholder"},"Texto de sugestão: ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_placeholder","onUpdate:modelValue":t[5]||(t[5]=function(e){return r.result.placeholder=e}),type:"text",onChange:t[6]||(t[6]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],this.result.placeholder]]),oo,Object(s["h"])("label",{class:"option-label",for:n.qid+"_min_length"},"Tamanho mínimo: ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_min_length","onUpdate:modelValue":t[7]||(t[7]=function(e){return r.result.min_length=e}),type:"number",step:"1",min:"1",onChange:t[8]||(t[8]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],this.result.min_length,void 0,{number:!0}]]),so,Object(s["h"])("label",{class:"option-label",for:n.qid+"_max_length"},"Tamanho máximo: ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_max_length","onUpdate:modelValue":t[9]||(t[9]=function(e){return r.result.max_length=e}),type:"number",step:"1",min:"1",onChange:t[10]||(t[10]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],this.result.max_length,void 0,{number:!0}]]),ao,Object(s["h"])("label",{class:"option-label",for:n.qid+"_default_lines"},"Linhas de escrita: ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_default_lines","onUpdate:modelValue":t[11]||(t[11]=function(e){return r.result.default_lines=e}),type:"number",step:"1",min:"1",onChange:t[12]||(t[12]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],this.result.default_lines,void 0,{number:!0}]])],512),[[s["H"],o.advancedOptionsShown]])],2)}var lo={name:"LongTextField",props:["qid","properties"],emits:["update"],data:function(){return{result:this.properties,valid:!0,invalid:"",advancedOptionsShown:!1}},methods:{update:function(){this.valid=!this.result.min_length||!this.result.max_length||this.result.min_length<=this.result.max_length,""===this.result.default&&(this.result.default=void 0),""===this.result.placeholder&&(this.result.placeholder=void 0),""===this.result.min_length&&(this.result.min_length=void 0),""===this.result.max_length&&(this.result.max_length=void 0),""===this.result.default_lines&&(this.result.default_lines=void 0),this.$emit("update",this.result)}}};n("9e53");lo.render=ro;var co=lo,uo=Object(s["h"])("h2",null,"Opções avançadas",-1),ho={class:"arrow right"},po={class:"arrow down"},bo=Object(s["h"])("br",null,null,-1),fo=Object(s["h"])("br",null,null,-1),mo=Object(s["h"])("br",null,null,-1);function Oo(e,t,n,i,o,a){var r=this;return Object(s["q"])(),Object(s["d"])("div",{class:["flex row",!o.invalid||void 0!==e.answer&&""!=e.answer?"":o.invalid]},[o.valid?Object(s["e"])("",!0):(Object(s["q"])(),Object(s["d"])("input",{id:n.qid+"_validator",key:o.valid,value:"O tamanho máximo deve ser superior ao tamanho mínimo.",type:"text",oninvalid:"setCustomValidity('O tamanho máximo deve ser superior ao tamanho mínimo.')",pattern:o.valid?void 0:".a",class:"warning-field removable",onkeydown:"return false;",size:"O tamanho máximo deve ser superior ao tamanho mínimo.".length-6,onInvalid:t[1]||(t[1]=function(e){return o.invalid="invalid"})},null,40,["id","pattern","size"])),Object(s["h"])("div",{id:"advanced_options_control",class:"flex row unselectable",onClick:t[2]||(t[2]=function(e){return o.advancedOptionsShown=!o.advancedOptionsShown})},[uo,Object(s["J"])(Object(s["h"])("i",ho,null,512),[[s["H"],!o.advancedOptionsShown]]),Object(s["J"])(Object(s["h"])("i",po,null,512),[[s["H"],o.advancedOptionsShown]])]),Object(s["J"])(Object(s["h"])("div",null,[Object(s["h"])("label",{class:"option-label",for:n.qid+"_default"},"Valor por defeito: ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_default","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.result.default=e}),type:"text",onChange:t[4]||(t[4]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],this.result.default]]),bo,Object(s["h"])("label",{class:"option-label",for:n.qid+"_placeholder"},"Texto de sugestão: ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_placeholder","onUpdate:modelValue":t[5]||(t[5]=function(e){return r.result.placeholder=e}),type:"text",onChange:t[6]||(t[6]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],this.result.placeholder]]),fo,Object(s["h"])("label",{class:"option-label",for:n.qid+"_min_length"},"Tamanho mínimo: ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_min_length","onUpdate:modelValue":t[7]||(t[7]=function(e){return r.result.min_length=e}),type:"number",step:"1",min:"1",onChange:t[8]||(t[8]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],this.result.min_length,void 0,{number:!0}]]),mo,Object(s["h"])("label",{class:"option-label",for:n.qid+"_max_length"},"Tamanho máximo: ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_max_length","onUpdate:modelValue":t[9]||(t[9]=function(e){return r.result.max_length=e}),type:"number",step:"1",min:"1",onChange:t[10]||(t[10]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],this.result.max_length,void 0,{number:!0}]])],512),[[s["H"],o.advancedOptionsShown]])],2)}var jo={name:"ShortTextField",props:["qid","properties"],emits:["update"],data:function(){return{result:this.properties,valid:!0,invalid:"",advancedOptionsShown:!1}},methods:{update:function(){this.valid=!this.result.min_length||!this.result.max_length||this.result.min_length<=this.result.max_length,""===this.result.default&&(this.result.default=void 0),""===this.result.placeholder&&(this.result.placeholder=void 0),""===this.result.min_length&&(this.result.min_length=void 0),""===this.result.max_length&&(this.result.max_length=void 0),this.$emit("update",this.result)}}};n("5886");jo.render=Oo;var vo=jo,_o=Object(s["h"])("h2",null,"Opções avançadas",-1),qo={class:"arrow right"},go={class:"arrow down"},wo=Object(s["h"])("br",null,null,-1),yo=Object(s["h"])("br",null,null,-1);function xo(e,t,n,i,o,a){var r=this;return Object(s["q"])(),Object(s["d"])("div",{class:["flex row",!o.invalid||void 0!==e.answer&&""!=e.answer?"":o.invalid]},[o.valid?Object(s["e"])("",!0):(Object(s["q"])(),Object(s["d"])("input",{id:n.qid+"_validator",key:o.valid,value:"A data final deve ser após a data inicial.",type:"text",oninvalid:"setCustomValidity('A data final deve ser após a data inicial.')",pattern:o.valid?void 0:".a",class:"warning-field removable",onkeydown:"return false;",size:"A data final deve ser após a data inicial.".length-6,onInvalid:t[1]||(t[1]=function(e){return o.invalid="invalid"})},null,40,["id","pattern","size"])),Object(s["h"])("div",{id:"advanced_options_control",class:"flex row unselectable",onClick:t[2]||(t[2]=function(e){return o.advancedOptionsShown=!o.advancedOptionsShown})},[_o,Object(s["J"])(Object(s["h"])("i",qo,null,512),[[s["H"],!o.advancedOptionsShown]]),Object(s["J"])(Object(s["h"])("i",go,null,512),[[s["H"],o.advancedOptionsShown]])]),Object(s["J"])(Object(s["h"])("div",null,[Object(s["h"])("label",{class:"option-label",for:n.qid+"_default"},"Valor por defeito: ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_default","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.result.default=e}),type:"date",onChange:t[4]||(t[4]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],this.result.default]]),wo,Object(s["h"])("label",{class:"option-label",for:n.qid+"_begin"},"Data mínima: ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_begin","onUpdate:modelValue":t[5]||(t[5]=function(e){return r.result.begin=e}),type:"date",onChange:t[6]||(t[6]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],this.result.begin]]),yo,Object(s["h"])("label",{class:"option-label",for:n.qid+"_end"},"Data máxima: ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_end","onUpdate:modelValue":t[7]||(t[7]=function(e){return r.result.end=e}),type:"date",onChange:t[8]||(t[8]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],this.result.end]])],512),[[s["H"],o.advancedOptionsShown]])],2)}var ko={name:"DateField",props:["qid","properties"],emits:["update"],data:function(){return{result:this.properties,valid:!0,invalid:"",advancedOptionsShown:!1}},methods:{update:function(){this.valid=!this.result.begin||!this.result.end||this.result.begin<=this.result.end,""===this.result.default&&(this.result.default=void 0),""===this.result.begin&&(this.result.begin=void 0),""===this.result.end&&(this.result.end=void 0),this.$emit("update",this.result)}}};n("1b6b");ko.render=xo;var So=ko,Co=Object(s["h"])("h2",null,"Opções avançadas",-1),Jo={class:"arrow right"},Vo={class:"arrow down"},Uo=Object(s["h"])("br",null,null,-1),Io=Object(s["h"])("br",null,null,-1);function Fo(e,t,n,i,o,a){var r=this;return Object(s["q"])(),Object(s["d"])("div",{class:["flex row",!o.invalid||void 0!==e.answer&&""!=e.answer?"":o.invalid]},[o.valid?Object(s["e"])("",!0):(Object(s["q"])(),Object(s["d"])("input",{id:n.qid+"_validator",key:o.valid,value:"A data e hora final deve ser após a data inicial.",type:"text",oninvalid:"setCustomValidity('A data e hora final deve ser após a data inicial.')",pattern:o.valid?void 0:".a",class:"warning-field removable",onkeydown:"return false;",size:"A data e hora final deve ser após a data inicial.".length-6,onInvalid:t[1]||(t[1]=function(e){return o.invalid="invalid"})},null,40,["id","pattern","size"])),Object(s["h"])("div",{id:"advanced_options_control",class:"flex row unselectable",onClick:t[2]||(t[2]=function(e){return o.advancedOptionsShown=!o.advancedOptionsShown})},[Co,Object(s["J"])(Object(s["h"])("i",Jo,null,512),[[s["H"],!o.advancedOptionsShown]]),Object(s["J"])(Object(s["h"])("i",Vo,null,512),[[s["H"],o.advancedOptionsShown]])]),Object(s["J"])(Object(s["h"])("div",null,[Object(s["h"])("label",{class:"option-label",for:n.qid+"_default"},"Valor por defeito: ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_default","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.result.default=e}),type:"datetime-local",onChange:t[4]||(t[4]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],this.result.default]]),Uo,Object(s["h"])("label",{class:"option-label",for:n.qid+"_begin"},"Data mínima: ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_begin","onUpdate:modelValue":t[5]||(t[5]=function(e){return r.result.begin=e}),type:"datetime-local",onChange:t[6]||(t[6]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],this.result.begin]]),Io,Object(s["h"])("label",{class:"option-label",for:n.qid+"_end"},"Data máxima: ",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid+"_end","onUpdate:modelValue":t[7]||(t[7]=function(e){return r.result.end=e}),type:"datetime-local",onChange:t[8]||(t[8]=function(){return a.update&&a.update.apply(a,arguments)})},null,40,["id"]),[[s["G"],this.result.end]])],512),[[s["H"],o.advancedOptionsShown]])],2)}var To={name:"DateTimeField",props:["qid","properties"],emits:["update"],data:function(){return{result:this.properties,valid:!0,invalid:"",advancedOptionsShown:!1}},methods:{update:function(){this.valid=!this.result.begin||!this.result.end||this.result.begin<=this.result.end,""===this.result.default&&(this.result.default=void 0),""===this.result.begin&&(this.result.begin=void 0),""===this.result.end&&(this.result.end=void 0),this.$emit("update",this.result)}}};n("9efe");To.render=Fo;var Do=To;function Bo(e,t,n,i,o,a){return Object(s["q"])(),Object(s["d"])("div",{class:["flex row",!o.invalid||void 0!==o.answer&&""!=o.answer?"":o.invalid]},[Object(s["J"])(Object(s["h"])("textarea",{id:n.qid,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.answer=e}),type:"text",name:n.qid,required:"",placeholder:"Descrição",onChange:t[2]||(t[2]=function(){return a.update&&a.update.apply(a,arguments)}),onInvalid:t[3]||(t[3]=function(e){return o.invalid="invalid"})},null,40,["id","name"]),[[s["G"],o.answer]])],2)}var Go={name:"DescriptionField",props:["question","qid","value","properties"],emits:["update"],data:function(){return{answer:this.properties.content,invalid:""}},methods:{update:function(){this.$emit("update",{field_type:"text_exposition",content:this.answer})}}};Go.render=Bo;var Ro=Go;function $o(e,t,n,i,o,a){return Object(s["q"])(),Object(s["d"])("div",{key:o.invalid,class:["flex row",!o.invalid||o.answer&&11==o.answer.length?"":o.invalid]},[Object(s["h"])("label",{for:n.qid},'Insira o ID do vídeo (por exemplo "dQw4w9WgXcQ")',8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.answer=e}),type:"text",name:n.qid,minlength:"11",maxlength:"11",required:"",onChange:t[2]||(t[2]=function(){return a.update&&a.update.apply(a,arguments)}),onInvalid:t[3]||(t[3]=function(e){return o.invalid="invalid"})},null,40,["id","name"]),[[s["G"],o.answer]])],2)}var zo={name:"YouTubeField",props:["question","qid","value","properties"],emits:["update"],data:function(){return{answer:this.properties.content,invalid:""}},methods:{update:function(){this.answer&&11==this.answer.length&&this.$emit("update",{field_type:"youtube_exposition",content:this.answer})}}};zo.render=$o;var Ho=zo;function Ao(e,t,n,i,o,a){return Object(s["q"])(),Object(s["d"])("div",{class:["flex row",!o.invalid||void 0!==o.answer&&""!=o.answer?"":o.invalid]},[Object(s["h"])("label",{for:n.qid},"Insira o link da imagem",8,["for"]),Object(s["J"])(Object(s["h"])("input",{id:n.qid,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.answer=e}),type:"text",name:n.qid,required:"",onChange:t[2]||(t[2]=function(){return a.update&&a.update.apply(a,arguments)}),onInvalid:t[3]||(t[3]=function(e){return o.invalid="invalid"})},null,40,["id","name"]),[[s["G"],o.answer]])],2)}var No={name:"YouTubeField",props:["question","qid","value","properties"],emits:["update"],data:function(){return{answer:this.properties.content,invalid:""}},methods:{update:function(){this.$emit("update",{field_type:"image_exposition",content:this.answer})}}};No.render=Ao;var Mo=No,Po={name:"CreateResponse",components:o,data:function(){return{response:void 0,form_types:[],title:"Título do Formulário",type:void 0,form:{},submit_message:"Formulário submetido com sucesso!",redirect:"/pre_events/consult_events/",redirect_delay:3,advancedOptionsShown:!1,new_field:"none",selecting_field:[],added_sections:[],hide_section_numbers:!1,hide_question_numbers:!1}},created:function(){var e=this;xe.get("formType/").then((function(t){return e.form_types=t.data}))},methods:{addSection:function(){var e={section_name:"Título de Secção",questions:[]};this.added_sections.push(e)},selected_field:function(e,t){this.selecting_field[t]=!this.selecting_field[t],e.questions.push({question:"Título",properties:{field_type:this.new_field}}),this.new_field="none"},submit:function(){var e=this;if(confirm("Confirma que a informação introduzida está correta?")){for(var t=0;t<this.added_sections.length;)0==this.added_sections[t].questions.length?this.added_sections.splice(t,1):t++;var n={method:"post",url:"/form/",headers:{"X-CSRFToken":this.getCookie("csrftoken")},data:{title:this.title,type:this.type,form:{hide_section_numbers:this.hide_section_numbers,hide_question_numbers:this.hide_question_numbers,sections:this.added_sections},submit_message:this.submit_message,redirect:this.redirect,redirect_delay:this.redirect_delay},transformResponse:[function(){var t=Object(D["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{e.response=JSON.parse(n)}catch(i){e.response=n}if(void 0===e.response.id){t.next=5;break}return t.next=4,new Promise((function(e){return setTimeout(e,3e3)}));case 4:e.$router.push("/editForm/".concat(e.response.id).concat(""));case 5:return t.abrupt("return",e.response);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()]};xe(n)}},getCookie:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var o=n[i].trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t},getFieldTypeTitle:function(e){return"youtube_exposition"==e?"Vídeo (YouTube)":"text_exposition"==e?"Descrição de texto":"image_exposition"==e?"Imagem":"date"==e?"Data":"datetime"==e?"Data e hora":"longtext"==e?"Texto Longo":"shorttext"==e?"Texto Curto":"multiplechoice"==e?"Escolha Múltipla":"selectboxes"==e?"Caixas de Seleção":"number"==e?"Número":""},hasPrev:function(e,t){return t>0||e>0},hasNext:function(e,t){return t+1<this.added_sections[e].questions.length||e+1<this.added_sections.length},moveUp:function(e,t){var n;this.hasPrev(e,t)&&(t>0?(n=this.added_sections[e].questions[t-1],this.added_sections[e].questions[t-1]=this.added_sections[e].questions[t],this.added_sections[e].questions[t]=n):(this.added_sections[e-1].questions.push(this.added_sections[e].questions[t]),this.added_sections[e].questions.splice(t,1)))},moveDown:function(e,t){var n;this.hasNext(e,t)&&(t+1<this.added_sections[e].questions.length?(n=this.added_sections[e].questions[t+1],this.added_sections[e].questions[t+1]=this.added_sections[e].questions[t],this.added_sections[e].questions[t]=n):(this.added_sections[e+1].questions.unshift(this.added_sections[e].questions[t]),this.added_sections[e].questions.splice(t,1)))},hasPrevSection:function(e){return e>0},hasNextSection:function(e){return e+1<this.added_sections.length},moveSectionUp:function(e){if(this.hasPrevSection(e)){var t=this.added_sections[e-1];this.added_sections[e-1]=this.added_sections[e],this.added_sections[e]=t}},moveSectionDown:function(e){if(this.hasNextSection(e)){var t=this.added_sections[e+1];this.added_sections[e+1]=this.added_sections[e],this.added_sections[e]=t}}}};n("cd16");Po.render=Wn;var Lo=Po,Eo={key:0},Xo=Object(s["h"])("h1",null,"Criação de novo formulário",-1),Yo=Object(s["h"])("hr",null,null,-1),Ko=Object(s["h"])("h3",null,[Object(s["h"])("label",{for:"type"},"Tipo de formulário")],-1),Qo=Object(s["h"])("option",{disabled:""},null,-1),Wo=Object(s["h"])("br",null,null,-1),Zo=Object(s["h"])("h2",null,"Opções avançadas",-1),es={class:"arrow right"},ts={class:"arrow down"},ns={id:"advanced_options"},is=Object(s["h"])("br",null,null,-1),os=Object(s["h"])("h3",null,[Object(s["h"])("label",{for:"submit_message"},"Mensagem de sucesso")],-1),ss=Object(s["h"])("br",null,null,-1),as=Object(s["h"])("br",null,null,-1),rs=Object(s["h"])("h3",null,[Object(s["h"])("label",{class:"label",for:"redirect"},"Página de redireção após sucesso")],-1),ls=Object(s["h"])("br",null,null,-1),cs=Object(s["h"])("br",null,null,-1),us=Object(s["h"])("h3",null,[Object(s["h"])("label",{for:"redirect_delay"},"Atraso de redireção (segundos)")],-1),ds={key:0},hs={key:1},ps={key:2,class:"switch"},bs=Object(s["h"])("span",{class:"slider round hide_sections"},null,-1),fs=Object(s["h"])("br",null,null,-1),ms=Object(s["h"])("br",null,null,-1),Os={key:3,class:"switch"},js=Object(s["h"])("span",{class:"slider round hide_questions"},null,-1),vs=Object(s["h"])("hr",null,null,-1),_s={style:{"margin-left":"5px","margin-right":"10px"}},qs=Object(s["h"])("br",null,null,-1),gs={class:"flex column"},ws=Object(s["h"])("br",null,null,-1),ys={style:{"margin-left":"5px","margin-right":"10px"}},xs=Object(s["h"])("br",null,null,-1),ks=Object(s["h"])("br",null,null,-1),Ss=Object(s["h"])("br",null,null,-1),Cs={key:0,class:"switch"},Js=Object(s["h"])("span",{class:"slider round"},null,-1),Vs=Object(s["h"])("br",null,null,-1),Us={class:"new_field flex row ca"},Is={class:"flex row la"},Fs=Object(s["f"])('<option disabled value="none"> Campo de Texto </option><option value="shorttext"> Texto Curto </option><option value="longtext"> Texto Longo </option><option disabled> Email </option><option disabled> Morada </option>',5),Ts=Object(s["h"])("option",{disabled:"",value:"none"}," Campo Numérico ",-1),Ds=Object(s["h"])("option",{value:"number"}," Número ",-1),Bs=Object(s["h"])("option",{disabled:""}," NIF ",-1),Gs=Object(s["h"])("option",{disabled:""}," Número telefónico ",-1),Rs=Object(s["h"])("option",{disabled:"",value:"none"}," Campo de Data ",-1),$s=Object(s["h"])("option",{value:"date"}," Data ",-1),zs=Object(s["h"])("option",{value:"datetime"}," Data e Hora ",-1),Hs=Object(s["h"])("option",{disabled:"",value:"none"}," Campo de Seleção ",-1),As=Object(s["h"])("option",{value:"multiplechoice"}," Escolha Múltipla ",-1),Ns=Object(s["h"])("option",{value:"selectboxes"}," Caixas de Seleção ",-1),Ms=Object(s["h"])("option",{disabled:"",value:"none"}," Campo de Exposição ",-1),Ps=Object(s["h"])("option",{value:"text_exposition"}," Descrição ",-1),Ls=Object(s["h"])("option",{value:"image_exposition"}," Imagem ",-1),Es=Object(s["h"])("option",{value:"youtube_exposition"}," Vídeo (YouTube) ",-1),Xs=Object(s["h"])("div",null,null,-1),Ys={class:"flex row ca"},Ks={key:1},Qs=Object(s["g"])("s"),Ws=Object(s["g"])(", as perguntas não podem ser alteradas. Pode no entando alterar as opções acima. "),Zs=Object(s["h"])("hr",null,null,-1),ea={key:2,class:"flex row ca",style:{height:"70px"}},ta=Object(s["h"])("a",{class:"add_field add_section hoverable cancel",href:"/forms"}," Cancelar ",-1),na=Object(s["h"])("button",{type:"submit",class:"add_field add_section hoverable submit"}," Submeter ",-1),ia={key:0,class:"flex row ca",style:{height:"70px"}},oa={key:1},sa=Object(s["g"])(" Houve um erro interno na submissão do formulário."),aa=Object(s["h"])("br",null,null,-1);function ra(e,t,n,i,o,a){return void 0!==o.added_sections?(Object(s["q"])(),Object(s["d"])("div",Eo,[Xo,Object(s["h"])("form",{id:"form-area",class:"flex column",onSubmit:t[16]||(t[16]=Object(s["K"])((function(){return a.submit&&a.submit.apply(a,arguments)}),["prevent"]))},[Object(s["h"])("div",null,[Object(s["J"])(Object(s["h"])("input",{id:"title","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.title=e}),class:"seamless_input",type:"text"},null,512),[[s["G"],o.title]]),Yo,Ko,Object(s["J"])(Object(s["h"])("select",{id:"type","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.type=e}),required:""},[Qo,(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(o.form_types,(function(e){return Object(s["q"])(),Object(s["d"])("option",{key:e.id,value:e.id},Object(s["B"])(e.name),9,["value"])})),128))],512),[[s["F"],o.type]])]),Wo,Object(s["h"])("div",{id:"advanced_options_control",class:"flex row unselectable",onClick:t[3]||(t[3]=function(e){return o.advancedOptionsShown=!o.advancedOptionsShown})},[Zo,Object(s["J"])(Object(s["h"])("i",es,null,512),[[s["H"],!o.advancedOptionsShown]]),Object(s["J"])(Object(s["h"])("i",ts,null,512),[[s["H"],o.advancedOptionsShown]])]),Object(s["J"])(Object(s["h"])("div",ns,[is,os,Object(s["J"])(Object(s["h"])("textarea",{id:"submit_message","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.submit_message=e})},null,512),[[s["G"],o.submit_message]]),ss,as,rs,Object(s["J"])(Object(s["h"])("input",{id:"redirect","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.redirect=e}),type:"text"},null,512),[[s["G"],o.redirect]]),ls,cs,us,Object(s["J"])(Object(s["h"])("input",{id:"redirect_delay","onUpdate:modelValue":t[6]||(t[6]=function(e){return o.redirect_delay=e}),type:"number",step:"0.25"},null,512),[[s["G"],o.redirect_delay]]),o.editable?(Object(s["q"])(),Object(s["d"])("br",ds)):Object(s["e"])("",!0),o.editable?(Object(s["q"])(),Object(s["d"])("br",hs)):Object(s["e"])("",!0),o.editable?(Object(s["q"])(),Object(s["d"])("label",ps,[Object(s["J"])(Object(s["h"])("input",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return o.hide_section_numbers=e}),type:"checkbox"},null,512),[[s["D"],o.hide_section_numbers]]),bs])):Object(s["e"])("",!0),fs,ms,o.editable?(Object(s["q"])(),Object(s["d"])("label",Os,[Object(s["J"])(Object(s["h"])("input",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return o.hide_question_numbers=e}),type:"checkbox"},null,512),[[s["D"],o.hide_question_numbers]]),js])):Object(s["e"])("",!0)],512),[[s["H"],o.advancedOptionsShown]]),vs,o.editable?(Object(s["q"])(),Object(s["d"])(s["a"],{key:0},[(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(o.added_sections,(function(e,n){return Object(s["q"])(),Object(s["d"])("div",{key:n,class:"flex row width-100 section"},[Object(s["h"])("div",_s,[Object(s["h"])("i",{class:"remove round flex ca vca unselectable",onClick:function(e){return o.added_sections.splice(n,1)}},"✖",8,["onClick"]),Object(s["J"])(Object(s["h"])("i",{class:"arrow up",onClick:function(e){return a.moveSectionUp(n)}},null,8,["onClick"]),[[s["H"],a.hasPrevSection(n)]]),qs,Object(s["J"])(Object(s["h"])("i",{class:"arrow down",style:{bottom:"7px"},onClick:function(e){return a.moveSectionDown(n)}},null,8,["onClick"]),[[s["H"],a.hasNextSection(n)]])]),Object(s["h"])("div",gs,[Object(s["J"])(Object(s["h"])("input",{"onUpdate:modelValue":function(t){return e.section_name=t},class:"seamless_input",type:"text"},null,8,["onUpdate:modelValue"]),[[s["G"],e.section_name]]),ws,(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["x"])(e.questions,(function(t,i){return Object(s["q"])(),Object(s["d"])("div",{key:i,class:"flex row la width-100 question"},[Object(s["h"])("div",ys,[Object(s["h"])("i",{class:"remove round flex ca vca unselectable",onClick:function(t){return e.questions.splice(i,1)}},"✖",8,["onClick"]),Object(s["J"])(Object(s["h"])("i",{class:"arrow up",onClick:function(e){return a.moveUp(n,i)}},null,8,["onClick"]),[[s["H"],a.hasPrev(n,i)]]),xs,Object(s["J"])(Object(s["h"])("i",{class:"arrow down",style:{bottom:"7px"},onClick:function(e){return a.moveDown(n,i)}},null,8,["onClick"]),[[s["H"],a.hasNext(n,i)]])]),Object(s["h"])("div",null,[Object(s["h"])("div",null,[Object(s["h"])("h3",null,Object(s["B"])(a.getFieldTypeTitle(t.properties.field_type)),1),ks,Object(s["J"])(Object(s["h"])("input",{id:"section_"+n+"question_"+i,"onUpdate:modelValue":function(e){return t.question=e},type:"text",class:"seamless_input"},null,8,["id","onUpdate:modelValue"]),[[s["G"],t.question]])]),Ss,t.properties.field_type.includes("_exposition")?Object(s["e"])("",!0):(Object(s["q"])(),Object(s["d"])("label",Cs,[Object(s["J"])(Object(s["h"])("input",{"onUpdate:modelValue":function(e){return t.required=e},type:"checkbox"},null,8,["onUpdate:modelValue"]),[[s["D"],t.required]]),Js,Vs])),(Object(s["q"])(),Object(s["d"])(Object(s["z"])(t.properties.field_type),{key:t.properties,class:"flex column ca vla",question:t,qid:n+"_"+i,properties:t.properties,onUpdate:function(e){return t.properties=e}},null,8,["question","qid","properties","onUpdate"]))])])})),128)),Object(s["h"])("div",Us,[Object(s["J"])(Object(s["h"])("div",Is,[Object(s["J"])(Object(s["h"])("select",{"onUpdate:modelValue":t[9]||(t[9]=function(e){return o.new_field=e}),class:"flex row ca add_field",onChange:function(t){return a.selected_field(e,n)}},[Fs],40,["onChange"]),[[s["F"],o.new_field]]),Object(s["J"])(Object(s["h"])("select",{"onUpdate:modelValue":t[10]||(t[10]=function(e){return o.new_field=e}),class:"flex row ca add_field",onChange:function(t){return a.selected_field(e,n)}},[Ts,Ds,Bs,Gs],40,["onChange"]),[[s["F"],o.new_field]]),Object(s["J"])(Object(s["h"])("select",{"onUpdate:modelValue":t[11]||(t[11]=function(e){return o.new_field=e}),class:"flex row ca add_field",onChange:function(t){return a.selected_field(e,n)}},[Rs,$s,zs],40,["onChange"]),[[s["F"],o.new_field]]),Object(s["J"])(Object(s["h"])("select",{"onUpdate:modelValue":t[12]||(t[12]=function(e){return o.new_field=e}),class:"flex row ca add_field",onChange:function(t){return a.selected_field(e,n)}},[Hs,As,Ns],40,["onChange"]),[[s["F"],o.new_field]]),Object(s["J"])(Object(s["h"])("select",{"onUpdate:modelValue":t[13]||(t[13]=function(e){return o.new_field=e}),class:"flex row ca add_field",onChange:function(t){return a.selected_field(e,n)}},[Ms,Ps,Ls,Es],40,["onChange"]),[[s["F"],o.new_field]])],512),[[s["H"],o.selecting_field[n]]]),Object(s["J"])(Object(s["h"])("button",{type:"button",class:"add_field round_add hoverable unselectable",onClick:function(e){return o.selecting_field[n]=!o.selecting_field[n]}}," + ",8,["onClick"]),[[s["H"],!o.selecting_field[n]]])])])])})),128)),Xs,Object(s["h"])("div",Ys,[Object(s["h"])("button",{type:"button",class:"add_field add_section hoverable",onClick:t[14]||(t[14]=function(e){return a.addSection()})}," Adicionar secção ")])],64)):(Object(s["q"])(),Object(s["d"])("h3",Ks,[Object(s["g"])(" O formulário já tem "+Object(s["B"])(o.responses)+" resposta",1),1!=o.responses?(Object(s["q"])(),Object(s["d"])(s["a"],{key:0},[Qs],64)):Object(s["e"])("",!0),Ws])),Zs,void 0===o.response?(Object(s["q"])(),Object(s["d"])("div",ea,[ta,na])):(Object(s["q"])(),Object(s["d"])(s["a"],{key:3},[void 0!==o.response.id||!o.editable&&void 0!==o.response.title?(Object(s["q"])(),Object(s["d"])("h3",ia," Formulário atualizado com sucesso. Pode continuar a editar. ")):(Object(s["q"])(),Object(s["d"])("div",oa,[sa,aa,Object(s["J"])(Object(s["h"])("textarea",{"onUpdate:modelValue":t[15]||(t[15]=function(e){return o.response=e})},null,512),[[s["G"],o.response]])]))],64))],32)])):Object(s["e"])("",!0)}var la={name:"EditForm",components:o,data:function(){return{response:void 0,form_types:[],title:"Título do Formulário",type:void 0,form:{},submit_message:"Formulário submetido com sucesso!",redirect:"/forms/",redirect_delay:3,advancedOptionsShown:!1,new_field:"none",selecting_field:[],added_sections:void 0,hide_section_numbers:!1,hide_question_numbers:!1,editable:!1,responses:0}},created:function(){var e=this;xe.get("formType/").then((function(t){return e.form_types=t.data})),xe.get("form/".concat(this.$route.params.id)).then((function(t){var n=t.data;e.title=n.title,e.type=n.type,e.added_sections=n.form.sections,e.hide_section_numbers=n.form.hide_section_numbers,e.hide_question_numbers=n.form.hide_question_numbers,e.submit_message=n.submit_message,e.redirect=n.redirect,e.redirect_delay=n.redirect_delay,e.editable=0==n.responses,e.responses=n.responses}))},methods:{addSection:function(){var e={section_name:"Título de Secção",questions:[]};this.added_sections.push(e)},selected_field:function(e,t){this.selecting_field[t]=!this.selecting_field[t],e.questions.push({question:"Título",properties:{field_type:this.new_field}}),this.new_field="none"},submit:function(){var e=this;if(confirm("Confirma que a informação introduzida está correta?")){for(var t=0;t<this.added_sections.length;)0==this.added_sections[t].questions.length?this.added_sections.splice(t,1):t++;var n={method:"put",url:"/form/".concat(this.$route.params.id).concat("/"),headers:{"X-CSRFToken":this.getCookie("csrftoken")},data:{title:this.title,type:this.type,form:this.editable?{hide_section_numbers:this.hide_section_numbers,hide_question_numbers:this.hide_question_numbers,sections:this.added_sections}:void 0,submit_message:this.submit_message,redirect:this.redirect,redirect_delay:this.redirect_delay},transformResponse:[function(){var t=Object(D["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{e.response=JSON.parse(n)}catch(i){e.response=n}if(void 0===e.response.id&&(e.editable||void 0===e.response.title)){t.next=5;break}return t.next=4,new Promise((function(e){return setTimeout(e,5e3)}));case 4:e.response=void 0;case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()]};xe(n)}},getCookie:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var o=n[i].trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t},getFieldTypeTitle:function(e){return"youtube_exposition"==e?"Vídeo (YouTube)":"text_exposition"==e?"Descrição de texto":"image_exposition"==e?"Imagem":"date"==e?"Data":"datetime"==e?"Data e hora":"longtext"==e?"Texto Longo":"shorttext"==e?"Texto Curto":"multiplechoice"==e?"Escolha Múltipla":"selectboxes"==e?"Caixas de Seleção":"number"==e?"Número":""},hasPrev:function(e,t){return t>0||e>0},hasNext:function(e,t){return t+1<this.added_sections[e].questions.length||e+1<this.added_sections.length},moveUp:function(e,t){var n;this.hasPrev(e,t)&&(t>0?(n=this.added_sections[e].questions[t-1],this.added_sections[e].questions[t-1]=this.added_sections[e].questions[t],this.added_sections[e].questions[t]=n):(this.added_sections[e-1].questions.push(this.added_sections[e].questions[t]),this.added_sections[e].questions.splice(t,1)))},moveDown:function(e,t){var n;this.hasNext(e,t)&&(t+1<this.added_sections[e].questions.length?(n=this.added_sections[e].questions[t+1],this.added_sections[e].questions[t+1]=this.added_sections[e].questions[t],this.added_sections[e].questions[t]=n):(this.added_sections[e+1].questions.unshift(this.added_sections[e].questions[t]),this.added_sections[e].questions.splice(t,1)))},hasPrevSection:function(e){return e>0},hasNextSection:function(e){return e+1<this.added_sections.length},moveSectionUp:function(e){if(this.hasPrevSection(e)){var t=this.added_sections[e-1];this.added_sections[e-1]=this.added_sections[e],this.added_sections[e]=t}},moveSectionDown:function(e){if(this.hasNextSection(e)){var t=this.added_sections[e+1];this.added_sections[e+1]=this.added_sections[e],this.added_sections[e]=t}}}};n("6f1e");la.render=ra;var ca=la,ua={key:0,id:"responses"},da=Object(s["h"])("h1",null," Gestão de formulários ",-1),ha={style:{"background-color":"#365c98"}},pa=Object(s["h"])("tr",{class:"sections"},[Object(s["h"])("th",{style:{"background-color":"#3d6cb8"},rowspan:"3"}," Autor "),Object(s["h"])("th",{style:{"background-color":"#3d6cb8"},rowspan:"3"}," Nome do formulário "),Object(s["h"])("th",{style:{"background-color":"#3d6cb8"},rowspan:"3"}," Tipo de formulário "),Object(s["h"])("th",{style:{"background-color":"#3d6cb8"},rowspan:"3"}," Tipo de evento ")],-1);function ba(e,t,n,i,o,a){return o.api_data?(Object(s["q"])(),Object(s["d"])("div",ua,[da,Object(s["h"])("table",null,[Object(s["h"])("caption",ha,Object(s["B"])(o.api_data.title),1),Object(s["h"])("thead",null,[pa,Object(s["h"])("tr",null,[Object(s["h"])("th",null,[Object(s["J"])(Object(s["h"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.authorSearch=e}),class:"searchBar",type:"text"},null,512),[[s["G"],o.authorSearch]])]),Object(s["h"])("th",null,[Object(s["J"])(Object(s["h"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.formNameSearch=t}),class:"searchBar",type:"text"},null,512),[[s["G"],e.formNameSearch]])]),Object(s["h"])("th",null,[Object(s["J"])(Object(s["h"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.formTypeSearch=e}),class:"searchBar",type:"text"},null,512),[[s["G"],o.formTypeSearch]])]),Object(s["h"])("th",null,[Object(s["J"])(Object(s["h"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return o.eventTypeSearch=e}),class:"searchBar",type:"text"},null,512),[[s["G"],o.eventTypeSearch]])])])])])])):Object(s["e"])("",!0)}var fa={name:"FormsManagement",components:i,data:function(){return{api_data:void 0,form_responses:[],displayed_sections:[],event:void 0,user:void 0,statuses:{},authorSearch:"",eventSearch:"",formTypeSearch:"",eventTypeSearch:"",answerStatuses:[],interval:void 0}},created:function(){var e=this;xe.get("form/".concat(this.$route.params.id)).then((function(t){return e.initializeData(t)})).catch((function(e){return console.log(e.response)}));var t="formAnswer/?form=".concat(this.$route.params.id);void 0!==this.$route.query.event&&(t=t.concat("&event=").concat(this.$route.query.event),xe.get("event/".concat(this.$route.query.event)).then((function(t){return e.event=t.data.name})).catch((function(e){return console.log(e.response)}))),void 0!==this.$route.query.user&&(t=t.concat("&user=").concat(this.$route.query.user),xe.get("user/".concat(this.$route.query.user)).then((function(t){return e.user=t.data.username}))),xe.get(t).then((function(t){return e.initializeAnswers(t)})),xe.get("answerStatus/").then((function(t){e.statuses=t.data})),this.getStatuses()},methods:{getStatuses:function(){var e=this;xe.get("formAnswerStatus/").then((function(t){e.answerStatuses=t.data}))},changeStatus:function(e,t){var n=this,i={method:"put",url:"/formAnswerStatus/"+e+"/",headers:{"X-CSRFToken":this.getCookie("csrftoken")},data:{status:t},transformResponse:[function(e){return n.response=e,e}]};xe(i)},initializeData:function(e){this.api_data=e.data;for(var t=0;t<this.api_data.form.sections.length;){for(var n=0;n<this.api_data.form.sections[t].questions.length;)this.api_data.form.sections[t].questions[n].properties.field_type.includes("_exposition")?this.api_data.form.sections[t].questions.splice(n,1):n++;this.api_data.form.sections[t].questions.length>0?(this.displayed_sections[t]=!0,t++):this.api_data.form.sections.splice(t,1)}},initializeAnswers:function(e){this.form_responses=e.data;for(var t=0;t<this.form_responses.length;t++)for(var n=this.form_responses[t],i=0;i<n.content.sections.length;i++)for(var o=n.content.sections[i],s=0;s<o.length;s++){var a=o[s];if(void 0!==a.answer)if("selectboxes"==a.field_type)for(var r=0;r<a.answer.length;r++){var l=a.answer[r];l===parseInt(l,10)?a.answer[r]=this.api_data.form.sections[i].questions[s].properties.options[l]:a.answer='Outro: "'+a.answer+'"'}else"multiplechoice"==a.field_type?a.answer===parseInt(a.answer,10)?a.answer=this.api_data.form.sections[i].questions[s].properties.options[a.answer]:a.answer='Outro: "'+a.answer+'"':"date"==a.field_type?a.answer=new Date(a.answer).toLocaleDateString():"datetime"==a.field_type&&(a.answer=new Date(a.answer).toLocaleString())}},allFalse:function(){for(var e=0;e<this.displayed_sections.length;e++)if(1==this.displayed_sections[e])return!1;return!0},stringIn:function(e,t){return-1!=e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").indexOf(t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))},filteredResponses:function(){var e=this,t=this.form_responses;""!=this.authorSearch&&(t=t.filter((function(t){return e.stringIn(void 0===t.author?"Anónimo":t.author,e.authorSearch)}))),""!=this.eventSearch&&(t=t.filter((function(t){return!!t.eventName&&e.stringIn(t.eventName,e.eventSearch)}))),""!=this.statusSearch&&(t=t.filter((function(t){return e.stringIn(e.statuses[t.status-1].name,e.statusSearch)})));for(var n=0;n<this.api_data.form.sections.length;n++)if(this.displayed_sections[n])for(var i=this.api_data.form.sections[n],o=0;o<i.questions.length;o++){var s=i.questions[o];s.filter&&""!=s.filter&&(t=t.filter((function(t){return e.stringIn(String(t.content.sections[n][o].answer),s.filter)})))}return t},timeSince:function(e){"object"!==Object(St["a"])(e)&&(e=new Date(e));var t,n=Math.floor((new Date-e)/1e3),i=Math.floor(n/31536e3);return i>=1?t="ano":(i=Math.floor(n/2592e3),i>=1?t="mês":(i=Math.floor(n/86400),i>=1?t="dia":(i=Math.floor(n/3600),i>=1?t="hora":(i=Math.floor(n/60),i>=1?t="minuto":(i=n,t="segundo"))))),(i>1||0===i)&&("mês"==t?t="meses":t+="s"),i+" "+t},getCookie:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var o=n[i].trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t}}};n("e5f0");fa.render=ba;var ma=fa,Oa={key:0,id:"responses"},ja=Object(s["h"])("h1",null," Gestão de formulários disponiveis para responder ",-1),va={style:{"background-color":"#365c98"}},_a=Object(s["h"])("tr",{class:"sections"},[Object(s["h"])("th",{style:{"background-color":"#3d6cb8"},rowspan:"3"}," Autor "),Object(s["h"])("th",{style:{"background-color":"#3d6cb8"},rowspan:"3"}," Tipo de formulário "),Object(s["h"])("th",{style:{"background-color":"#3d6cb8"},rowspan:"3"}," Tipo de evento "),Object(s["h"])("th",{style:{"background-color":"#3d6cb8"},rowspan:"3"}," Formulário associado ")],-1);function qa(e,t,n,i,o,a){return o.api_data?(Object(s["q"])(),Object(s["d"])("div",Oa,[ja,Object(s["h"])("table",null,[Object(s["h"])("caption",va,Object(s["B"])(o.api_data.title),1),Object(s["h"])("thead",null,[_a,Object(s["h"])("tr",null,[Object(s["h"])("th",null,[Object(s["J"])(Object(s["h"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.authorSearch=e}),class:"searchBar",type:"text"},null,512),[[s["G"],o.authorSearch]])]),Object(s["h"])("th",null,[Object(s["J"])(Object(s["h"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.formTypeSearch=e}),class:"searchBar",type:"text"},null,512),[[s["G"],o.formTypeSearch]])]),Object(s["h"])("th",null,[Object(s["J"])(Object(s["h"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.eventTypeSearch=e}),class:"searchBar",type:"text"},null,512),[[s["G"],o.eventTypeSearch]])]),Object(s["h"])("th",null,[Object(s["J"])(Object(s["h"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return o.associateFormSearch=e}),class:"searchBar",type:"text"},null,512),[[s["G"],o.associateFormSearch]])])])])])])):Object(s["e"])("",!0)}var ga={name:"AvailableFormsManagement",components:i,data:function(){return{api_data:void 0,form_responses:[],displayed_sections:[],event:void 0,user:void 0,statuses:{},authorSearch:"",eventSearch:"",formTypeSearch:"",eventTypeSearch:"",associateFormSearch:"",answerStatuses:[],interval:void 0}},created:function(){var e=this;xe.get("form/".concat(this.$route.params.id)).then((function(t){return e.initializeData(t)})).catch((function(e){return console.log(e.response)}));var t="formAnswer/?form=".concat(this.$route.params.id);void 0!==this.$route.query.event&&(t=t.concat("&event=").concat(this.$route.query.event),xe.get("event/".concat(this.$route.query.event)).then((function(t){return e.event=t.data.name})).catch((function(e){return console.log(e.response)}))),void 0!==this.$route.query.user&&(t=t.concat("&user=").concat(this.$route.query.user),xe.get("user/".concat(this.$route.query.user)).then((function(t){return e.user=t.data.username}))),xe.get(t).then((function(t){return e.initializeAnswers(t)})),xe.get("answerStatus/").then((function(t){e.statuses=t.data})),this.getStatuses()},methods:{getStatuses:function(){var e=this;xe.get("formAnswerStatus/").then((function(t){e.answerStatuses=t.data}))},changeStatus:function(e,t){var n=this,i={method:"put",url:"/formAnswerStatus/"+e+"/",headers:{"X-CSRFToken":this.getCookie("csrftoken")},data:{status:t},transformResponse:[function(e){return n.response=e,e}]};xe(i)},initializeData:function(e){this.api_data=e.data;for(var t=0;t<this.api_data.form.sections.length;){for(var n=0;n<this.api_data.form.sections[t].questions.length;)this.api_data.form.sections[t].questions[n].properties.field_type.includes("_exposition")?this.api_data.form.sections[t].questions.splice(n,1):n++;this.api_data.form.sections[t].questions.length>0?(this.displayed_sections[t]=!0,t++):this.api_data.form.sections.splice(t,1)}},initializeAnswers:function(e){this.form_responses=e.data;for(var t=0;t<this.form_responses.length;t++)for(var n=this.form_responses[t],i=0;i<n.content.sections.length;i++)for(var o=n.content.sections[i],s=0;s<o.length;s++){var a=o[s];if(void 0!==a.answer)if("selectboxes"==a.field_type)for(var r=0;r<a.answer.length;r++){var l=a.answer[r];l===parseInt(l,10)?a.answer[r]=this.api_data.form.sections[i].questions[s].properties.options[l]:a.answer='Outro: "'+a.answer+'"'}else"multiplechoice"==a.field_type?a.answer===parseInt(a.answer,10)?a.answer=this.api_data.form.sections[i].questions[s].properties.options[a.answer]:a.answer='Outro: "'+a.answer+'"':"date"==a.field_type?a.answer=new Date(a.answer).toLocaleDateString():"datetime"==a.field_type&&(a.answer=new Date(a.answer).toLocaleString())}},allFalse:function(){for(var e=0;e<this.displayed_sections.length;e++)if(1==this.displayed_sections[e])return!1;return!0},stringIn:function(e,t){return-1!=e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").indexOf(t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))},filteredResponses:function(){var e=this,t=this.form_responses;""!=this.authorSearch&&(t=t.filter((function(t){return e.stringIn(void 0===t.author?"Anónimo":t.author,e.authorSearch)}))),""!=this.eventSearch&&(t=t.filter((function(t){return!!t.eventName&&e.stringIn(t.eventName,e.eventSearch)}))),""!=this.statusSearch&&(t=t.filter((function(t){return e.stringIn(e.statuses[t.status-1].name,e.statusSearch)})));for(var n=0;n<this.api_data.form.sections.length;n++)if(this.displayed_sections[n])for(var i=this.api_data.form.sections[n],o=0;o<i.questions.length;o++){var s=i.questions[o];s.filter&&""!=s.filter&&(t=t.filter((function(t){return e.stringIn(String(t.content.sections[n][o].answer),s.filter)})))}return t},timeSince:function(e){"object"!==Object(St["a"])(e)&&(e=new Date(e));var t,n=Math.floor((new Date-e)/1e3),i=Math.floor(n/31536e3);return i>=1?t="ano":(i=Math.floor(n/2592e3),i>=1?t="mês":(i=Math.floor(n/86400),i>=1?t="dia":(i=Math.floor(n/3600),i>=1?t="hora":(i=Math.floor(n/60),i>=1?t="minuto":(i=n,t="segundo"))))),(i>1||0===i)&&("mês"==t?t="meses":t+="s"),i+" "+t},getCookie:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var o=n[i].trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t}}};n("d6b7");ga.render=qa;var wa=ga,ya=[{path:"",name:"ViewForms",component:zt},{path:"/respond/:id",name:"CreateResponse",component:Se},{path:"/view_response/:id",name:"View Response",component:Ee},{path:"/edit_response/:id",name:"Edit Response",component:ct},{path:"/responses/:id",name:"View All Responses",component:Jt},{path:"/createForm",name:"Create Form",component:Lo},{path:"/editForm/:id",name:"Edit Form",component:ca},{path:"/formsManagement",name:"Manage Forms",component:ma},{path:"/availableFormsManagement",name:"Manage Available Forms",component:wa}],xa=Object(v["a"])({history:Object(v["b"])("/forms/"),routes:ya}),ka=xa,Sa=n("5502"),Ca=Object(Sa["a"])({state:{},mutations:{},actions:{},modules:{}});Object(s["c"])(O).use(Ca).use(ka).mount("#app")},d6a2:function(e,t,n){},d6b7:function(e,t,n){"use strict";n("5cdb")},da3f:function(e,t,n){},db79:function(e,t,n){},e5f0:function(e,t,n){"use strict";n("a1f4")},f49f:function(e,t,n){},f4be:function(e,t,n){"use strict";n("f49f")},ff60:function(e,t,n){}});
//# sourceMappingURL=app.9ca02b0d.js.map