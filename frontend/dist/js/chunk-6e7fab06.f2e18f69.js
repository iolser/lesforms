(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e7fab06"],{"4bcc":function(e,t,c){},"7f3c":function(e,t,c){"use strict";c.r(t);c("b0c0");var a=c("7a23"),s={key:0,id:"responses",class:"table-container box"},o={class:"table is-striped is-hoverable is-fullwidth",style:{border:"1px solid #dbdbdb"}},n=Object(a["createVNode"])("caption",{class:"mb-0 p-2"},[Object(a["createVNode"])("span",{class:"title"},"Os meus eventos")],-1),r={key:0,style:{"text-align":"center","vertical-align":"middle"}},l=Object(a["createVNode"])("th",{style:{"text-align":"center","vertical-align":"middle"}}," Estado ",-1),i=Object(a["createVNode"])("th",{style:{"text-align":"center","vertical-align":"middle"}}," Gestão ",-1),d={key:0,class:"p-0"},u={class:"field"},b={class:"control has-icons-left"},O=Object(a["createVNode"])("span",{class:"icon is-small is-left"},[Object(a["createVNode"])("i",{class:"fas fa-search"})],-1),j={class:"p-0"},p={class:"field"},m={class:"control has-icons-left"},h=Object(a["createVNode"])("span",{class:"icon is-small is-left"},[Object(a["createVNode"])("i",{class:"fas fa-search"})],-1),f=Object(a["createVNode"])("th",null,null,-1),v={key:0},k={key:0},N=Object(a["createVNode"])("td",{colspan:"3",class:"subtitle",align:"center"}," Não tem nenhum evento aprovado. ",-1),V={key:0},y={key:1,style:{"vertical-align":"middle"},align:"center"},B={key:0,class:"is-danger connection-error"},g={key:1,class:"flex column vca p-0"},S={key:1,class:"mb-2 is-size-5 flex row vca"},w={class:"mr-2"},x={key:2},_={align:"center"},C={key:1},R={style:{height:"50px"}},F=Object(a["createVNode"])("td",null,null,-1),A={key:0},D=Object(a["createVNode"])("td",null,null,-1),E={style:{height:"50px"}},T=Object(a["createVNode"])("td",null,null,-1),M={key:0},P=Object(a["createVNode"])("td",null,null,-1),q={style:{height:"50px"}},z=Object(a["createVNode"])("td",null,null,-1),G={key:0},J=Object(a["createVNode"])("td",null,null,-1),U={style:{height:"50px"}},H=Object(a["createVNode"])("td",null,null,-1),L={key:0},X=Object(a["createVNode"])("td",null,null,-1);function I(e,t,c,I,K,Q){return K.form_responses?(Object(a["openBlock"])(),Object(a["createBlock"])("div",s,[Object(a["createVNode"])("table",o,[n,Object(a["createVNode"])("thead",null,[Object(a["createVNode"])("tr",null,[K.event?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])("th",r," Evento ")),l,i]),Object(a["createVNode"])("tr",null,[K.event?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])("th",d,[Object(a["createVNode"])("div",u,[Object(a["createVNode"])("div",b,[Object(a["withDirectives"])(Object(a["createVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return K.eventSearch=e}),type:"text",class:"input is-info is-small m-0",placeholder:"Pesquisar por evento"},null,512),[[a["vModelText"],K.eventSearch]]),O])])])),Object(a["createVNode"])("th",j,[Object(a["createVNode"])("div",p,[Object(a["createVNode"])("div",m,[Object(a["withDirectives"])(Object(a["createVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return K.statusSearch=e}),type:"text",class:"input is-info is-small m-0",placeholder:"Pesquisar por estado (Submetida / Validada)"},null,512),[[a["vModelText"],K.statusSearch]]),h])])]),f])]),K.form_responses?(Object(a["openBlock"])(),Object(a["createBlock"])("tbody",v,[0==K.form_responses.length?(Object(a["openBlock"])(),Object(a["createBlock"])("tr",k,[N])):Object(a["createCommentVNode"])("",!0),(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(Q.filteredResponses(),(function(e,t){var c,s;return Object(a["openBlock"])(),Object(a["createBlock"])("tr",{key:t},[K.event?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])("td",V,Object(a["toDisplayString"])(e.eventName),1)),K.statuses?(Object(a["openBlock"])(),Object(a["createBlock"])("td",y,["error"===K.loading_status[e.id]?(Object(a["openBlock"])(),Object(a["createBlock"])("span",B," Houve um erro de conexão. Por favor recarregue a página. ")):(Object(a["openBlock"])(),Object(a["createBlock"])("div",g,["Cancelada"==(null===(c=K.statuses)||void 0===c?void 0:c[K.answerStatuses[e.id]].name)?(Object(a["openBlock"])(),Object(a["createBlock"])("a",{key:0,class:"mb-2 is-size-5 flex row vca",href:"/forms/respond/"+e.form+"?event="+e.event},"Cancelada (Editar)",8,["href"])):(Object(a["openBlock"])(),Object(a["createBlock"])("span",S,[Object(a["createVNode"])("span",w,Object(a["toDisplayString"])(null===(s=K.statuses)||void 0===s?void 0:s[K.answerStatuses[e.id]].name),1)]))]))])):(Object(a["openBlock"])(),Object(a["createBlock"])("td",x," A carregar... ")),Object(a["createVNode"])("td",_,[2==e.status?(Object(a["openBlock"])(),Object(a["createBlock"])("a",{key:0,class:"button is-primary",href:"/forms/chooseForm/"+e.event},"Gerir Formulários e Modelos",8,["href"])):Object(a["createCommentVNode"])("",!0)])])})),128))])):(Object(a["openBlock"])(),Object(a["createBlock"])("tbody",C,[Object(a["createVNode"])("tr",R,[F,K.event?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])("td",A)),D]),Object(a["createVNode"])("tr",E,[T,K.event?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])("td",M)),P]),Object(a["createVNode"])("tr",q,[z,K.event?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])("td",G)),J]),Object(a["createVNode"])("tr",U,[H,K.event?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])("td",L)),X])]))])])):Object(a["createCommentVNode"])("",!0)}var K=c("1da1"),Q=(c("4de4"),c("96cf"),c("3f6f")),W=c("c427"),Y=c("69d9"),Z={name:"ViewAllResponses",components:Q,data:function(){return{form_responses:void 0,displayed_sections:[],event:void 0,user:void 0,statuses:void 0,eventSearch:"",statusSearch:"",answerStatuses:[],interval:void 0,loading_status:{}}},created:function(){var e=this;document.title="Os meus eventos";var t="myEvents/?type=2";W["a"].get(t).then(function(){var t=Object(K["a"])(regeneratorRuntime.mark((function t(c){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.form_responses=c.data;case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),W["a"].get("answerStatus/").then((function(t){e.statuses=t.data})),this.getStatuses()},methods:{getStatuses:function(){var e=this;W["a"].get("formAnswerStatus/").then((function(t){e.answerStatuses=t.data}))},changeStatus:function(e,t){this.loading_status[e]="loading",setTimeout(this.patchStatus.bind(this,e,t),0)},patchStatus:function(e,t){var c=this,a={method:"patch",url:"/formAnswerStatus/"+e+"/",headers:{"X-CSRFToken":Object(Y["b"])("csrftoken")},data:{status:t},transformResponse:[function(e){return c.response=e,e}]};Object(W["a"])(a).then((function(){return c.loading_status[e]=void 0})).catch((function(t){console.log(t),c.loading_status[e]="error",c.answerStatuses[e]="error"}))},allFalse:function(){for(var e=0;e<this.displayed_sections.length;e++)if(1==this.displayed_sections[e])return!1;return!0},filteredResponses:function(){var e=this,t=this.form_responses;return""!=this.eventSearch&&(t=t.filter((function(t){return!!t.eventName&&Object(Y["e"])(t.eventName,e.eventSearch)}))),""!=this.statusSearch&&(t=t.filter((function(t){return Object(Y["e"])(e.statuses[e.answerStatuses[t.id]].name,e.statusSearch)}))),t},timeSince:Y["f"]}};c("ed2e");Z.render=I;t["default"]=Z},ed2e:function(e,t,c){"use strict";c("4bcc")}}]);
//# sourceMappingURL=chunk-6e7fab06.f2e18f69.js.map