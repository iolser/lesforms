{"version":3,"sources":["webpack:///./src/components/Submit.vue","webpack:///./src/components/Submit.vue?5c3e","webpack:///./src/components/Notification.vue","webpack:///./src/components/Notification.vue?db3c","webpack:///./src/views/CreateResponse.vue?9698","webpack:///./src/views/CreateResponse.vue?91ba","webpack:///./src/views/CreateResponse.vue?12bb","webpack:///./src/views/CreateResponse.vue?9275"],"names":["class","error","floatBottom","message","errorMessage","duration","errorDuration","bottom","$emit","successMessage","successDuration","name","mode","hide","confirmingCancel","cancelConfirmation","confirmingSubmit","submitConfirmation","type","loading","redGreen","cancel","undefined","cancelText","cancelConfButton","submitConfButton","submit","submitText","components","Notification","data","props","methods","this","watch","immediate","handler","render","deactivate","active","emits","mounted","Promise","r","setTimeout","ref","style","api_data","event","form","available","title","cannotEdit","back","id","method","sections","element","index","key","section","hide_section_numbers","section_name","length","questions","question","questionIndex","set","qid","required","for","properties","field_type","question-index","section-index","value","content","answer","updateAnswer","submit_message","response","error-message","success-duration","success-message","success","submit-text","cancel-text","cancel-confirmation","cancel-conf-button","leave","Object","assign","Submit","fields","created","document","$route","query","window","location","href","all","get","concat","params","then","catch","formsignupid","formfeedbackid","status","console","log","initializeData","$router","$nextTick","$refs","scrollIntoView","behavior","url","options","headers","transformResponse","JSON","parse","resolve","redirect_delay","redirect","sectionIndex","__scopeId"],"mappings":"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","file":"js/chunk-b98719fa.a7371f85.js","sourcesContent":["<template>\r\n  <div>\r\n    <div\r\n      v-if=\"error\"\r\n      class=\"flex row ca snackbar ontop\"\r\n      :class=\"floatBottom ? 'bottom' : 'top'\"\r\n    >\r\n      <Notification\r\n        :message=\"errorMessage\"\r\n        :duration=\"errorDuration\"\r\n        :bottom=\"floatBottom\"\r\n        class=\"is-danger subtitle\"\r\n        @deleted=\"$emit('dismissed')\"\r\n      />\r\n    </div>\r\n    <div\r\n      v-else-if=\"successMessage\"\r\n      class=\"flex row ca snackbar ontop\"\r\n      :class=\"floatBottom ? 'bottom' : 'top'\"\r\n    >\r\n      <Notification\r\n        :message=\"successMessage\"\r\n        :bottom=\"floatBottom\"\r\n        :duration=\"successDuration\"\r\n        class=\"is-success is-light\"\r\n        @deleted=\"$emit('dismissed')\"\r\n      />\r\n    </div>\r\n    <transition\r\n      name=\"slide-fade-bottom\"\r\n      mode=\"out-in\"\r\n    >\r\n      <div\r\n        v-if=\"!hide\"\r\n        class=\"flex row ca\"\r\n        :class=\"{'snackbar bottom' : floatBottom}\"\r\n      >\r\n        <div :class=\"{'box has-background-link-dark' : floatBottom}\">\r\n          <span\r\n            v-if=\"confirmingCancel\"\r\n            class=\"level\"\r\n            :class=\"{'has-text-light' : floatBottom}\"\r\n            v-html=\"cancelConfirmation\"\r\n          />\r\n          <span\r\n            v-if=\"confirmingSubmit\"\r\n            class=\"level\"\r\n            :class=\"{'has-text-light' : floatBottom}\"\r\n            v-html=\"submitConfirmation\"\r\n          />\r\n          <div\r\n            class=\"field is-grouped is-grouped-centered\"\r\n          >\r\n            <div class=\"control\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"button\"\r\n                :class=\"{'is-loading' : loading === true, 'is-link is-light' : !redGreen, 'is-danger is-light' : redGreen}\"\r\n                @click=\"cancel()\"\r\n              >\r\n                {{ cancelText === undefined || confirmingCancel ? 'Cancelar' : cancelText }}\r\n              </button>\r\n            </div>\r\n            <div\r\n              v-if=\"confirmingCancel\"\r\n              class=\"control\"\r\n            >\r\n              <button\r\n                type=\"button\"\r\n                class=\"button is-danger\"\r\n                :class=\"{'is-loading' : loading === true}\"\r\n                @click=\"confirmingCancel = false; this.$emit('leave');\"\r\n              >\r\n                {{ cancelConfButton !== undefined ? cancelConfButton : 'Confirmar' }}\r\n              </button>\r\n            </div>\r\n            <div\r\n              v-else-if=\"confirmingSubmit\"\r\n              class=\"control\"\r\n            >\r\n              <button\r\n                type=\"submit\"\r\n                class=\"button is-success\"\r\n                :class=\"{'is-loading' : loading === true}\"\r\n              >\r\n                {{ submitConfButton !== undefined ? submitConfButton : 'Confirmar' }}\r\n              </button>\r\n            </div>\r\n            <div\r\n              v-else\r\n              class=\"control\"\r\n            >\r\n              <button\r\n                :type=\"submitConfirmation ? 'button' : 'submit'\"\r\n                class=\"button\"\r\n                :class=\"{'is-loading' : loading === true, 'is-link' : !redGreen, 'is-success is-light' : redGreen}\"\r\n                @click=\"submit()\"\r\n              >\r\n                {{ submitText !== undefined ? submitText : 'Submeter' }}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Notification from './Notification.vue';\r\n  export default {\r\n    components: { Notification },\r\n    name: \"Submit\",\r\n    data() {\r\n      return {\r\n        confirmingCancel : false,\r\n        confirmingSubmit : false\r\n      }\r\n    },\r\n    props : [\"error\", \"errorMessage\", \"errorDuration\",\r\n             \"loading\", \r\n             \"successMessage\", \"successDuration\",\r\n             \"submitText\", \"cancelText\", \r\n             \"redGreen\", \"hide\", \"floatBottom\",\r\n             \"cancelConfirmation\", \"submitConfirmation\",\r\n             \"cancelConfButton\", \"submitConfButton\"],\r\n    methods: {\r\n      cancel() {\r\n        if (this.cancelConfirmation) {\r\n          if (this.confirmingCancel) {\r\n            this.confirmingCancel = false;\r\n          }\r\n          else if (this.confirmingSubmit) {\r\n            this.confirmingSubmit = false;\r\n          }\r\n          else\r\n            this.confirmingCancel = true;\r\n        }\r\n        else\r\n          this.$emit('leave');\r\n      },\r\n      submit() {\r\n        if (this.submitConfirmation)\r\n          this.confirmingSubmit = true;\r\n        // submit is html implicit\r\n      }\r\n    },\r\n    watch : {\r\n      error : {\r\n        immediate: true, \r\n        handler () {\r\n          this.confirmingCancel = false;\r\n          this.confirmingSubmit = false;\r\n        }\r\n      },\r\n      successMessage : {\r\n        immediate: true, \r\n        handler () {\r\n          this.confirmingCancel = false;\r\n          this.confirmingSubmit = false;\r\n        }\r\n      }\r\n    }\r\n  };\r\n</script>","import { render } from \"./Submit.vue?vue&type=template&id=2f01b26c\"\nimport script from \"./Submit.vue?vue&type=script&lang=js\"\nexport * from \"./Submit.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n  <transition\r\n    :name=\"bottom ? 'slide-fade-bottom' : 'slide-fade'\"\r\n    class=\"box notification\"\r\n    mode=\"out-in\"\r\n  >\r\n    <span v-show=\"active\">\r\n      <button\r\n        type=\"button\"\r\n        class=\"delete\"\r\n        @click=\"deactivate()\"\r\n      />\r\n      {{ message }}\r\n    </span>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"Notification\",\r\n    props : [\"message\", \"duration\", \"bottom\"],\r\n    emits : [\"deleted\"],\r\n    data() {\r\n      return {\r\n        active : false\r\n      }\r\n    },\r\n    async mounted() {\r\n      this.active = true;\r\n      if (this.duration) {\r\n        await new Promise(r => setTimeout(r, this.duration));\r\n        this.deactivate();\r\n      }\r\n    },\r\n\r\n    methods : {\r\n      async deactivate() {\r\n        this.active = false;\r\n        await new Promise(r => setTimeout(r, 500));\r\n        this.$emit('deleted');\r\n      }\r\n    }\r\n  };\r\n</script>","import { render } from \"./Notification.vue?vue&type=template&id=585e66ea\"\nimport script from \"./Notification.vue?vue&type=script&lang=js\"\nexport * from \"./Notification.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CreateResponse.vue?vue&type=style&index=0&id=0d3a01f0&scoped=true&lang=scss\"","<template>\r\n  <div\r\n    v-if=\"api_data && event && form && available\"\r\n    class=\"box\"\r\n  >\r\n    <h1\r\n      ref=\"formtitle\"\r\n      class=\"title\"\r\n    >\r\n      {{ api_data.title }}<template v-if=\"event\">\r\n        ({{ event.name }})\r\n      </template>\r\n    </h1>\r\n    <hr>\r\n    <div\r\n      v-if=\"cannotEdit\"\r\n      class=\"flex column\"\r\n    >\r\n      <span class=\"flex row ca subtitle mt-3 mb-6\">Não consegue editar este formulário de momento.</span>\r\n      <button\r\n        type=\"button\"\r\n        class=\"button is-primary\"\r\n        @click=\"back()\"\r\n      >\r\n        Voltar\r\n      </button>\r\n    </div>\r\n    <form\r\n      v-else\r\n      id=\"form-area\"\r\n      class=\"flex column\"\r\n      method=\"post\"\r\n      @submit.prevent=\"submit\"\r\n    >\r\n      <ul class=\"steps has-content-centered mb-0\">\r\n        <li\r\n          v-for=\"(element, index) in api_data.form.sections\"\r\n          :key=\"element.id\"\r\n          class=\"steps-segment is-primary\"\r\n          :class=\"{'is-active' : section == index, 'has-gaps' : section <= index}\"\r\n        >\r\n          <span class=\"steps-marker\"><template v-if=\"!api_data.form.hide_section_numbers\">{{ index+1 }}</template></span>\r\n          <div class=\"steps-content\">\r\n            <p :class=\"{'has-text-weight-bold' : section == index}\">\r\n              {{ element.section_name }}\r\n            </p>\r\n          </div>\r\n        </li>\r\n        <li\r\n          class=\"steps-segment is-primary\"\r\n          :class=\"{'is-active' : section == api_data.form.sections.length}\"\r\n        >\r\n          <span class=\"steps-marker\"><template v-if=\"!api_data.form.hide_section_numbers\"> {{ api_data.form.sections.length+1 }} </template></span>\r\n          <div class=\"steps-content\">\r\n            <p>\r\n              Concluída\r\n            </p>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n      <div\r\n        v-if=\"section < api_data.form.sections.length\"\r\n        class=\"box\"\r\n      >\r\n        <div\r\n          v-for=\"(question, questionIndex) in api_data.form.sections[section].questions\"\r\n          :key=\"question.id\"\r\n          :set=\"(qid = 's' + section + '_q' + questionIndex)\"\r\n        >\r\n          <label\r\n            class=\"label\"\r\n            :class=\"{'required' : question.required}\"\r\n            :for=\"qid\"\r\n          >\r\n            <span\r\n              v-if=\"\r\n                !api_data.form.hide_question_numbers &&\r\n                  !api_data.form.sections[section].hide_question_numbers\r\n              \"\r\n            >{{ questionIndex + 1 }}. </span>{{ question.question\r\n            }}</label>\r\n          <component\r\n            :is=\"question.properties.field_type\"\r\n            :question=\"question\"\r\n            :question-index=\"questionIndex\"\r\n            :section-index=\"section\"\r\n            :value=\"form.content.sections[section][questionIndex].answer\"\r\n            :qid=\"qid\"\r\n            @update=\"updateAnswer\"\r\n          />\r\n          <hr\r\n            v-if=\"questionIndex < api_data.form.sections[section].questions.length-1\"\r\n            class=\"mt-4 mb-4\"\r\n            style=\"width: 100%; height: 1px; background-color: #ddd\"\r\n          >\r\n        </div> \r\n      </div>\r\n      <div\r\n        v-else\r\n        v-html=\"api_data.submit_message\"\r\n      />\r\n      <Submit \r\n        :error=\"response && response.id === undefined\"\r\n        error-message=\"Houve um erro na submissão do formulário.\"\r\n        success-duration=\"3000\"\r\n        :success-message=\"success\"\r\n        :loading=\"loading\"\r\n        :submit-text=\"section < api_data.form.sections.length-1 ? 'Seguinte' : 'Submeter'\"\r\n        :cancel-text=\"section > 0 ? 'Anterior' : 'Sair'\"\r\n        :cancel-confirmation=\"section == 0 ? 'Deseja sair?&nbsp;<b>A sua resposta não será guardada.</br>' : undefined\"\r\n        cancel-conf-button=\"Sair\"\r\n        :hide=\"section == api_data.form.sections.length\"\r\n        @leave=\"leave()\"\r\n        @dismissed=\"response = undefined; success = undefined\"\r\n      />\r\n      <div v-if=\"false\">\r\n        Informação a ser enviada:\r\n        <pre class=\"mt-1 mb-4\"><code>{{ JSON.stringify(form, null, '  ') }}</code></pre>\r\n        <template v-if=\"response\">\r\n          Resposta do servidor: \r\n          <pre class=\"mt-1\"><code>{{ JSON.stringify(response, null, '  ') }}</code></pre>\r\n          <!-- <pre class=\"mt-1\"><code>{{ response }}</code></pre> -->\r\n          <iframe\r\n            name=\"result\"\r\n            allow=\"midi; geolocation; microphone; camera; display-capture; encrypted-media;\"\r\n            sandbox=\"allow-modals allow-forms allow-scripts allow-same-origin allow-popups allow-top-navigation-by-user-activation allow-downloads\"\r\n            allowfullscreen=\"\"\r\n            allowpaymentrequest=\"\"\r\n            frameborder=\"0\"\r\n            style=\"width: 100%; height: 50vh;\"\r\n            :srcdoc=\"response\"\r\n          />\r\n        </template>\r\n      </div>\r\n    </form>\r\n  </div>\r\n  <div\r\n    v-else\r\n    class=\"flex column box ca vca\"\r\n    style=\"height: 50vh;\"\r\n  >\r\n    <span class=\"title mb-4\">A carregar formulário</span>\r\n    <span\r\n      class=\"loader mt-4\"\r\n      style=\"width: 100px; height: 100px;\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as fields from \"@/fields\";\r\nimport { API } from \"@/http-common\";\r\nimport { getCookie } from \"@/common.js\"\r\nimport Submit from \"@/components/Submit.vue\"\r\nexport default {\r\n  name: \"CreateResponse\",\r\n  components : Object.assign({}, {Submit}, fields),\r\n  data() {\r\n    return {\r\n      api_data: undefined,\r\n      form : undefined,\r\n      response: undefined,\r\n      event: undefined,\r\n      section : 0,\r\n      success : undefined,\r\n      loading : false,\r\n      cannotEdit : false,\r\n      available : true\r\n    };\r\n  },\r\n  async created() {\r\n    document.title = \"Resposta de Formulário\"\r\n    if (!this.$route.query.event) {\r\n      window.location.href = \"/forms/notfound\";\r\n    }\r\n    await Promise.all([\r\n      API.get(\"form/\".concat(this.$route.params.id))\r\n        .then((response) => this.api_data = response.data).catch(() => window.location.href = \"/forms/badrequest\"),\r\n      API.get(\"event/\".concat(this.$route.query.event))\r\n        .then((response) => {this.event = response.data}).catch(() => window.location.href = \"/forms/badrequest\")\r\n      ]\r\n    )\r\n    if (this.api_data.type != 2 && this.event?.formsignupid != this.$route.params.id && this.event?.formfeedbackid != this.$route.params.id)\r\n      window.location.href = \"/forms/badrequest\";\r\n    await API.get(\"myFormAnswer/?form=\".concat(this.$route.params.id).concat(\"&event=\").concat(this.$route.query.event))\r\n        .then((response) =>\r\n            {\r\n              if (response.data[0]) {\r\n                this.form = response.data[0]; \r\n                if(this.form.status != 3) \r\n                  this.cannotEdit = true;\r\n              }\r\n              else {\r\n                console.log(\"new form\")\r\n                this.available = false;\r\n                this.form = {\r\n                  content : { sections : []},\r\n                  form: this.api_data.id,\r\n                  event: this.event.id\r\n                };\r\n                this.initializeData();\r\n                this.available = true;             \r\n              }\r\n            }\r\n        );      \r\n  },\r\n  methods: {\r\n    back() {\r\n      if (window.length == 0)\r\n        window.location.href = \"/\"\r\n      else\r\n        this.$router.back()\r\n    },\r\n    leave() {\r\n      if (this.section > 0) {\r\n        this.section--;\r\n        this.$nextTick(() => this.$refs['formtitle'].scrollIntoView({behavior: 'smooth'}));\r\n      }\r\n      else\r\n        location.href='/forms'\r\n    },\r\n    submit() {\r\n      if (this.section < this.api_data.form.sections.length-1) {\r\n        this.section++;\r\n        this.$nextTick(() => this.$refs['formtitle'].scrollIntoView({behavior: 'smooth'}));\r\n      }\r\n      else {\r\n        this.loading = true;\r\n        var method;\r\n        var url;\r\n        var successMessage;\r\n        if (this.form.id === undefined)  {\r\n          method = \"post\";\r\n          url = \"/myFormAnswer/\";\r\n          successMessage = \"A resposta foi enviada com sucesso.\";\r\n          }\r\n        else {\r\n          method = \"put\";\r\n          url = \"/myFormAnswer/\".concat(this.form.id).concat(\"/\");\r\n          successMessage = \"A resposta foi editada com sucesso.\";\r\n        }\r\n        var options = {\r\n          method : method,\r\n          url : url,\r\n          headers: {\r\n            \"X-CSRFToken\": getCookie(\"csrftoken\"),\r\n          },\r\n          data: this.form,\r\n          transformResponse: [\r\n            async (data) => {\r\n              this.loading = undefined;\r\n              try {\r\n                this.response = JSON.parse(data);\r\n                this.form = this.response;\r\n                this.success = successMessage;\r\n                this.section++;\r\n                await new Promise(resolve => setTimeout(resolve, this.api_data.redirect_delay*1000));\r\n                location.href = this.api_data.redirect;\r\n              } catch (e) {this.response = data;}\r\n              return this.response;\r\n            },\r\n          ],\r\n        };\r\n        API(options);\r\n      }\r\n    },\r\n    updateAnswer(value) {\r\n      this.form.content.sections[value.sectionIndex][value.questionIndex][\"answer\"] = value[\"answer\"];\r\n    },\r\n    initializeData() {\r\n      for (var section in this.api_data.form.sections) {\r\n        this.form.content.sections[section] = [];\r\n        for (var question in this.api_data.form.sections[section].questions) {\r\n          this.form.content.sections[section][question] = {\r\n            field_type : this.api_data.form.sections[section].questions[question].properties[\"field_type\"],\r\n          };\r\n        }\r\n      }\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style scoped lang=\"scss\">\r\n  $primary : #3273dc;\r\n  @import \"@/styles/bulma-steps.min.scss\";\r\n\r\n  .steps:not(.is-hollow) .steps-segment.is-active .steps-marker:not(.is-hollow) {\r\n    background-color: $primary;\r\n  }\r\n\r\n  .steps:not(.is-hollow) .steps-marker:not(.is-hollow),\r\n  .steps-segment:after {\r\n    background-color:darken($primary, 35%);\r\n  }\r\n\r\n  .steps-segment:after {\r\n    box-sizing: content-box;\r\n    margin: 0 !important;\r\n  }\r\n  \r\n</style>\r\n\r\n<style lang=\"scss\">\r\n  @import '@/styles/flex-styles.scss';\r\n  @import '@/styles/global-styles.scss';\r\n</style>","import { render } from \"./CreateResponse.vue?vue&type=template&id=0d3a01f0&scoped=true\"\nimport script from \"./CreateResponse.vue?vue&type=script&lang=js\"\nexport * from \"./CreateResponse.vue?vue&type=script&lang=js\"\n\nimport \"./CreateResponse.vue?vue&type=style&index=0&id=0d3a01f0&scoped=true&lang=scss\"\nimport \"./CreateResponse.vue?vue&type=style&index=1&id=0d3a01f0&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-0d3a01f0\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CreateResponse.vue?vue&type=style&index=1&id=0d3a01f0&lang=scss\""],"sourceRoot":""}